;var dbnextPaymentsModule=angular.module("dbnext-payments",["ebanking-shared"]).config(["translationsLoaderProvider","$urlRouterProvider","guiProvider","pathServiceProvider","stateServiceProvider","resourceViewServiceProvider","resourceCreationFormServiceProvider",function(a,b,c,d,e,f,g){var h="de",i="dbnext",j="payments",k=i+"."+j,l=i+"-"+j,m=h+"."+j;webComponentRegistry[l].simpleName=j,webComponentRegistry[l].startState=m+".content.active",c.registerElement(l),c.registerElement(l,"menu");var n={resourceType:"payments",linkTextKey:"db.payments.external_link.details",linkEntryState:m+".content.details"};f.registerResourceView(n);var o={resourceType:"payments",linkTextKey:"db.payments.external_link.new_transfer",linkEntryState:m+".form."};g.registerResourceCreationForm(o),a.addTranslationsPath(d.generateRootPath(l)+"/i18n/messages_{{language}}.json"),b.when("/"+h+"/"+j,"/"+h+"/"+j+"/content"),e.state(h,{url:"/"+h,abstract:!0,template:"<div ui-view></div>"}).state(m,{url:"/"+j,abstract:!0,templateUrl:d.generateTemplatePath(l)+"/views/paymentsView.html",controller:k+".ViewController"}).state(m+".content",{url:"/content",templateUrl:d.generateTemplatePath(l)+"/views/paymentsContent.html",controller:k+".ContentController"}).state(m+".content.active",{url:"/active",templateUrl:d.generateTemplatePath(l)+"/views/paymentsContentTab.html",controller:k+".ActivePaymentsContentController"}).state(m+".content.rejected",{url:"/rejected",templateUrl:d.generateTemplatePath(l)+"/views/paymentsContentTab.html",controller:k+".RejectedPaymentsContentController"}).state(m+".content.terminated",{url:"/terminated",templateUrl:d.generateTemplatePath(l)+"/views/paymentsContentTab.html",controller:k+".TerminatedPaymentsContentController"}).state(m+".form",{url:"/form",templateUrl:d.generateTemplatePath(l)+"/views/paymentsForm.html",controller:k+".FormController",abstract:!0}).state(m+".form.domestic",{url:"/domestic",templateUrl:d.generateTemplatePath(l)+"/views/paymentsFormDomestic.html"}).state(m+".form.own",{url:"/own",templateUrl:d.generateTemplatePath(l)+"/views/paymentsFormOwn.html"}).state(m+".form.sepa",{url:"/sepa",templateUrl:d.generateTemplatePath(l)+"/views/paymentsFormSepa.html"}).state(m+".form.swift",{url:"/swift",templateUrl:d.generateTemplatePath(l)+"/views/paymentsFormSwift.html"}).state(m+".form.insurance",{url:"/insurance",templateUrl:d.generateTemplatePath(l)+"/views/paymentsFormInsurance.html"}).state(m+".form.tax",{url:"/tax",templateUrl:d.generateTemplatePath(l)+"/views/paymentsFormTax.html"}).state(m+".content.details",{url:"/:id/details",templateUrl:d.generateTemplatePath(l)+"/views/paymentsDetails.html",controller:k+".DetailsController",previous:[m+".content.active",m+".content.rejected",m+".content.terminated",h+".notifications.details",h+".calendar.details",h+".cart.content"]}).state(m+".accept",{url:"/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAccept.html",controller:k+".AcceptController",abstract:!0}).state(m+".accept.domestic",{url:"/:dispositionId/domestic",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptDomestic.html",previous:[m+".form.domestic",h+".cart.content"]}).state(m+".accept.own",{url:"/:dispositionId/own",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptOwn.html",previous:[m+".form.own",h+".cart.content"]}).state(m+".accept.sepa",{url:"/:dispositionId/sepa",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptSepa.html",previous:[m+".form.sepa",h+".cart.content"]}).state(m+".accept.swift",{url:"/:dispositionId/swift",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptSwift.html",previous:[m+".form.swift",h+".cart.content"]}).state(m+".accept.insurance",{url:"/:dispositionId/insurance",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptInsurance.html",previous:[m+".form.insurance",h+".cart.content"]}).state(m+".accept.tax",{url:"/:dispositionId/tax",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptTax.html",previous:[m+".form.tax",h+".cart.content"]}).state(m+".accept.card_debt",{url:"/:dispositionId/card_debt",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptCardDebt.html",previous:[m+".form.card_debt",h+".cart.content"]}).state(m+".accept.repayment",{url:"/:dispositionId/repayment",templateUrl:d.generateTemplatePath(l)+"/views/paymentsAcceptRepayment.html",previous:[m+".form.repayment",h+".cart.content"]}).state(m+".templates",{url:"/templates",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplates.html",controller:k+".TemplatesController"}).state(m+".templateDetails",{url:"/templates/:templateId/details",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateDetails.html",controller:k+".TemplateDetailsController",previous:[m+".templates"]}).state(m+".templateDelete",{url:"/templates/:templateId/delete",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateDelete.html",controller:k+".TemplateDeleteController",previous:[m+".templates"]}).state(m+".templateForm",{url:"/templates/form",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateForm.html",controller:k+".TemplateFormController",abstract:!0}).state(m+".templateForm.domestic",{url:"/domestic",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateDomesticForm.html"}).state(m+".templateForm.sepa",{url:"/sepa",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateSepaForm.html"}).state(m+".templateForm.swift",{url:"/swift",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateSwiftForm.html"}).state(m+".templateForm.insurance",{url:"/insurance",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateInsuranceForm.html"}).state(m+".templateForm.tax",{url:"/tax",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateTaxForm.html"}).state(m+".acceptTemplate",{url:"/templates/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateAcceptForm.html",controller:k+".TemplateAcceptController",abstract:!0}).state(m+".acceptTemplate.domestic",{url:"templates/:templateOrderId/domestic/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateDomesticAcceptForm.html",previous:[m+".templateForm.domestic"]}).state(m+".acceptTemplate.sepa",{url:"templates/:templateOrderId/sepa/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateSepaAcceptForm.html",previous:[m+".templateForm.sepa"]}).state(m+".acceptTemplate.swift",{url:"templates/:templateOrderId/swift/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateSwiftAcceptForm.html",previous:[m+".templateForm.swift"]}).state(m+".acceptTemplate.insurance",{url:"templates/:templateOrderId/insurance/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateInsuranceAcceptForm.html",previous:[m+".templateForm.insurance"]}).state(m+".acceptTemplate.tax",{url:"templates/:templateOrderId/tax/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsTemplateTaxAcceptForm.html",previous:[m+".templateForm.tax"]}).state(m+".modify",{url:"/modify",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyForm.html",controller:k+".ModificationFormController",abstract:!0}).state(m+".modify.domestic",{url:"/form/domestic",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyDomestic.html"}).state(m+".modify.own",{url:"/form/own",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyDomestic.html"}).state(m+".modify.insurance",{url:"/form/insurance",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyInsurance.html"}).state(m+".modify.tax",{url:"/form/tax",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyTax.html"}).state(m+".modify.card_debt",{url:"/form/card_debt",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyDomestic.html"}).state(m+".acceptModify",{url:"/modify/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyAcceptForm.html",controller:k+".ModificationAcceptController",abstract:!0}).state(m+".acceptModify.domestic",{url:"/modify/:modificationDispositionId/domestic/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyDomesticAccept.html",previous:[m+".modify.domestic",m+".modify.card_debt",m+".content.active",m+".content.rejected",m+".content.terminated",h+".cart.content"]}).state(m+".acceptModify.insurance",{url:"/modify/:modificationDispositionId/insurance/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyInsuranceAccept.html",previous:[m+".modify.insurance",m+".content.active",m+".content.rejected",m+".content.terminated",h+".cart.content"]}).state(m+".acceptModify.tax",{url:"/modify/:modificationDispositionId/tax/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyTaxAccept.html",previous:[m+".modify.tax",m+".content.active",m+".content.rejected",m+".content.terminated",h+".cart.content"]}).state(m+".acceptModify.own",{url:"/modify/:modificationDispositionId/own/accept",templateUrl:d.generateTemplatePath(l)+"/views/paymentsModifyOwnAccept.html",previous:[m+".modify.own",m+".content.active",m+".content.rejected",m+".content.terminated",h+".cart.content"]}).state(m+".cancel",{url:"/cancel",templateUrl:d.generateTemplatePath(l)+"/views/paymentsCancelForm.html",controller:k+".CancelController",previous:[m+".content.active",m+".content.rejected",m+".content.terminated",h+".cart.content"]})}]).run(["$rootScope","$state","$modalStack","$interval","logoutService","checkingNumberService","notificationService","sessionService",function(a,b,c,d,e,f,g,h){a.$on("$stateChangeStart",function(a,d,e,f,g){var h=f.name,i=d.name;""!=h&&angular.isDefined(d.previous)&&d.previous.indexOf(h)==-1&&(a.preventDefault(),i.indexOf(webComponentRegistry["dbnext-payments"].simpleName)!=-1&&b.go(webComponentRegistry["dbnext-payments"].startState));var j=c.getTop();j&&c.dismiss(j.key)}),f.relationGet(null,{},"get_checking_number").then(function(a){function b(){var b=angular.element(document.querySelector("#genuide")).eq(0),c="X"+a.checkingNumber.replace(/\s+/g,"").substring(0,25);0!=b.text().indexOf(c)&&h&&(h=!1,g.showVBKlipDialog({text:{confirmationText:"db.payments.common.error.vbklip",title:"db.payments.common.error.vbklip.title",cancel:"db.layout.left_menu.logout"}}))}var c=angular.element(document.querySelector("body")).eq(0),e='<span id="genuide" style="display: none; visibility: hidden">X'+a.checkingNumber.replace(/\s+/g,"")+"X</span>",f=angular.element(e);c.append(f);var h=!0;h&&d(b,5e3)})}]);dbnextPaymentsModule.controller("dbnext.payments.AcceptController",["$scope","initialState","paymentType","paymentsService","$state","notificationService","viewStateService","formService","cartCountService","events",function(a,b,c,d,e,f,g,h,i,j){a.isCartIntent=!1,a.currentTabState=g.getInitialState("currentTabState"),null==a.currentTabState&&(a.currentTabState={stateName:"de.payments.content.active"});var b=g.getInitialState(e.current.name);b&&b.formModel&&"add_to_cart"===b.formModel.intent&&(a.isCartIntent=!0),a.paymentPromise=d.get(e.params.dispositionId).then(function(c){if(a.paymentDetails=c,a.auth={},a.text={auth_method:"db.payments.new.step2.row.auth.label.",no_auth_required:"db.payments.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.new.step2.row.auth.token.validate.required",input_placeholders:"db.payments.new.step2.row.auth.placeholder.",error_code_validate:"db.config.auth.error_code.validate."},"INTRODUCED"!=a.paymentDetails.status&&"TO_SIGN"!=a.paymentDetails.status&&e.go("de.payments.content.active"),b&&b.exchange&&(a.exchange=b.exchange),"CARD_DEBT"==a.paymentDetails.transferType){var d=a.paymentDetails.title.join(""),f=d.match(/\d/),g=d.indexOf(f);a.paymentDetails.cardNoFromTitle=d.substr(g,d.length-1)}"SEPA"==a.paymentDetails.transferType&&null!=a.paymentDetails.paymentDetails&&(a.isSepaActive=null!=a.paymentDetails.paymentDetails.adtTransferId||null!=a.paymentDetails.paymentDetails.adtSenderType||null!=a.paymentDetails.paymentDetails.adtSenderIdentifierType||null!=a.paymentDetails.paymentDetails.adtSenderIdentifier||null!=a.paymentDetails.paymentDetails.adtReceiverType||null!=a.paymentDetails.paymentDetails.adtReceiverIdentifierType||null!=a.paymentDetails.paymentDetails.adtReceiverIdentifier||null!=a.paymentDetails.paymentDetails.adtTransferCategory||null!=a.paymentDetails.paymentDetails.adtTransferDestination)}),a.realizeSuccessHandler=function(b){g.resetAllStates(),e.go(k.backState||"de.payments.content.active"),f.showPaymentRealizationDialog(b,{text:{title:"db.payments.new.step2.confirmation.title",confirmationTextRejected:"db.payments.new.step2.confirmation.confirmation_text_rejected",confirmationTextRealized:"db.payments.new.step2.confirmation.confirmation_text_realized",confirmationTextInProgress:"db.payments.new.step2.confirmation.confirmation_text_in_progress",confirmationTextDefault:"db.payments.new.step2.confirmation.confirmation_text_default",createNew:"db.payments.new.step2.confirmation.create_new",back:"db.payments.new.step2.confirmation.back",save:"db.payments.new.step2.confirmation.save"},state:{dashboard:"de.dashboard",paymentsForm:k.backState||"de.payments.form.domestic",templatesForm:"de.payments.templateForm."+angular.lowercase(a.paymentDetails.transferType),paymentDetails:a.paymentDetails}})},a.realizeFailureHandler=function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text,b.errors&&(g.resetAllStates(),e.go(k.backState||"de.payments.content.active"),j.broadcast("payments.transferStatusChange"),b.status="ACCEPT_FAILED",f.showPaymentRealizationDialog(b,{text:{title:"db.payments.accept.confirmation.failed.title",confirmationTextRejected:"db.payments.accept.confirmation.failed.confirmation_text_rejected",createNew:"db.payments.accept.confirmation.failed.goToCart",back:a.fromCart?"db.payments.accept.confirmation.failed.back":"db.payments.new.step2.confirmation.create_new",confirmationRejectionKey:"db.payments.accept.confirmation.failed.validation."+b.errors[0].defaultMessage},state:{dashboard:"de.dashboard",paymentsForm:a.fromCart?k.backState:"de.payments.form.domestic"}}))},a.accept=function(b){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid?(a.errorCode=null,d.action({authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,transferId:e.params.dispositionId},"realize",a.paymentDetails).then(function(b){var c={fields:"id,amount,status,currency,lastRealizationDesc"};return d.get(b.content,c).then(a.realizeSuccessHandler)},a.realizeFailureHandler)):void h.dirtyFields(b)},a.save=function(){return d.action({},"save_in_cart",a.paymentDetails).then(function(){g.resetAllStates(),i.refreshCartItemsCount(),f.showDispositionBasketInsertDialog({text:{createNewLabel:"db.payments.new.step2.confirmation.create_new"},state:{dashboard:"de.dashboard",createNewState:"de.payments.form.domestic"}})})},a.change=function(){var b="de.payments.form."+angular.lowercase(a.paymentDetails.transferType);"SORBNET"==a.paymentDetails.clearingSystemType&&g.addFormData(b,"sorbnetInfo",{sendBySorbnet:!0}),e.go(b)},a.getPaymentTypeKey=function(a){if(null!=a)return c.getPaymentTypeKey(a)||"db.payments.content.list.collapse.transfer_type."+a.toLowerCase()};var k=g.getInitialState("de.payments.accept")||{};a.cancelAccept=k.cancel,a.fromCart=k.fromCart,angular.isDefined(a.cancelAccept||a.fromCart)?a.backState=k.backState:a.backState=a.currentTabState.stateName,a.headerTitleKey=k.headerTitleKey,a.fromCart&&(a.realizeSuccessHandler=function(){g.resetAllStates(),f.showBasketItemAcceptedDialog({text:{createNewLabel:"db.payments.accept.confirmation.goToCart",confirmation:"platform.component.basket_realize.confirmation"},state:{dashboard:"de.dashboard",createNewState:k.backState}})}),a.cancel=function(){d.action({},"cancel_transfer",k).then(function(){g.resetAllStates(),j.broadcast("payments.transferStatusChange"),f.showBasketItemAcceptedDialog({text:{createNewLabel:"db.payments.accept.confirmation.goToCart",confirmation:"platform.component.basket_cancel.confirmation"},state:{dashboard:"de.dashboard",createNewState:k.backState}})})}}]),dbnextPaymentsModule.controller("dbnext.payments.CancelController",["$q","$scope","initialState","pathService","$state","paymentsService","paymentCancellationsService","paymentModificationsService","notificationService","formService","viewStateService","events",function(a,b,c,d,e,f,g,h,i,j,k,l){b.pathPrefix=d.generateTemplatePath("dbnext-payments"),b.cancelAccept=c.cancel,b.fromCart=c.fromCart;var m=function(){if(b.cancelAccept||b.fromCart){var d=a.defer();b.paymentCancellationDispositionId=c.id,b.paymentCancellationPromise=d.promise,b.auth={},b.text={auth_method:"db.payments.new.step2.row.auth.label.",no_auth_required:"db.payments.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.new.step2.row.auth.token.validate.required",input_placeholders:"db.payments.new.step2.row.auth.placeholder.",error_code_validate:"db.config.auth.error_code.validate."},d.resolve()}else b.paymentCancellationPromise=f.action({paymentId:b.payment.id},"create_payment_cancellation",b.payment).then(function(a){b.paymentCancellationDispositionId=a.content,b.auth={},b.text={auth_method:"db.payments.new.step2.row.auth.label.",no_auth_required:"db.payments.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.new.step2.row.auth.token.validate.required",input_placeholders:"db.payments.new.step2.row.auth.placeholder.",error_code_validate:"db.config.auth.error_code.validate."}},function(a){var c={text:{title:"db.payments.accept.confirmation.failed.title",confirm:"db.payments.cancel.error.message.confirm",message:"db.payments.cancel.error.message"}};i.showPaymentCancellationErrorDialog(c),e.go(b.backState)})};return angular.isDefined(c)?(b.cancelAccept||b.fromCart?b.backState=c.backState:b.backState="de.payments.content.active",f.get(c.paymentId||c.id).then(function(a){if(b.details=a,b.payment=a,"CARD_DEBT"==a.transferType){var c=b.details.title.join(""),d=c.match(/\d/),e=c.indexOf(d);b.details.cardNoFromTitle=c.substr(e,c.length-1)}m()},function(a){b.details=null}),b.realizeSuccessHandler=function(a){var b={text:{title:"db.payments.cancel.confirmation.title",confirmationText:"db.payments.cancel.confirmation.message",back:"db.payments.cancel.confirmation.back"},state:{dashboard:"de.dashboard"}};i.showPaymentCancelledDialog(b),e.go("de.payments.content.active")},b.realizeFailureHandler=function(a){var d=/([a-zA-Z])/;b.errorCode=d.test(a.text)?"":a.text,a.errors&&(k.resetAllStates(),e.go(c.backState||"de.payments.content.active"),l.broadcast("payments.transferStatusChange"),a.status="ACCEPT_FAILED",i.showPaymentRealizationDialog(a,{text:{title:"db.payments.accept.confirmation.failed.title",confirmationTextRejected:"db.payments.accept.confirmation.failed.confirmation_text_rejected",createNew:"db.payments.accept.confirmation.failed.goToCart",back:b.fromCart?"db.payments.accept.confirmation.failed.back":"db.payments.new.step2.confirmation.create_new",confirmationRejectionKey:"db.payments.accept.confirmation.failed.validation."+a.errors[0].defaultMessage},state:{dashboard:"de.dashboard",paymentsForm:b.fromCart?c.backState:"de.payments.form.domestic"}}))},b.accept=function(a){angular.element(document.querySelector(":focus")).triggerHandler("blur"),a.$valid?(b.errorCode=null,g.get(b.paymentCancellationDispositionId).then(function(a){var c={authenticationAttemptId:b.auth.authenticationAttemptId,credentials:b.auth.credentials,paymentDispositionId:b.paymentCancellationDispositionId};return g.action(c,"accept_payment_cancellation",a).then(b.realizeSuccessHandler,b.realizeFailureHandler)})):j.dirtyFields(a)},b.save=function(){return g.get(b.paymentCancellationDispositionId).then(function(a){return f.action({},"save_in_cart_payment_cancellation",a).then(function(){k.resetAllStates(),i.showDispositionBasketInsertDialog({text:{createNewLabel:"db.payments.new.step2.confirmation.create_new"},state:{dashboard:"de.dashboard",createNewState:"de.payments.form.domestic"}})})})},b.back=function(){e.go("de.payments.templates")},b.cancel=function(){f.action({},"cancel_payment_cancellation",c).then(function(){k.resetAllStates(),l.broadcast("payments.transferStatusChange"),i.showBasketItemAcceptedDialog({text:{createNewLabel:"db.payments.accept.confirmation.goToCart",confirmation:"platform.component.basket_cancel.confirmation"},state:{dashboard:"de.dashboard",createNewState:c.backState}})})},void(b.fromCart&&(b.realizeSuccessHandler=function(){k.resetAllStates(),l.broadcast("payments.transferStatusChange"),i.showBasketItemAcceptedDialog({text:{createNewLabel:"db.payments.accept.confirmation.goToCart",confirmation:"platform.component.basket_realize.confirmation"},state:{dashboard:"de.dashboard",createNewState:initState.backState}})}))):void e.go("de.payments.content.active")}]),dbnextPaymentsModule.controller("dbnext.payments.ActivePaymentsContentController",["searchWrapperService","dbPmtDownloadLinkService","pathService","$scope","$rootScope","$log","paymentsService","paymentsSummaryService","storageItemsService","$filter","gate","$timeout","$state","$stateParams","translate","viewStateService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){d.$parent.selected={},d.paymentList={},d.itemsStorageParams={statusPaymentCriteria:"rejected",paymentSummaryScopeType:"changed"};var q=function(){d.paymentList.content=d.paymentList.content.map(function(b){return angular.extend(b,a.wrapPaymentFields(b))})};d.filterParams=p.getInitialState(m.current.name),null==d.filterParams&&(d.filterParams={statusPaymentCriteria:"waiting",paymentSummaryScopeType:"all"}),d.submit=function(a,c,e){if(angular.isDefined(a))return d.loading=!0,d.paymentListPromise=g.relationSearch(a,c,e).then(function(a){d.paymentList=a,b.createPaymentsLinks(a),d.loading=!1,d.filterParams.pageNumber=a.pageNumber,d.filterParams.pageSize=a.pageSize,q(),p.setInitialState(m.current.name,d.filterParams)},function(a){f.error("Error getting payments list"),d.paymentList=[]}),d.paymentListPromise},d.searchPaymentList=function(a){return g.search(a).then(function(a){d.paymentList=a,b.createPaymentsLinks(a),d.loading=!1,d.filterParams.pageNumber=a.pageNumber,d.filterParams.pageSize=a.pageSize,q()},function(a){f.error("Error getting payments list"),d.paymentList=[]})},d.searchPaymentSummary=function(a){h.search(a).then(function(a){d.rejectedTabUnseenAmount.count=0,angular.forEach(a.content,function(a){d.rejectedTabUnseenAmount.count+=a.quantity}),e.$broadcast("updateTab",{id:"REJECTED",count:d.rejectedTabUnseenAmount.count})})},d.$watch("filterOptions.paymentName",function(a,b){r()});var r=function(){if(null!=d.paymentList){d.paymentList.summary=[];var a=j("filter")(d.paymentList.content,{wrappedText:d.filterOptions.paymentName});d.paymentList.summary.push(a)}};d.searchItemsFromStorage=function(a){i.searchItemsFromStorage(a).then(function(a){null!=a&&null!=a.content[0]&&(d.itemsStorageParams.modificationDateTimeFrom=a.content[0].value.rejectedTabLastEntryDate,d.searchPaymentSummary(d.itemsStorageParams))})},d.paymentListPromise=d.searchPaymentList(d.filterParams),d.searchItemsFromStorage("dbnext-payments.settings"),d.prepareEdit=function(a){var b="de.payments.modify."+a.transferType.toLowerCase();p.resetInitialState(b),p.setInitialState(b,a),m.go(b)}}]),dbnextPaymentsModule.controller("dbnext.payments.ContentController",["pathService","$scope","$rootScope","paymentsService","paymentsSummaryService","storageItemsService","$filter","gate","$timeout","$state","$stateParams","translate","viewStateService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.$parent.selected={},b.paymentList={},b.filterOptions={paymentName:""},b.rejectedTabUnseenAmount={count:0},b.currentTabState={},b.stateName=j.current.name,b.details=!1,b.tabs=[{id:"ACTIVE",label:"db.payments.content.tabs.active",state:"de.payments.content.active"},{id:"REJECTED",label:"db.payments.content.tabs.rejected",state:"de.payments.content.rejected"},{id:"TERMINATED",label:"db.payments.content.tabs.terminated",state:"de.payments.content.terminated"}],b.$on("$stateChangeStart",function(a,c,d,e,f){if("de.payments.content.details"==c.name)b.currentTabState.stateName=e.name,m.setInitialState("currentTabState",b.currentTabState);else if("de.payments.form.domestic"==c.name)b.currentTabState.stateName=e.name,m.setInitialState("currentTabState",b.currentTabState),m.resetInitialState(c.name),b.details=!1;else if("de.payments.templates"==c.name)b.currentTabState.stateName=e.name,m.setInitialState("currentTabState",b.currentTabState);else{if(c.name.indexOf("de.payments.modify")!=-1)return;if(c.name.indexOf("de.payments.cancel")!=-1)return;"de.payments.content.details"!=e.name&&c.name.indexOf("de.payments.templateForm")==-1?(m.resetInitialState(c.name),b.details=!1):b.details=!1}}),b.emitTabChange=function(a){b.$broadcast("changeTab",{direction:a})},m.resetInitialState("currentTabState")}]),dbnextPaymentsModule.controller("dbnext.payments.RejectedPaymentsContentController",["searchWrapperService","pathService","$scope","$rootScope","$log","paymentsService","paymentsSummaryService","storageItemsService","$filter","$timeout","$state","$stateParams","translate","viewStateService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){c.$parent.selected={},c.paymentList={},c.itemsStorageParams={statusPaymentCriteria:"rejected",paymentSummaryScopeType:"changed"};var o=function(){c.paymentList.content=c.paymentList.content.map(function(b){return angular.extend(b,a.wrapPaymentFields(b))})};c.filterParams=n.getInitialState(k.current.name),null==c.filterParams&&(c.filterParams={statusPaymentCriteria:"rejected",paymentSummaryScopeType:"all"}),c.submit=function(a,b,d){if(angular.isDefined(a))return c.loading=!0,c.paymentListPromise=f.relationSearch(a,b,d).then(function(a){c.paymentList=a,c.loading=!1,c.filterParams.pageNumber=a.pageNumber,c.filterParams.pageSize=a.pageSize,o(),n.setInitialState(k.current.name,c.filterParams)},function(a){e.error("Error getting payments list"),c.paymentList=[]}),c.paymentListPromise},c.searchPaymentList=function(a){return f.search(a).then(function(a){c.paymentList=a,c.loading=!1,c.filterParams.pageNumber=a.pageNumber,c.filterParams.pageSize=a.pageSize,o();var b={rejectedTabLastEntryDate:new Date};h.putIntoStorage("dbnext-payments.settings",b).then(function(){c.searchItemsFromStorage("dbnext-payments.settings")})},function(a){e.error("Error getting payments list"),c.paymentList=[]})},c.searchPaymentSummary=function(a){g.search(a).then(function(a){c.rejectedTabUnseenAmount.count=0,angular.forEach(a.content,function(a){c.rejectedTabUnseenAmount.count+=a.quantity}),d.$broadcast("updateTab",{id:"REJECTED",count:c.rejectedTabUnseenAmount.count})})},c.searchItemsFromStorage=function(a){h.searchItemsFromStorage(a).then(function(a){null!=a&&null!=a.content[0]&&(c.itemsStorageParams.modificationDateTimeFrom=a.content[0].value.rejectedTabLastEntryDate,c.searchPaymentSummary(c.itemsStorageParams))})},c.paymentListPromise=c.searchPaymentList(c.filterParams),c.searchItemsFromStorage("dbnext-payments.settings"),c.$watch("filterOptions.paymentName",function(a,b){p()});var p=function(){if(null!=c.paymentList){c.paymentList.summary=[];var a=i("filter")(c.paymentList.content,{wrappedText:c.filterOptions.paymentName});c.paymentList.summary.push(a)}}}]),dbnextPaymentsModule.controller("dbnext.payments.TerminatedPaymentsContentController",["searchWrapperService","pathService","$scope","$rootScope","$log","paymentsService","paymentsSummaryService","storageItemsService","$filter","gate","$timeout","$state","$stateParams","translate","viewStateService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){c.$parent.selected={},c.paymentList={},c.itemsStorageParams={statusPaymentCriteria:"rejected",paymentSummaryScopeType:"changed"};var p=function(){c.paymentList.content=c.paymentList.content.map(function(b){return angular.extend(b,a.wrapPaymentFields(b))})};c.filterParams=o.getInitialState(l.current.name),null==c.filterParams&&(c.filterParams={statusPaymentCriteria:"cancelled",paymentSummaryScopeType:"all"}),c.submit=function(a,b,d){if(angular.isDefined(a))return c.loading=!0,c.paymentListPromise=f.relationSearch(a,b,d).then(function(a){c.paymentList=a,c.loading=!1,c.filterParams.pageNumber=a.pageNumber,c.filterParams.pageSize=a.pageSize,p(),o.setInitialState(l.current.name,c.filterParams)},function(a){e.error("Error getting payments list"),c.paymentList=[]}),c.paymentListPromise},c.searchPaymentList=function(a){return f.search(a).then(function(a){c.paymentList=a,c.loading=!1,c.filterParams.pageNumber=a.pageNumber,c.filterParams.pageSize=a.pageSize,p()},function(a){e.error("Error getting payments list"),c.paymentList=[]})},c.searchPaymentSummary=function(a){g.search(a).then(function(a){c.rejectedTabUnseenAmount.count=0,angular.forEach(a.content,function(a){c.rejectedTabUnseenAmount.count+=a.quantity}),d.$broadcast("updateTab",{id:"REJECTED",count:c.rejectedTabUnseenAmount.count})})},c.searchItemsFromStorage=function(a){h.searchItemsFromStorage(a).then(function(a){null!=a&&null!=a.content[0]&&(c.itemsStorageParams.modificationDateTimeFrom=a.content[0].value.rejectedTabLastEntryDate,c.searchPaymentSummary(c.itemsStorageParams))})},c.paymentListPromise=c.searchPaymentList(c.filterParams),c.searchItemsFromStorage("dbnext-payments.settings"),c.$watch("filterOptions.paymentName",function(a,b){q()});var q=function(){if(null!=c.paymentList){c.paymentList.summary=[];var a=i("filter")(c.paymentList.content,{wrappedText:c.filterOptions.paymentName});c.paymentList.summary.push(a)}}}]),dbnextPaymentsModule.controller("dbnext.payments.DetailsController",["$scope","$log","paymentsService","countryService","costType","initialState","pathService","$state","viewStateService","paymentSepaCategoriesDictionary","paymentSepaPurposesDictionary",function(a,b,c,d,e,f,g,h,i,j,k){if(a.$parent.details=!0,a.modificationDisposition=!1,a.pathPrefix=g.generateTemplatePath("dbnext-payments"),a.currentTabState=i.getInitialState("currentTabState"),null==a.currentTabState?a.currentTabState={stateName:"de.payments.content.active"}:i.resetInitialState("currentTabState"),!angular.isDefined(f))return void h.go("de.payments.content.active");a.details=f,null!=f.backState&&void 0!=f.backState&&(a.currentTabState={stateName:f.backState});var l=function(a,b){for(var c=0;c<b.length;c++)if(a==b[c].key)return!0;return!1};a.paymentDetailsPromise=c.get(f.id).then(function(b){if(a.details=b,null!=f.modificationDisposition&&(a.modificationDisposition=!0,a.modificationData=f.modificationDisposition,angular.equals(a.modificationData.title,a.details.title)||(a.titleChanged=!0)),f.fromCart===!0&&(a.details.realizationDate=new Date(a.details.realizationDate)<new Date?new Date:a.details.realizationDate,a.details.deliveryDate=new Date(a.details.deliveryDate)<new Date?new Date:a.details.deliveryDate),null!=a.details.paymentDetails){var c=a.details.paymentDetails;null!=c.costsType&&(a.details.paymentDetails.costTypeKey=e.getCostTypeKey(c.costsType)),"SEPA"==a.details.transferType&&(a.adtSenderTypeIsOk="C"==a.details.paymentDetails.adtSenderType||"P"==a.details.paymentDetails.adtSenderType,a.adtReceiverTypeIsOk="C"==a.details.paymentDetails.adtReceiverType||"P"==a.details.paymentDetails.adtReceiverType,a.adtTransferCategoryIsOk=l(a.details.paymentDetails.adtTransferCategory,j),a.adtTransferDestinationIsOk=l(a.details.paymentDetails.adtTransferDestination,k),a.isSepaActive=null!=a.details.paymentDetails.adtTransferId||null!=a.details.paymentDetails.adtSenderType||null!=a.details.paymentDetails.adtSenderIdentifierType||null!=a.details.paymentDetails.adtSenderIdentifier||null!=a.details.paymentDetails.adtReceiverType||null!=a.details.paymentDetails.adtReceiverIdentifierType||null!=a.details.paymentDetails.adtReceiverIdentifier||null!=a.details.paymentDetails.adtTransferCategory||null!=a.details.paymentDetails.adtTransferDestination);
}if("CARD_DEBT"==b.transferType){var d=a.details.title.join(""),g=d.match(/\d/),h=d.indexOf(g);a.details.cardNoFromTitle=d.substr(h,d.length-1)}},function(c){b.error("Error getting payments details"),a.details=null})}]),angular.module("dbnext-payments").controller("dbnext.payments.FormController",["$scope","$rootScope","$timeout","initialState","viewStateService","paymentsService","$state","formService","utilityService","translate","events","$q","dbPmtTaxPeriodNumberService","paymentCheckService","notificationService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(b){if(b.transferFromTemplate){if(a.templateValues=["INSURANCE"==a.formData.formType?"":void 0,"INSURANCE"==a.formData.formType?"":void 0,"TAX"==a.formData.formType?"":void 0,b.recipientSwift,b.recipientName,b.recipientAddress,b.recipientBankCountryCode,b.recipientBankName,b.costType,b.idNumber,b.formCode,b.nip,b.secondaryIdNo,b.paymentType],"SEPA"==a.formData.formType){a.sepaTemplateValues=[];for(var c=0;c<q.length;c++)a.sepaTemplateValues.push(b[q[c]]);u(a.sepaTemplateValues)?a.formData.additionalSepaParams=!1:(a.formData.additionalSepaParams=!0,angular.isUndefined(a.sepaCollapseFix)&&(a.sepaCollapseFix=!0))}a.templateRecipientAccountNo=b.recipientAccountNo,a.first=!0,a.setResetDependentPeriodFields(!1),a.formData.resetIdNoOnIdTypeChange=!1}}a.formData={formModel:{sendBySorbnet:!1},exchangeMessageHidden:!0},a.setResetDependentPeriodFields=function(b){a.formData.resetFormCodeOnAccountNoChange=b,a.formData.resetAccountNoOnTaxOfficeChange=b,a.formData.resetPeriodNoOnPeriodTypeChange=b,a.formData.resetPeriodOnZeroAvailableChange=b},a.$on("$stateChangeStart",function(b,c,d,e,f){var g=".form";if(c.name.indexOf(g)>-1){e.name.indexOf(g)>-1&&(a.formData={formModel:{sendBySorbnet:!1},exchangeMessageHidden:!0});var h=c.name.split("."),i=h[h.length-1];a.formData.formType=i.toUpperCase()}}),a.formData.isPeriodNoDisabled=!1,a.setResetDependentPeriodFields(!0),a.formData.resetIdNoOnIdTypeChange=!0;var q=["adtTransferId","adtSenderType","adtSenderIdentifierType","adtSenderIdentifier","adtReceiverType","adtReceiverIdentifierType","adtReceiverIdentifier","adtTransferCategory","adtTransferDestination"];a.currentTabState=e.getInitialState("currentTabState"),null==a.currentTabState&&(a.currentTabState={stateName:"de.payments.content.active"}),a.insuranceText={link:j.property("db.payments.new.step1.row.insurance_account_template.label"),title:j.property("db.payments.new.step1.row.insurance_account_template.modal.title"),subtitle:j.property("db.payments.new.step1.row.insurance_account_template.modal.subtitle"),placeholder:j.property("db.payments.new.step1.row.insurance_account_template.modal.placeholder")},a.taxText={link:j.property("db.payments.new.step1.row.tax_account_template.label"),title:j.property("db.payments.new.step1.row.tax_account_template.modal.title"),subtitle:j.property("db.payments.new.step1.row.tax_account_template.modal.subtitle"),placeholder:j.property("db.payments.new.step1.row.tax_account_template.modal.placeholder")};var r=e.getInitialState(g.current.name);if(null!=r){a.formData=e.getFormData("paymentForm")||{formModel:{sendBySorbnet:!1}},a.defaultTemplate=e.getFormData("paymentTemplate")||null,null!=a.defaultTemplate&&(a.formData.formType=a.defaultTemplate.templateType,a.collapseFix=!0),a.formData.exchange=!1,null!=a.formData.formModel.realizationDate&&(a.formData.formModel.realizationDate=new Date(a.formData.formModel.realizationDate)),null!=a.formData.formModel.cyclicExecutionEndDate&&(a.formData.formModel.cyclicExecutionEndDate=new Date(a.formData.formModel.cyclicExecutionEndDate)),a.formData.formModel.remitterAccountId=r.accountId||a.formData.formModel.remitterAccountId,a.primaryAccount=r.accountNo,a.formData.formModel.intent="realize",a.formData.formModel.transferFromTemplate&&(a.templateRecipientAccountNo=a.formData.formModel.recipientAccountNo),a.templateValues=e.getFormData("paymentTemplateValues"),a.sepaTemplateValues=e.getFormData("paymentSepaTemplateValues"),null!=a.formData.formModel.periodNo&&""!=a.formData.formModel.periodNo&&(a.formData.formModel.periodNumber=parseInt(a.formData.formModel.periodNo.substring(0,2)),4==a.formData.formModel.periodNo.length&&(a.formData.formModel.periodMonth=parseInt(a.formData.formModel.periodNo.substring(2,4))));var s=e.getFormData("sorbnetInfo");null!=s&&(a.formData.formModel.sendBySorbnet=s.sendBySorbnet),e.resetInitialState(g.current.name)}else a.templateValues=void 0,a.sepaTemplateValues=void 0,a.defaultTemplate=void 0;if(angular.isDefined(a.formData.formModel)&&angular.isDefined(a.formData.formModel.periodType)&&!angular.isDefined(r))switch(a.formData.formModel.periodType){case"R":a.isPeriodYearDisabled=!1,a.formData.isPeriodNoDisabled=!0,a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null;break;case"":case null:a.isPeriodYearDisabled=!0,a.formData.formModel.periodYear=null,a.formData.isPeriodNoDisabled=!0,a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null,a.formData.formModel.periodType="",a.formData.resetPeriodOnZeroAvailableChange=!0;break;default:a.isPeriodYearDisabled=!1,a.formData.isPeriodNoDisabled=!1}a.$watch("formData.formType",function(b,c){if(a.form=a.formData.formType,null!=b&&b!=c){var d="^."+angular.lowercase(b);g.includes(d)||(a.paymentAddForm.$setPristine(),a.paymentAddForm.$setUntouched(),g.go(d),a.templateValues=void 0,a.sepaTemplateValues=void 0,a.templateRecipientAccountNo=void 0,a.defaultTemplate=void 0)}"SWIFT"==b&&n.relationSearch(null,{},"check_sepa_realization").then(function(b){a.sepaParameter=b.sepaParameter})}),a.$watch("formData.formModel",function(b){void 0!=b&&("INSURANCE"==a.formData.formType&&void 0==b.insuranceDestinationType&&void 0==b.secondaryIdTypeModel&&(angular.extend(a.formData.formModel,{insuranceDestinationType:"",secondaryIdTypeModel:""}),a.first=!0),"SWIFT"==a.formData.formType&&void 0==b.swiftCheckbox&&(angular.extend(a.formData.formModel,{swiftCheckbox:1}),a.first=!0),"TAX"==a.formData.formType&&void 0==b.idTypeModel&&(angular.extend(a.formData.formModel,{idTypeModel:""}),a.first=!0))}),a.controllEvent={},a.controllEvent.value=!1;var t=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(a[c]instanceof Array){if(b[c]instanceof Array){if(d.length!=e.length)return!0;for(var f=0;f<d.length;f++)if(d[f]!=e[f])return!0}else if(d.join("")!=e)return!0}else if(b[c]instanceof Array){if(d!=e.join(""))return!0}else if(d!=e)return!0}return!1},u=function(a){if(a)for(var b=0;b<a.length;b++)if(void 0!=a[b])return!1;return!0};k.listener(a,"eb.template.active",function(a,b){p(b)}),a.$watchGroup(["formData.formModel.insuranceDestinationType","formData.formModel.secondaryIdTypeModel","formData.formModel.idTypeModel","formData.formModel.recipientSwift","formData.formModel.recipientName","formData.formModel.recipientAddress","formData.formModel.recipientBankCountryCode","formData.formModel.recipientBankName","formData.formModel.costType","formData.formModel.idNumber","formData.formModel.formCode","formData.formModel.nip","formData.formModel.secondaryIdNo","formData.formModel.paymentType"],function(b,c){void 0!=a.templateValues&&void 0!=a.formData.formModel&&!u(b)&&t(b,a.templateValues)&&("INSURANCE"==a.formData.formType&&a.first||"TAX"==a.formData.formType&&a.first?(a.first=!1,a.setResetDependentPeriodFields(!0),a.formData.resetIdNoOnIdTypeChange=!0):(a.formData.formModel.transferFromTemplate=!1,a.formData.formModel.templateId=""))}),a.$watch("formData.formModel.recipientAccountNo",function(b,c){void 0!=b&&void 0!=a.templateRecipientAccountNo&&b!=a.templateRecipientAccountNo&&void 0!=a.formData.formModel&&"INSURANCE"!=a.formData.formType&&"TAX"!=a.formData.formType?(a.formData.formModel.transferFromTemplate=!1,a.formData.formModel.templateId="",a.first=!1,a.setResetDependentPeriodFields(!0)):"TAX"==a.formData.formType&&(a.first=!1),void 0!=c&&(void 0==b||void 0!=b&&b.length!=c.length)&&(a.collapseFix=!1)}),a.$watchGroup(["formData.formModel.insuranceDestinationType","formData.formModel.secondaryIdTypeModel","formData.formModel.idTypeModel"],function(b,c){void 0!=b&&void 0!=a.templateValues&&""!=b[0]&&""!=b[1]&&""!=b[2]&&(a.templateValues[0]=b[0],a.templateValues[1]=b[1],a.templateValues[2]=b[2])}),a.$watch("formData.formModel.periodType",function(b,c){if(b!=c){switch(b){case"R":a.isPeriodYearDisabled=!1,a.formData.isPeriodNoDisabled=!0;break;case"":a.isPeriodYearDisabled=!0,a.formData.isPeriodNoDisabled=!0,a.paymentAddForm.periodType.$setValidity("required",!0);break;default:a.isPeriodYearDisabled=!1,a.formData.isPeriodNoDisabled=!1}a.formData.resetPeriodNoOnPeriodTypeChange&&(a.formData.formModel.periodYear=null,a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null),a.formData.resetPeriodNoOnPeriodTypeChange=!0}}),a.$watch("formData.formModel.idType",function(b,c){null!=b&&b!=c&&a.formData.formModel.idType.length>1&&a.formData.resetIdNoOnIdTypeChange?a.formData.formModel.idNumber=null:null!=b&&a.formData.formModel.idType.length>1&&!a.formData.resetIdNoOnIdTypeChange&&(a.formData.resetIdNoOnIdTypeChange=!0)}),a.$watchGroup(["formData.formModel.adtTransferId","formData.formModel.adtSenderType","formData.formModel.adtSenderIdentifierType","formData.formModel.adtSenderIdentifier","formData.formModel.adtReceiverType","formData.formModel.adtReceiverIdentifierType","formData.formModel.adtReceiverIdentifier","formData.formModel.adtTransferCategory","formData.formModel.adtTransferDestination"],function(b,c){void 0!=a.sepaTemplateValues&&void 0!=a.formData.formModel&&!u(b)&&t(b,a.sepaTemplateValues)&&(a.formData.formModel.transferFromTemplate=!1,a.formData.formModel.templateId="")});a.submit=function(b){if(angular.element(document.querySelector(":focus")).triggerHandler("blur"),!b.$valid)return h.dirtyFields(b),l.reject();e.setInitialState(g.current.name,{}),e.appendFormData("paymentForm",a.formData),e.appendFormData("paymentTemplateValues",a.templateValues),e.appendFormData("paymentSepaTemplateValues",a.sepaTemplateValues);var c="create";switch(a.formData.formModel.description&&(a.formData.formModel.description=angular.isArray(a.formData.formModel.description)?a.formData.formModel.description.join(""):a.formData.formModel.description,a.formData.formModel.description=a.formData.formModel.description.replace(/\n/g," ")),a.formData.formModel.recipientAddress&&(a.formData.formModel.recipientAddress=angular.isArray(a.formData.formModel.recipientAddress)?a.formData.formModel.recipientAddress.join(""):a.formData.formModel.recipientAddress,a.formData.formModel.recipientAddress=a.formData.formModel.recipientAddress.replace(/\n/g," ")),a.formData.formType){case"DOMESTIC":return e.setInitialState("de.payments.accept.domestic",a.formData),a.formData.formModel.currency=a.formData.remitterAccount.currency,f.action(a.formData.formModel,c+"_domestic_transfer",a.formData.originDisposition).then(function(a){return g.go("de.payments.accept.domestic",{dispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),l.reject(a)});case"SEPA":e.setInitialState("de.payments.accept.sepa",a.formData);var d=angular.copy(a.formData.formModel);if(!a.formData.additionalSepaParams)for(var i=0;i<q.length;i++)d[q[i]]=void 0;return f.action(d,c+"_sepa_transfer",a.formData.originDisposition).then(function(a){return g.go("de.payments.accept.sepa",{dispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),l.reject(a)});case"SWIFT":var j={currency:a.formData.formModel.currency,recipientAccountNo:a.formData.formModel.recipientAccountNo},k=function(){return e.setInitialState("de.payments.accept.swift",a.formData),f.action(a.formData.formModel,c+"_swift_transfer",a.formData.originDisposition).then(function(a){return g.go("de.payments.accept.swift",{dispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),l.reject(a)})};return n.relationSearch(a.formData.originDisposition,j,"check_sepa_realization").then(function(a){var b={text:{title:"db.payments.new.step1.row.sepa_realization.dialog.title"},param:a.sepaParameter};a.sepaParameter?(angular.extend(b.text,{message:"db.payments.new.step1.row.sepa_realization.dialog.message.may_be_sepa",ok:"db.payments.new.step1.row.sepa_realization.dialog.ok",cancel:"db.payments.new.step1.row.sepa_realization.dialog.cancel"}),b.callback=k):angular.extend(b.text,{message:"db.payments.new.step1.row.sepa_realization.dialog.message.has_to_be_sepa",ok:"db.payments.new.step1.row.sepa_realization.dialog.ok"}),a.sepaCondition?o.showSepaRealizationDialog(b):k()});case"OWN":return e.setInitialState("de.payments.accept.own",a.formData),f.action(a.formData.formModel,c+"_between_own_accounts_transfer",a.formData.originDisposition).then(function(a){return g.go("de.payments.accept.own",{dispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),l.reject(a)});case"INSURANCE":e.setInitialState("de.payments.accept.insurance",a.formData);var p=[];return p.push({insuranceDestinationType:a.formData.formModel.insuranceDestinationType,amount:a.formData.formModel.amount,currency:a.formData.formModel.currency}),a.formData.formModel.insurancePremiums=p,a.formData.formModel.secondaryIdType=a.formData.formModel.secondaryIdTypeModel,f.action(a.formData.formModel,c+"_insurance_transfer",a.formData.originDisposition).then(function(a){return g.go("de.payments.accept.insurance",{dispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),l.reject(a)});case"TAX":return e.setInitialState("de.payments.accept.tax",a.formData),a.formData.formModel.currency="PLN",void 0!==a.formData.formModel.periodType&&null!==a.formData.formModel.periodType&&""!==a.formData.formModel.periodType&&"R"!==a.formData.formModel.periodType?a.formData.formModel.periodNo=m.getPeriodNumber(a.formData.formModel.periodNumber,a.formData.formModel.periodMonth):a.formData.formModel.periodNo="",f.action(a.formData.formModel,c+"_tax_transfer",a.formData.originDisposition).then(function(a){return g.go("de.payments.accept.tax",{dispositionId:a.content}),a},function(a){return null!==a.errors&&h.scrollToError(a.errors[0].field),l.reject(a)})}},a.$watchGroup(["formData.remitterAccount.currency","formData.beneficiaryAccount.currency","formData.formModel.currency"],function(b){var d=b[0],e=b[1],f=b[2];c(function(){if(angular.isDefined(d)){var b=i.checkExchange(a.formData.formType,d,e,f);b?a.formData.exchangeMessageHidden=!1:(a.formData.exchangeMessageHidden=!0,a.formData.exchange=!1),a.paymentAddForm.exchange&&(a.paymentAddForm.exchange.$setPristine(),a.paymentAddForm.exchange.$setUntouched())}else a.formData.exchangeMessageHidden=!0})}),e.resetInitialState("de.payments.accept"),a.$watch("formData.formModel.periodYear",function(b,c){if(null!=b&&b!=c&&a.paymentAddForm.periodNo){for(var d in a.paymentAddForm.periodNo.$error)"required"!=d&&(a.paymentAddForm.periodNo.$setValidity(d,!0),delete a.paymentAddForm.periodNo.$error[d]);a.paymentAddForm.periodNo.$setPristine(),a.paymentAddForm.periodNo.$setUntouched()}}),a.$watch("formData.formModel.cyclicExecution",function(b,c){if(null!=b&&b!=c&&a.paymentAddForm.amount)for(var d in a.paymentAddForm.amount.$error)"required"!=d&&"number"!=d&&"pattern"!=d&&"minAmount"!=d&&"maxAmount"!=d&&"noDigits"!=d&&(a.paymentAddForm.amount.$setValidity(d,!0),delete a.paymentAddForm.amount.$error[d])}),a.$watch("formData.formModel.realizationDate",function(b,c){if(null!=b&&b!=c&&b>new Date&&a.paymentAddForm.amount)for(var d in a.paymentAddForm.amount.$error)"required"!=d&&"number"!=d&&"pattern"!=d&&"minAmount"!=d&&"maxAmount"!=d&&"noDigits"!=d&&(a.paymentAddForm.amount.$setValidity(d,!0),delete a.paymentAddForm.amount.$error[d])}),a.$watch("formData.formModel.recipientSwift",function(b,c){if(null!=b&&b!=c&&a.paymentAddForm.recipientAccountNo)for(var d in a.paymentAddForm.recipientAccountNo.$error)"transfer.beneficiaryAccountNo.error.invalid_account_iban"==d&&(a.paymentAddForm.recipientAccountNo.$setValidity(d,!0),delete a.paymentAddForm.recipientAccountNo.$error[d]);void 0!=c&&(void 0==b||void 0!=b&&b.length!=c.length)&&(a.collapseFix=!1)}),a.$watch("formData.formModel.recipientBankCountryCode",function(b,c){null!=b&&b!=c&&a.paymentAddForm.recipientAccountNo&&a.paymentAddForm.recipientAccountNo.$setValidity("transfer.beneficiaryAccountNo.error.invalid_account_iban",!0)}),a.$watch("formData.additionalSepaParams",function(b,c){void 0==c||void 0!=b&&0!=b||(a.sepaCollapseFix=!1,angular.isDefined(a.formData.formModel)&&!u(a.sepaTemplateValues)&&(a.formData.formModel.transferFromTemplate=!1,a.formData.formModel.templateId=""))})}]),dbnextPaymentsModule.controller("dbnext.payments.ModificationAcceptController",["$scope","$rootScope","initialState","viewStateService","paymentsService","paymentModificationsService","$state","formService","notificationService","utilityService","translate","events",function(a,b,c,d,e,f,g,h,i,j,k,l){a.isCartIntent=!1,a.paymentPromise=f.get(g.params.modificationDispositionId).then(function(b){a.paymentDetails=b;var c=d.getInitialState("de.payments.acceptModification"),f=d.getInitialState("de.payments.acceptModify");null!=c?(angular.isDefined(c.paymentDetails)&&(a.paymentDetails.paymentDetails=c.paymentDetails),"add_to_cart"===c.formModel.intent&&(a.isCartIntent=!0),"CARD_DEBT"==c.transferType&&(a.paymentDetails.transferType="CARD_DEBT")):null!=f.paymentId&&e.get(f.paymentId).then(function(b){a.paymentDetails.paymentDetails=b.paymentDetails},function(a){$log.error("Error getting payments details")}),a.auth={},a.text={auth_method:"db.payments.modify.step2.row.auth.label.",no_auth_required:"db.payments.modify.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.modify.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.modify.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.modify.step2.row.auth.token.validate.required",input_placeholders:"db.payments.modify.step2.row.auth.placeholder.",error_code_validate:"db.config.auth.error_code.validate."}}),a.realizeSuccessHandler=function(){d.resetAllStates(),i.showPaymentEditedDialog({text:{title:"db.payments.modify.step2.confirmation.title",confirmationText:"db.payments.modify.step2.confirmation.confirmation_text",back:"db.payments.modify.step2.confirmation.back"},state:{dashboard:"de.dashboard"}}),g.go("de.payments.content.active")},a.realizeFailureHandler=function(b){var e=/([a-zA-Z])/;a.errorCode=e.test(b.text)?"":b.text,b.errors&&(d.resetAllStates(),g.go(c.backState||"de.payments.content.active"),l.broadcast("payments.transferStatusChange"),b.status="ACCEPT_FAILED",i.showPaymentRealizationDialog(b,{text:{title:"db.payments.accept.confirmation.failed.title",confirmationTextRejected:"db.payments.accept.confirmation.failed.confirmation_text_rejected",createNew:"db.payments.accept.confirmation.failed.goToCart",back:a.fromCart?"db.payments.accept.confirmation.failed.back":"db.payments.new.step2.confirmation.create_new",confirmationRejectionKey:"db.payments.accept.confirmation.failed.validation."+b.errors[0].defaultMessage},state:{dashboard:"de.dashboard",paymentsForm:a.fromCart?c.backState:"de.payments.form.domestic"}}))},a.accept=function(b){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid?(a.errorCode=null,f.action({authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,paymentOrderId:g.params.modificationDispositionId},"accept_payment_modification",a.paymentDetails).then(a.realizeSuccessHandler,a.realizeFailureHandler)):void h.dirtyFields(b)},a.save=function(){return e.action({},"save_in_cart_payment_modification",a.paymentDetails).then(function(){d.resetAllStates(),i.showDispositionBasketInsertDialog({text:{createNewLabel:"db.payments.new.step2.confirmation.create_new"},state:{dashboard:"de.dashboard",createNewState:"de.payments.form.domestic"}})})},a.change=function(){g.go("de.payments.modify."+angular.lowercase(a.paymentDetails.transferType))};var m=d.getInitialState("de.payments.acceptModify")||{};a.cancelAccept=m.cancel,a.fromCart=m.fromCart,angular.isDefined(a.cancelAccept||a.fromCart)?a.backState=m.backState:a.backState="de.payments.content.active",a.fromCart&&(a.realizeSuccessHandler=function(){d.resetAllStates(),l.broadcast("payments.transferStatusChange"),i.showBasketItemAcceptedDialog({text:{createNewLabel:"db.payments.accept.confirmation.goToCart",confirmation:"platform.component.basket_realize.confirmation"},state:{dashboard:"de.dashboard",createNewState:m.backState}})}),a.cancel=function(){e.action({},"cancel_payment_modification",m).then(function(){d.resetAllStates(),l.broadcast("payments.transferStatusChange"),i.showBasketItemAcceptedDialog({text:{createNewLabel:"db.payments.accept.confirmation.goToCart",confirmation:"platform.component.basket_cancel.confirmation"},state:{dashboard:"de.dashboard",createNewState:m.backState}})})},a.$on("$destroy",function(){d.resetInitialState("de.payments.acceptModify")})}]),dbnextPaymentsModule.controller("dbnext.payments.ModificationFormController",["$scope","$rootScope","initialState","viewStateService","$timeout","paymentsService","$state","formService","utilityService","translate","$q",function(a,b,c,d,e,f,g,h,i,j,k){a.formData={},a.daysArray=[];for(var l=1;l<=31;l++)a.daysArray.push(l);var m=function(b){a.formData=b;var c={};angular.extend(c,{amount:b.amount,paymentId:b.id,description:b.title,realizationDate:b.realizationDate?new Date(b.realizationDate):null,cyclicExecutionPeriod:b.cyclicDefinition.period?b.cyclicDefinition.period:null,cyclicExecutionEndDate:b.cyclicDefinition.endExecutionDate?new Date(b.cyclicDefinition.endExecutionDate):null,executionDayInMonth:b.cyclicDefinition.executionDayInMonth?b.cyclicDefinition.executionDayInMonth:null}),a.formData.formModel=c},n=d.getInitialState(g.current.name);return null==n?void g.go("de.payments.content.active"):(angular.isDefined(d.getFormData("paymentForm"))?(a.formData=d.getFormData("paymentForm")||{formModel:{}},a.formData.formModel.intent="realize"):m(n),a.submit=function(b){if(angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid)switch(d.resetInitialState(g.current.name),d.setInitialState(g.current.name,{}),d.appendFormData("paymentForm",a.formData),d.setInitialState("de.payments.acceptModification",a.formData),a.formData.transferType){case"DOMESTIC":case"CARD_DEBT":return f.action(a.formData.formModel,"create_payment_modification",a.formData).then(function(a){return g.go("de.payments.acceptModify.domestic",{modificationDispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),k.reject(a)});case"OWN":return f.action(a.formData.formModel,"create_payment_modification",a.formData).then(function(a){return g.go("de.payments.acceptModify.own",{modificationDispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),k.reject(a)});case"INSURANCE":return f.action(a.formData.formModel,"create_payment_modification",a.formData).then(function(a){return g.go("de.payments.acceptModify.insurance",{modificationDispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),k.reject(a)});case"TAX":return f.action(a.formData.formModel,"create_payment_modification",a.formData).then(function(a){return g.go("de.payments.acceptModify.tax",{modificationDispositionId:a.content}),a},function(a){return null!=a&&null!=a.errors&&h.scrollToError(a.errors[0].field),k.reject(a)})}else h.dirtyFields(b)},void d.resetInitialState("de.payments.accept"))}]),dbnextPaymentsModule.controller("dbnext.payments.TemplateAcceptController",["$scope","viewStateService","$state","recipientsService","notificationService","formService",function(a,b,c,d,e,f){a.isEdition=!1;var g=b.getInitialState("de.payments.acceptTemplate");null!=g&&angular.isDefined(g.isEdition)&&(a.isEdition=!0),a.templatePromise=d.templateOrderGet(c.params.templateOrderId).then(function(b){a.templateDetails=b,a.auth={},a.text={auth_method:"db.payments.templates.new.step2.row.auth.label.",no_auth_required:"db.payments.templates.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.templates.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.templates.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.templates.new.step2.row.auth.token.validate.required",input_placeholders:"db.payments.templates.new.step2.row.auth.placeholder.",error_code_validate:"db.config.auth.error_code.validate."},"SEPA"==a.templateDetails.transferType&&null!=a.templateDetails.paymentDetails&&(a.isSepaActive=null!=a.templateDetails.paymentDetails.adtTransferId||null!=a.templateDetails.paymentDetails.adtSenderType||null!=a.templateDetails.paymentDetails.adtSenderIdentifierType||null!=a.templateDetails.paymentDetails.adtSenderIdentifier||null!=a.templateDetails.paymentDetails.adtReceiverType||null!=a.templateDetails.paymentDetails.adtReceiverIdentifierType||null!=a.templateDetails.paymentDetails.adtReceiverIdentifier||null!=a.templateDetails.paymentDetails.adtTransferCategory||null!=a.templateDetails.paymentDetails.adtTransferDestination)}),a.accept=function(g){if(a.isEdition)a.acceptEdition(g);else{if(angular.element(document.querySelector(":focus")).triggerHandler("blur"),g.$valid)return a.errorCode=null,d.templateOrderAction({authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,templateOrderId:c.params.templateOrderId},"accept_creation_template",a.templateDetails).then(function(){b.resetAllStates(),e.showTemplateCreatedDialog({text:{title:"db.payments.templates.new.step2.confirmation.title",confirmationText:"db.payments.templates.new.step2.confirmation.confirmation_text",createNew:"db.payments.templates.new.step2.confirmation.create_new",back:"db.payments.templates.new.step2.confirmation.back"},state:{dashboard:"de.dashboard",templatesForm:"de.payments.templateForm.domestic"}}),c.go("de.payments.templates")},function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text});f.dirtyFields(g)}},a.change=function(){c.go("de.payments.templateForm."+angular.lowercase(a.templateDetails.paymentTemplates[0].templateType))},a.acceptEdition=function(g){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),g.$valid?(a.errorCode=null,d.templateOrderAction({authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,templateOrderId:c.params.templateOrderId},"accept_modification_template",a.templateDetails).then(function(){b.resetAllStates(),e.showTemplateEditedDialog({text:{title:"db.payments.templates.edition.step2.confirmation.title",confirmationText:"db.payments.templates.edition.step2.confirmation.confirmation_text",back:"db.payments.templates.edition.step2.confirmation.back"},state:{dashboard:"de.dashboard"}}),c.go("de.payments.templates")},function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text})):void f.dirtyFields(g)}}]),dbnextPaymentsModule.controller("dbnext.payments.TemplateDeleteController",["$scope","initialState","pathService","$state","recipientsService","notificationService",function(a,b,c,d,e,f){a.pathPrefix=c.generateTemplatePath("dbnext-payments");var g=function(){a.templateDeleteDispositionPromise=e.action(a.recipient,"remove_template",a.recipient).then(function(b){a.templateDeleteDispositionId=b.content,a.auth={},a.text={auth_method:"db.payments.new.step2.row.auth.label.",no_auth_required:"db.payments.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.new.step2.row.auth.token.validate.required",error_code_validate:"db.config.auth.error_code.validate."}},function(b){a.back()})};return angular.isDefined(b)?(a.details=b,e.get(b.templateId).then(function(b){a.recipient=b,g()},function(b){$log.error("Error getting template details"),a.details=null}),a.accept=function(){e.templateOrderGet(a.templateDeleteDispositionId).then(function(b){var c={authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,templateOrderId:a.templateDeleteDispositionId};return a.errorCode=null,e.templateOrderAction(c,"accept_removing_template",b).then(function(a){var b={text:{title:"db.payments.templates.delete.confirmation.title",message:"db.payments.templates.delete.confirmation.message",back:"db.payments.templates.delete.confirmation.back"},state:{dashboard:"de.dashboard"}};f.showTemplateDeletedDialog(b),d.go("de.payments.templates")},function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text})})},void(a.back=function(){d.go("de.payments.templates")})):void d.go("de.payments.content.active")}]),dbnextPaymentsModule.controller("dbnext.payments.TemplateDetailsController",["$scope","$log","recipientsService","countryService","costType","initialState","pathService","$state","viewStateService","paymentSepaCategoriesDictionary","paymentSepaPurposesDictionary",function(a,b,c,d,e,f,g,h,i,j,k){if(a.pathPrefix=g.generateTemplatePath("dbnext-payments"),!angular.isDefined(f))return void h.go("de.payments.content.active");a.details=f;var l=function(a,b){for(var c=0;c<b.length;c++)if(a==b[c].key)return!0;return!1};a.paymentTemplateDetailsPromise=c.get(f.templateId).then(function(b){a.details=b.paymentTemplates[0],a.details.recipientName=b.recipientName,a.details.recipientAddress=b.recipientAddress,null!=a.details.paymentDetails&&"SEPA"==a.details.templateType&&(a.adtSenderTypeIsOk="C"==a.details.paymentDetails.adtSenderType||"P"==a.details.paymentDetails.adtSenderType,a.adtReceiverTypeIsOk="C"==a.details.paymentDetails.adtReceiverType||"P"==a.details.paymentDetails.adtReceiverType,a.adtTransferCategoryIsOk=l(a.details.paymentDetails.adtTransferCategory,j),a.adtTransferDestinationIsOk=l(a.details.paymentDetails.adtTransferDestination,k),a.isSepaActive=null!=a.details.paymentDetails.adtTransferId||null!=a.details.paymentDetails.adtSenderType||null!=a.details.paymentDetails.adtSenderIdentifierType||null!=a.details.paymentDetails.adtSenderIdentifier||null!=a.details.paymentDetails.adtReceiverType||null!=a.details.paymentDetails.adtReceiverIdentifierType||null!=a.details.paymentDetails.adtReceiverIdentifier||null!=a.details.paymentDetails.adtTransferCategory||null!=a.details.paymentDetails.adtTransferDestination)},function(c){b.error("Error getting template details"),a.details=null})}]),dbnextPaymentsModule.controller("dbnext.payments.TemplateFormController",["$scope","$rootScope","$timeout","$state","recipientsService","formService","viewStateService","insuranceAccountsDictionary","dbPmtTaxPeriodNumberService","paymentCheckService","notificationService",function(a,b,c,d,e,f,g,h,i,j,k){a.formData={},a.isEdition=!1,a.isNew=!1,a.$on("$stateChangeStart",function(b,c,d,e,f){var g=".templateForm";if(c.name.indexOf(g)>-1){e.name.indexOf(g)>-1&&(a.formData={});var h=c.name.split("."),i=h[h.length-1];a.formData.formType=i.toUpperCase()}}),a.isPeriodNoDisabled=!1,a.blockedTypes=["OWN"],a.resetFormCodeOnAccountNoChange=!0,a.resetPeriodOnZeroAvailableChange=!0,a.isEditInit=!1,a.modelLoaded=!1;var l=["adtTransferId","adtReceiverIdentifier","adtReceiverIdentifierType","adtReceiverType","adtSenderIdentifier","adtSenderIdentifierType","adtSenderType","adtTransferCategory","adtTransferDestination"],m=function(a){for(var b=0;b<l.length;b++)if(null!=a[l[b]])return!0;return!1},n=function(a){for(var b=0;b<h.length;b++)if(a==h[b].accountNo)return h[b].model},o=function(b){var c=b.paymentTemplates[0],d=c.templateType;if(a.formData.formType=d,c.recipientName=b.recipientName,c.recipientAddress=b.recipientAddress,
c._links=b._links,c.recipientAccountNo=c.beneficiaryAccountNo,c.paymentDetails)switch(d){case"DOMESTIC":break;case"SEPA":angular.extend(c,{informationProvider:c.paymentDetails.informationProvider,phoneNumber:c.paymentDetails.phoneNumber,recipientAddress:c.recipientAddress,recipientBankCountryCode:c.paymentDetails.foreignCountryCode,adtTransferId:c.paymentDetails.adtTransferId,adtReceiverIdentifier:c.paymentDetails.adtReceiverIdentifier,adtReceiverIdentifierType:c.paymentDetails.adtReceiverIdentifierType,adtReceiverType:c.paymentDetails.adtReceiverType,adtSenderIdentifier:c.paymentDetails.adtSenderIdentifier,adtSenderIdentifierType:c.paymentDetails.adtSenderIdentifierType,adtSenderType:c.paymentDetails.adtSenderType,adtTransferCategory:c.paymentDetails.adtTransferCategory,adtTransferDestination:c.paymentDetails.adtTransferDestination}),m(c.paymentDetails)&&(a.formData.additionalSepaParams=!0,a.sepaCollapseFix=!0);break;case"SWIFT":angular.extend(c,{currency:c.currency,additionalInfo:c.paymentDetails.additionalInfo,informationProvider:c.paymentDetails.informationProvider,phoneNumber:c.paymentDetails.phoneNumber,costType:c.paymentDetails.costsType||scope.model.costType,recipientAddress:c.recipientAddress,recipientSwift:c.paymentDetails.recipientSwift,recipientBankCountryCode:c.paymentDetails.foreignCountryCode,recipientBankName:c.paymentDetails.bankDetails});break;case"INSURANCE":angular.extend(c,{currency:c.currency,insurancePremiums:{amount:c.amount,insuranceDestinationType:n(c.beneficiaryAccountNo)},decisionNo:c.paymentDetails.decisionNo,declarationDate:c.paymentDetails.declaration,declarationNo:c.paymentDetails.declarationNo,nip:c.paymentDetails.nip,paymentType:c.paymentDetails.paymentType,secondaryIdNo:c.paymentDetails.secondIDNo,secondaryIdType:c.paymentDetails.secondIDType});break;case"TAX":angular.extend(c,{recipientName:c.recipientName[0],recipientAddress:c.recipientAddress[0],currency:c.currency,formCode:c.paymentDetails.formCode,idType:c.paymentDetails.idtype,idNumber:c.paymentDetails.idnumber,periodType:c.paymentDetails.periodType,periodNo:c.paymentDetails.periodNumber,periodYear:c.paymentDetails.periodYear,obligationId:c.paymentDetails.obligationId}),c.periodNo&&c.periodNo.length>0&&(c.periodNumber=parseInt(c.periodNo.substring(0,2)),c.periodNo.length>2&&(c.periodMonth=parseInt(c.periodNo.substring(2,4))))}a.formData.isEdition=!0,a.formData.formModel=c},p=g.getInitialState(d.current.name);if(null!=p?(a.isNew=!!p.isNew,angular.isDefined(g.getFormData("templateForm"))?(a.formData=g.getFormData("templateForm")||{formModel:{}},a.modelLoaded=!0,null==a.formData.formModel.title&&null!=a.formData.formModel.description&&(a.formData.formModel.title=a.formData.formModel.description),angular.isDefined(a.formData.formModel.insurancePremiums)&&(a.formData.formModel.amount=a.formData.formModel.insurancePremiums.amount),a.isNew&&"INSURANCE"==a.formData.formType&&(a.formData.formModel.insurancePremiums={amount:a.formData.formModel.amount,insuranceDestinationType:n(a.formData.formModel.recipientAccountNo)}),a.isNew&&"TAX"==a.formData.formType&&null!=a.formData.formModel.periodNo&&""!=a.formData.formModel.periodNo&&(a.formData.formModel.periodNumber=parseInt(a.formData.formModel.periodNo.substring(0,2)),4==a.formData.formModel.periodNo.length&&(a.formData.formModel.periodMonth=parseInt(a.formData.formModel.periodNo.substring(2,4)))),angular.isDefined(a.formData.resetPeriodOnZeroAvailableChange)&&(a.resetPeriodOnZeroAvailableChange=a.formData.resetPeriodOnZeroAvailableChange),angular.isDefined(a.formData.isEditInit)&&(a.isEditInit=a.formData.isEditInit),m(a.formData.formModel)&&(a.formData.additionalSepaParams=!0,a.sepaCollapseFix=!0)):angular.isDefined(p.isEdition)&&1==p.isEdition&&(a.isEdition=!0,a.collapseFix=!0,angular.isDefined(g.getFormData("templateEditForm"))?(a.isEditInit=!0,a.resetFormCodeOnAccountNoChange=!1,a.resetPeriodOnZeroAvailableChange=!1,a.formData=g.getFormData("templateEditForm")||{formModel:{}},a.modelLoaded=!0,c(function(){a.resetFormCodeOnAccountNoChange=!0,a.isEditInit=!1})):e.get(p.templateId).then(function(b){a.isEditInit=!0,a.resetFormCodeOnAccountNoChange=!1,a.resetPeriodOnZeroAvailableChange=!1,a.modelLoaded=!0,o(b),c(function(){a.resetFormCodeOnAccountNoChange=!0,a.isEditInit=!1})},function(b){$log.error("Error getting template details"),a.formData.formModel={}}))):a.modelLoaded=!0,angular.isDefined(a.formData.formModel)&&angular.isDefined(a.formData.formModel.periodType))switch(a.formData.formModel.periodType){case"R":a.isPeriodYearDisabled=!1,a.isPeriodNoDisabled=!0,a.formData.formModel.periodNo=null;break;case"":a.isPeriodYearDisabled=!0,a.formData.formModel.periodYear=null,a.isPeriodNoDisabled=!0,a.formData.formModel.periodNo=null;break;default:a.isPeriodYearDisabled=!1,a.isPeriodNoDisabled=!1}a.$watch("formData.formType",function(b,c){if(a.form=a.formData.formType,null!=b&&b!=c){var e="^."+angular.lowercase(b);d.includes(e)||(a.paymentTemplateAddForm.$setPristine(),a.paymentTemplateAddForm.$setUntouched(),d.go(e),a.formData={formType:b})}"SWIFT"==b&&j.relationSearch(void 0,{},"check_sepa_realization").then(function(b){a.sepaParameter=b.sepaParameter})}),a.$watch("formData.isTaxPeriodRequired",function(b,c){null!==b&&b!==c&&b===!1&&(a.formData.formModel.periodType=null,a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null,a.formData.formModel.periodYear=null)}),a.$watch("formData.formModel.periodType",function(b,c){if(null!==b&&void 0!==b&&b!==c){switch(b){case"R":a.isPeriodYearDisabled=!1,a.isPeriodNoDisabled=!0,a.isEditInit||(a.formData.formModel.periodYear=null,a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null);break;case"":a.isPeriodYearDisabled=!0,a.isPeriodNoDisabled=!0,a.isEditInit||(a.formData.formModel.periodYear=null,a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null);break;default:a.isPeriodYearDisabled=!1,a.isPeriodNoDisabled=!1,a.isEditInit||(a.formData.formModel.periodNo=null,a.formData.formModel.periodNumber=null,a.formData.formModel.periodMonth=null)}a.collapseFix=!1}}),a.$watch("formData.formModel.idType",function(b,c){null!=b&&b!=c&&(a.isEditInit||(a.formData.formModel.idNumber=null))}),a.submit=function(b){if(a.isEdition)a.submitEdition(b);else if(angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid)switch(g.setInitialState(d.current.name,{}),g.appendFormData("templateForm",a.formData),g.setInitialState("de.payments.acceptTemplate",a.formData),null==a.formData.formModel.title||angular.isArray(a.formData.formModel.title)||(a.formData.formModel.title=a.formData.formModel.title.replace(/\n/g," ")),a.formData.formType){case"DOMESTIC":return e.templateOrderAction(a.formData.formModel,"create_domestic_template").then(function(a){d.go("de.payments.acceptTemplate.domestic",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)});case"SEPA":var c=angular.copy(a.formData.formModel);if(!a.formData.additionalSepaParams)for(var h=0;h<l.length;h++)c[l[h]]=void 0;return e.templateOrderAction(c,"create_sepa_transfer_template").then(function(a){d.go("de.payments.acceptTemplate.sepa",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)});case"SWIFT":var m={currency:a.formData.formModel.currency,recipientAccountNo:a.formData.formModel.recipientAccountNo},n=function(){return e.templateOrderAction(a.formData.formModel,"create_swift_transfer_template").then(function(a){d.go("de.payments.acceptTemplate.swift",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)})};return j.relationSearch(void 0,m,"check_sepa_realization").then(function(a){var b={text:{title:"db.payments.templates.new.step1.row.sepa_realization.dialog.title"},param:a.sepaParameter};a.sepaParameter?(angular.extend(b.text,{message:"db.payments.templates.new.step1.row.sepa_realization.dialog.message.may_be_sepa",ok:"db.payments.templates.new.step1.row.sepa_realization.dialog.ok",cancel:"db.payments.templates.new.step1.row.sepa_realization.dialog.cancel"}),b.callback=n):angular.extend(b.text,{message:"db.payments.templates.new.step1.row.sepa_realization.dialog.message.has_to_be_sepa",ok:"db.payments.templates.new.step1.row.sepa_realization.dialog.ok"}),a.sepaCondition?k.showSepaRealizationDialog(b):n()});case"INSURANCE":return e.templateOrderAction(a.formData.formModel,"create_insurance_transfer_template").then(function(a){d.go("de.payments.acceptTemplate.insurance",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)});case"TAX":return a.formData.formModel.periodNumber?a.formData.formModel.periodNo=i.getPeriodNumber(a.formData.formModel.periodNumber,a.formData.formModel.periodMonth):a.formData.formModel.periodNo="",e.templateOrderAction(a.formData.formModel,"create_tax_transfer_template").then(function(a){d.go("de.payments.acceptTemplate.tax",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)})}else f.dirtyFields(b)},a.submitEdition=function(b){if(angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid)switch(g.setInitialState(d.current.name,{}),g.appendFormData("templateEditForm",a.formData),g.setInitialState("de.payments.acceptTemplate",a.formData),a.formData.formType){case"DOMESTIC":return e.action(a.formData.formModel,"modify_domestic_template",a.formData.formModel).then(function(a){d.go("de.payments.acceptTemplate.domestic",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)});case"SEPA":var c=angular.copy(a.formData.formModel);return a.formData.additionalSepaParams||angular.forEach(l,function(a,b){c[a]=void 0}),e.action(c,"modify_sepa_transfer_template",a.formData.formModel).then(function(a){d.go("de.payments.acceptTemplate.sepa",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)});case"SWIFT":var h={currency:a.formData.formModel.currency,recipientAccountNo:a.formData.formModel.recipientAccountNo},m=function(){e.action(a.formData.formModel,"modify_swift_transfer_template",a.formData.formModel).then(function(a){d.go("de.payments.acceptTemplate.swift",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)})};return j.relationSearch(void 0,h,"check_sepa_realization").then(function(a){var b={text:{title:"db.payments.templates.new.step1.row.sepa_realization.dialog.title"},param:a.sepaParameter};a.sepaParameter?(angular.extend(b.text,{message:"db.payments.templates.new.step1.row.sepa_realization.dialog.message.may_be_sepa",ok:"db.payments.templates.new.step1.row.sepa_realization.dialog.ok",cancel:"db.payments.templates.new.step1.row.sepa_realization.dialog.cancel"}),b.callback=m):angular.extend(b.text,{message:"db.payments.templates.new.step1.row.sepa_realization.dialog.message.has_to_be_sepa",ok:"db.payments.templates.new.step1.row.sepa_realization.dialog.ok"}),a.sepaCondition?k.showSepaRealizationDialog(b):m()});case"INSURANCE":return e.action(a.formData.formModel,"modify_insurance_transfer_template",a.formData.formModel).then(function(a){d.go("de.payments.acceptTemplate.insurance",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)});case"TAX":return a.formData.formModel.periodNumber||a.formData.formModel.periodMonth?a.formData.formModel.periodNo=i.getPeriodNumber(a.formData.formModel.periodNumber,a.formData.formModel.periodMonth):a.formData.formModel.periodNo="",e.action(a.formData.formModel,"modify_tax_transfer_template",a.formData.formModel).then(function(a){d.go("de.payments.acceptTemplate.tax",{templateOrderId:a.content})},function(a){null!=a&&null!=a.errors&&f.scrollToError(a.errors[0].field)})}else f.dirtyFields(b)},a.$watch("formData.formModel.periodYear",function(b,c){if(null!=b&&b!=c&&a.paymentTemplateAddForm.periodNo){for(var d in a.paymentTemplateAddForm.periodNo.$error)"required"!=d&&(a.paymentTemplateAddForm.periodNo.$setValidity(d,!0),delete a.paymentTemplateAddForm.periodNo.$error[d]);a.paymentTemplateAddForm.periodNo.$setPristine(),a.paymentTemplateAddForm.periodNo.$setUntouched()}}),a.$watch("formData.formModel.recipientSwift",function(b,c){if(null!=b&&b!=c&&a.paymentTemplateAddForm.recipientAccountNo)for(var d in a.paymentTemplateAddForm.recipientAccountNo.$error)"transfer.beneficiaryAccountNo.error.invalid_account_iban"==d&&(a.paymentTemplateAddForm.recipientAccountNo.$setValidity(d,!0),delete a.paymentTemplateAddForm.recipientAccountNo.$error[d]);void 0!=c&&(void 0==b||void 0!=b&&b.length!=c.length)&&(a.collapseFix=!1)}),a.$watch("formData.formModel.recipientAccountNo",function(b,c){void 0!=c&&(void 0==b||void 0!=b&&b.length!=c.length)&&(a.collapseFix=!1)}),a.$watch("formData.additionalSepaParams",function(b,c){void 0==c||void 0!=b&&0!=b||(a.sepaCollapseFix=!1)}),a.$watch("formData.formModel.recipientBankCountryCode",function(b,c){null!=b&&b!=c&&a.paymentTemplateAddForm.recipientAccountNo&&a.paymentTemplateAddForm.recipientAccountNo.$setValidity("transfer.beneficiaryAccountNo.error.invalid_account_iban",!0)})}]),dbnextPaymentsModule.controller("TemplateImportFormModalController",["$scope","formService","$stateParams","$state","$log","$modalInstance","$timeout","$rootScope","gate","userService","httpService","$browser","$http","recipientsService","notificationService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){a.close=function(){f.dismiss()},a.importDetails={},a.importUrl=null,a.uploadFormData=[],a.formData={},a.formData.overwrite="true",a.step1=!0,a.auth={},a.text={auth_method:"db.payments.templates.new.step2.row.auth.label.",no_auth_required:"db.payments.templates.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.templates.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.templates.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.templates.new.step2.row.auth.token.validate.required",input_placeholders:"db.payments.templates.new.step2.row.auth.placeholder.",error_code_validate:"db.config.auth.error_code.validate."},i.getHref("upload_file").then(function(b){a.importUrl=k.appContext+b,j.getIdentityDetails().then(function(b){a.uploadFormData.push({customerId:b.id}),a.uploadFormData.push({accessProfileId:b.accessProfileId}),a.uploadFormData.push({"X-XSRF-TOKEN":l.cookies()[m.defaults.xsrfCookieName]})})}),a.onfileUploadSuccess=function(b){return n.templateImportAction({fileId:b.content},"create_import_disposition").then(function(b){n.templateImportGet(b.content).then(function(b){a.importDetails=b,a.step1=!1})},function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text})},a.acceptUpload=function(c){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),c.$valid?(a.errorCode=null,n.templateImportAction({authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,importId:a.importDetails.importId,fileId:a.importDetails.fileId,overwrite:"true"==a.formData.overwrite},"realize_import",a.importDetails).then(function(){var b={text:{title:"db.payments.templates.import.confirmation.title",message:"db.payments.templates.import.confirmation.message",back:"db.payments.templates.import.confirmation.back"},state:{dashboard:"de.dashboard"}};a.close(),o.showTemplatesImportedDialog(b),d.go("de.payments.templates",{},{reload:!0})},function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text})):void b.dirtyFields(c)},a.cancelUpload=function(){a.step1=!0},window.addEventListener("resize",function(){var a=angular.element(document.querySelector(".eb-choice-dialog"))[0];if(a){var b=a.getBoundingClientRect(),c=(angular.element(document.querySelector(".modal-content"))[0],angular.element(document.querySelector(".modal-dialog"))[0]);angular.element(document.querySelector(".modal-open"))[0];b&&window.innerHeight<b.height?c.style.height=b.height+"px":c.style.height="100%"}})}]),dbnextPaymentsModule.controller("dbnext.payments.TemplatesController",["$scope","viewStateService","$filter","recipientsService","searchWrapperService","resourceCreationFormService","$state","httpService","userService","gate","language","domService","$modal","pathService","accountsService","notificationService","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a.filterOptions={searchFilter:""},a.templatesList=[],b.resetAllStates(),a.isActiveAccess=!1,a.activeAccessChecked=!1,a.optionsAvailable=!0;var r=navigator.userAgent||navigator.vendor||window.opera;(r.match(/iPad/i)||r.match(/iPhone/i)||r.match(/iPod/i))&&!window.MSStream&&(a.optionsAvailable=!1);var s=function(){a.isActiveAccess=!1;var b={pageSize:1e4};o.search(b).then(function(b){for(var c=b.content,d=0;d<c.length;d++)if("ACTIVE"==c[d].customerProductData.relationStatus){a.isActiveAccess=!0;break}a.activeAccessChecked=!0})};s(),a.currentTabState=b.getInitialState("currentTabState"),null==a.currentTabState&&(a.currentTabState={stateName:"de.payments.content.active"});var t=function(){a.templatesList=a.templatesList.map(function(a){return angular.extend(a,e.wrapTemplateFields(a))})};a.templatesPromise=d.search({filerTemplateTypes:"DOMESTIC,TAX,INSURANCE,SWIFT,SEPA",pageSize:1e4}).then(function(b){for(var c=b.content,d=[],e=c.length-1;e>=0;e--)for(var f=c[e].paymentTemplates.length-1;f>=0;f--)c[e].paymentTemplates[f].recipientName=c[e].recipientName,c[e].paymentTemplates[f].recipientAddress=c[e].recipientAddress,d.push(c[e].paymentTemplates[f]);a.templatesList=d,a.downloadTemplate=u(d),t()}),a.newTransfer=function(a){var c=f.getResourceCreationForm("payments"),d=c[0].linkEntryState+a.templateType.toLowerCase();a.paymentDetails||(a.paymentDetails={}),b.setInitialState(d,{}),b.addFormData(d,"paymentTemplate",a),g.go(d)},a.prepareEdit=function(c){if(a.isActiveAccess){var d="de.payments.templateForm."+c.templateType.toLowerCase();b.setInitialState(d,{isEdition:!0,templateId:c.templateId}),g.go(d)}else a.showOperationdUnavaiableInPassiveModeDialog()},a.prepareDelete=function(c){if(a.isActiveAccess){var d="de.payments.templateDelete";b.setInitialState(d,c),g.go(d)}else a.showOperationdUnavaiableInPassiveModeDialog()},a.importTemplates=function(){if(a.isActiveAccess){var b=m.open({templateUrl:n.generateTemplatePath("dbnext-payments")+"/views/paymentsTemplateImportForm.html",controller:"TemplateImportFormModalController",size:"sm",resolve:{}});b.result.then(function(){})}else a.showOperationdUnavaiableInPassiveModeDialog()};var u=function(){var a={formatType:"xml",contentDisposition:"download",language:k.get()},b={};return j.getHref("download_templates").then(function(c){i.getIdentityDetails().then(function(d){b.link=h.appContext+c+h.serializeParams(angular.extend({customerId:d.id,accessProfileId:d.accessProfileId},a),!0),b.target=l.isIE()?"":"_blank"})}),b};a.showOperationdUnavaiableInPassiveModeDialog=function(){var a={text:{title:"db.payments.templates.access_denied_in_passive_mode.dialog.title",message:"db.payments.templates.access_denied_in_passive_mode.dialog.message",back:"db.payments.templates.access_denied_in_passive_mode.dialog.back"},state:{dashboard:"de.dashboard"}};p.showOperationdUnavaiableInPassiveModeDialog(a)},a.newTemplateClickCallback=function(){a.isActiveAccess||(a.showOperationdUnavaiableInPassiveModeDialog(),q(function(){g.go("de.payments.templates")}))}}]),dbnextPaymentsModule.controller("dbnext.payments.ViewController",["$scope",function(a){a.selected={}}]),dbnextPaymentsModule.directive("dbPmtAddToShoppingOrder",["pathService",function(a){return{restrict:"EA",replace:!1,require:"ngModel",scope:{ebLabel:"@",ebName:"@"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtAddToShoppingOrder/dbPmtAddToShoppingOrder.html",link:function(a,b,c,d){a.checkbox={selected:!0},null==d.$viewValue&&d.$setViewValue(!1),d.$render=function(){a.checkbox.selected=d.$viewValue||!1},a.$watch("checkbox.selected",function(b){a.$evalAsync(function(){d.$setViewValue(b)})})}}}]),dbnextPaymentsModule.directive("dbPmtAdditionalInfo",["$compile","ebTheming","$rootScope","$timeout","$log","$http","$templateCache","pathService",function(a,b,c,d,e,f,g,h){return{restrict:"EA",replace:!1,require:"ngModel",scope:{ngModel:"=",ebPlaceholder:"@",ebMaxlength:"@",ebName:"@",ebForm:"="},templateUrl:h.generateTemplatePath("dbnext-payments")+"/directives/dbPmtAdditionalInfo/dbPmtAdditionalInfo.html",link:function(a,c,d,e){b.applyTheme(c);var f=c.find("input");void 0==a.ebMaxlength&&(a.ebMaxlength="35"),a.onBlurFunction=function(b){var c=f.val().substring(0,a.ebMaxlength);f.val(c),a.ngModel=c}}}}]),dbnextPaymentsModule.directive("dbPmtAdditionalSepaParams",["pathService",function(a){return{restrict:"EA",replace:!0,scope:{ebModel:"=",ebForm:"=",ebVisible:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtAdditionalSepaParams/dbPmtAdditionalSepaParams.html",link:function(a,b,c){a.senderRequired=!1,a.receiverRequired=!1;var d=function(a,b){if(a.length==b.length)for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!0;return!1},e=function(a){for(var b=0;b<a.length;b++)if(a[b])return!0;return!1},f=function(a){a&&(a.$setDirty(),a.$setTouched())},g=function(b){a.senderRequired=e(b),a.senderRequired&&(f(a.ebForm.adtSenderType),f(a.ebForm.adtSenderIdentifierType),f(a.ebForm.adtSenderIdentifier))},h=function(b){a.receiverRequired=e(b),a.receiverRequired&&(f(a.ebForm.adtReceiverType),f(a.ebForm.adtReceiverIdentifierType),f(a.ebForm.adtReceiverIdentifier))};a.$watchGroup(["ebModel.adtSenderType","ebModel.adtSenderIdentifierType","ebModel.adtSenderIdentifier"],function(b,c){d(b,c)&&a.ebVisible&&g(b)}),a.$watchGroup(["ebModel.adtReceiverType","ebModel.adtReceiverIdentifierType","ebModel.adtReceiverIdentifier"],function(b,c){d(b,c)&&a.ebVisible&&h(b)}),a.$watch("ebVisible",function(b,c){b!=c&&(b?(g([a.ebModel.adtSenderType,a.ebModel.adtSenderIdentifierType,a.ebModel.adtSenderIdentifier]),h([a.ebModel.adtReceiverType,a.ebModel.adtReceiverIdentifierType,a.ebModel.adtReceiverIdentifier])):(a.senderRequired=!1,a.receiverRequired=!1))})}}}]),dbnextPaymentsModule.directive("dbPmtCollapseLabel",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService",function(a,b,c,d,e,f,g){return{restrict:"EA",replace:!1,scope:{ngModel:"=",collapseLabel:"@",label:"@"},templateUrl:g.generateTemplatePath("dbnext-payments")+"/directives/dbPmtCollapseLabel/dbPmtCollapseLabel.html",link:function(a,b,c){}}}]),dbnextPaymentsModule.directive("dbPmtCostTypeSelect",["pathService","costType",function(a,b){return{restrict:"EA",require:"ngModel",replace:!1,transclude:!0,scope:{ngModel:"=?",ngDisabled:"=?",ebCurrency:"=?",ebForm:"=?"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtCostTypeSelect/dbPmtCostTypeSelect.html",link:function(a,c,d,e){a.costTypeList=b.getCostTypes(),null==a.ngModel&&(a.ngModel=b.getDefaultCostType()),a.$watch("ebCurrency",function(b){angular.isDefined(b)&&(a.ebForm.costType.$setValidity("transfer.costType.error.cost_type_must_be_sha",!0),a.ebForm.costType.$setValidity("transfer.costType.error.cost_type_must_be_sha_or_z",!0))}),a.selectCostType=function(b,c){a.ngModel=b.value}}}}]),dbnextPaymentsModule.directive("dbPmtCountryDetails",["pathService","countryService",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{countryCode:"@",swift:"@"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtCountryDetails/dbPmtCountryDetails.html",link:function(a,c,d){a.country={};var e=function(c){b.search({countryCode:c}).then(function(b){a.country.name=b.content[0].countryName,a.country.code=b.content[0].countryCode})};a.$watch("countryCode",function(b,c){null!=b&&b.length>0?e(b):a.country={}}),a.$watch("swift",function(b,c){null==b||8!=b.length&&11!=b.length?a.country={}:e(b.substr(4,2))})}}}]),dbnextPaymentsModule.directive("dbPmtCountrySelect",["pathService","countryService",function(a,b){return{restrict:"EA",replace:!0,require:"ngModel",scope:{ebName:"@",ebPlaceholder:"@",ebDisabled:"=?"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtCountrySelect/dbPmtCountrySelect.html",link:function(a,c,d){a.countryListPromise=b.search({pageSize:9999}).then(function(b){a.countryList=b.content}),a.selectCountry=function(b,c){a.ngModel=c}}}}]),dbnextPaymentsModule.directive("dbPmtEndDateInput",["pathService",function(a){return{restrict:"EA",replace:!1,scope:{startDate:"=",endDate:"=",ebForm:"=",ebBaseMinDate:"=",periodCount:"=",periodType:"=",ebRequired:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtEndDateInput/dbPmtEndDateInput.html",link:function(a,b,c){function d(){var b=a.ebBaseMinDate?new Date(a.ebBaseMinDate).getTime():(new Date).getTime(),c=new Date(b);switch(a.periodType){case"DAY":c.setDate(new Date(c).getDate()+Number(a.periodCount));break;case"MONTH":c.setMonth(new Date(c).getMonth()+Number(a.periodCount));break;case"QUARTER":c.setMonth(new Date(c).getMonth()+3*Number(a.periodCount));break;case"YEAR":c.setFullYear(new Date(c).getFullYear()+Number(a.periodCount))}return c}function e(){a.nearestEndDate=d(),a.endDate&&a.endDate.getTime()<a.nearestEndDate.getTime()&&(a.endDate=a.nearestEndDate)}void 0!=a.endDate&&null!=a.endDate||(a.indefinite=!0),a.$watchGroup(["ebBaseMinDate","periodCount","periodType"],e),a.$watch("endDate",function(b,c){null!=b&&""!==b&&(a.indefinite=!1)}),a.$watch("startDate",function(b,c){if(null!=b&&(a.indefinite=!1,a.ebForm.paymentEndDate))for(var d in a.ebForm.paymentEndDate.$error)"transfer.cyclicExecutionEndDate.validate.end_date_before_first_execution_date"==d&&(a.ebForm.paymentEndDate.$setValidity(d,!0),delete a.ebForm.paymentEndDate.$error[d])}),a.$watch("indefinite",function(b,c){b?a.endDate=null:a.ebForm.$submitted&&a.ebForm.paymentEndDate.$setDirty()}),a.$watch("ebRequired",function(b,c){b===!1?a.endDate=null:null==a.endDate&&(a.indefinite=!0)})}}}]),dbnextPaymentsModule.directive("dbPmtExecutionPeriod",["pathService","domService",function(a,b){return{restrict:"EA",replace:!0,scope:{period:"=",periodCount:"=",formName:"=",ebRequired:"=",staticPeriodType:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtExecutionPeriod/dbPmtExecutionPeriod.html",link:function(a,b,c){a.cyclePeriod=[{symbol:"DAY"},{symbol:"MONTH"},{symbol:"QUARTER"},{symbol:"YEAR"}],a.selectPeriod=function(b,c){a.period=b.symbol},a.$watch("ebRequired",function(b){b?(a.periodCount=a.periodCount||1,a.period=a.period||"MONTH"):(a.period=null,a.periodCount=null)})}}}]),dbnextPaymentsModule.directive("dbPmtForeignBankDetails",["$compile","foreignBanksService","$rootScope","$timeout","$log","$http","$templateCache","pathService",function(a,b,c,d,e,f,g,h){return{restrict:"EA",replace:!1,transclude:!0,scope:{swift:"@"},templateUrl:h.generateTemplatePath("dbnext-payments")+"/directives/dbPmtForeignBankDetails/dbPmtForeignBankDetails.html",link:function(a,c,d){a.$watch("swift",function(c,d){null!=c&&c.length>0?(8==c.length&&(c+="XXX"),11==c.length&&b.search({bicSwiftCode:c}).then(function(b){a.bankDetails=b.content[0]})):a.bankDetails=null})}}}]),dbnextPaymentsModule.directive("dbPmtOptionalSection",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService",function(a,b,c,d,e,f,g){return{restrict:"EA",transclude:!0,require:"ngModel",scope:!0,templateUrl:g.generateTemplatePath("dbnext-payments")+"/directives/dbPmtOptionalSection/dbPmtOptionalSection.html",link:function(a,b,c,d){a.label=c.label,a.mdl={isCollapsed:!0},null==d.$viewValue&&d.$setViewValue(!1),d.$render=function(){a.mdl.isCollapsed=d.$viewValue||!1},a.$watch("mdl.isCollapsed",function(b){a.$evalAsync(function(){d.$setViewValue(b)})})}}}]),dbnextPaymentsModule.directive("dbPmtRecipientBank",["pathService",function(a){return{restrict:"EA",replace:!0,scope:{ngModel:"=",ebIsTemplateActive:"=",ebControlChangeEvent:"=?",ebForm:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtRecipientBank/dbPmtRecipientBank.html",link:function(a,b,c){a.$watch("ngModel",function(b,c){void 0!=b&&void 0==b.swiftCheckbox&&(a.ngModel.swiftCheckbox=b.recipientSwift||!a.ebIsTemplateActive?1:0)}),a.$watch("bankData",function(b,c){void 0!=b&&(a.ngModel.recipientBankCountryCode=b.countryCode,a.ngModel.recipientBankName=b.bankName1+(b.bankName2?b.bankName2:"")+(b.bankAddress1?" "+b.bankAddress1:"")+(b.bankAddress2?" "+b.bankAddress2:""))}),a.clearValues=function(b){1==b?(a.ngModel.recipientSwift=null,a.ebForm.swiftBicCode.$setValidity("transfer.swiftBicCode.error.swift_bic_code_and_country_code.is.blank",!0)):0==b&&(a.ngModel.recipientBankCountryCode=null,a.ngModel.recipientBankName=null)}}}}]),dbnextPaymentsModule.directive("dbPmtRecipientSelect",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService","$location","recipientsService","$document","templateModelService","searchWrapperService",function(a,b,c,d,e,f,g,h,i,j,k,l){return{restrict:"EA",replace:!0,scope:{templateType:"@",ebForm:"=",ngModel:"=",ebDisabled:"=",ebRequired:"=",ebName:"@",ebPlaceholder:"@",ebDefaultTemplate:"=?",ebTemplateActive:"=?",ebMaxLength:"=?",controllChangeEvent:"=?"},templateUrl:g.generateTemplatePath("dbnext-payments")+"/directives/dbPmtRecipientSelect/dbPmtRecipientSelect.html",link:function(a,b,c){var d=function(){a.templatesList=a.templatesList.map(function(a){return angular.extend(a,l.wrapRecipientFields(a,"payment"))})};a.ebTemplateActive=!!a.ebTemplateActive&&a.ebTemplateActive,null!=a.ngModel&&null!=a.ngModel.recipientName?a.searchingText=a.ngModel.recipientName.join(""):a.searchingText="",a.searchLimit=6,a.startSerching=2,a.ebMaxLength=a.ebMaxLength?a.ebMaxLength:70,a.showHints=!1,a.serach={},a.templatesPromise=i.search({filerTemplateType:a.templateType,pageSize:1e4}).then(function(b){for(var c=b.content,e=[],f=c.length-1;f>=0;f--)for(var g=c[f].paymentTemplates.length-1;g>=0;g--)c[f].paymentTemplates[g].recipientName=c[f].recipientName,c[f].paymentTemplates[g].recipientAddress=c[f].recipientAddress,e.push(c[f].paymentTemplates[g]);a.templatesList=e,d()}),a.showHintsBox=function(b){a.showHints=!0};a.stopBlur=!1,a.toggleTemplate=!1,a.onBlurFunction=function(b){a.stopBlur||a.showHints&&(a.showHints=!1,a.toggleTemplate=!1),a.stopBlur=!1;var c=f.val().substring(0,a.ebMaxLength);f.val(c),a.searchingText=c};var e=!1;a.selectTemplate=function(b,c){a.controllChangeEvent=!0,a.ngModel=k.getModelByTemplateType(b.templateType||a.templateType,b,a.ngModel),e=!0,a.searchingText=b.recipientName,a.showHints=!1,a.toggleTemplate=!1,a.ebTemplateActive=!0},a.stopBlurEvent=function(){a.stopBlur=!0};var f=b.find("input");a.startBlurEvent=function(){f[0].focus(),a.stopBlur=!1},a.openTemplateList=function(c){a.toggleTemplate?(a.showHints=!1,a.toggleTemplate=!1,b.querySelectorAll("input.recipient-search-input")[0].blur()):(c&&(a.searchingText=""),a.showHints=!0,a.toggleTemplate=!0,b.querySelectorAll("input.recipient-search-input")[0].focus(),a.stopBlur=!1),a.ebTemplateActive=!1},a.$watch("searchingText",function(b,c){b&&b!=c&&!e&&(!angular.isArray(c)||angular.isArray(c)&&b!=c.join(""))&&(a.ebTemplateActive=!1,a.ngModel.recipientName=[],b.length>34?(a.ngModel.recipientName.push(b.substr(0,35)),a.ngModel.recipientName.push(b.substr(35,b.length-1))):a.ngModel.recipientName.push(b)),e=!1}),null!=a.ebDefaultTemplate&&a.selectTemplate(a.ebDefaultTemplate,null);var g=angular.element(document.querySelectorAll(".recipient-search-hint-box"));g&&g.length>0&&g.bind("touchstart",function(a){var b=g[0].scrollTop;b<=0&&(g[0].scrollTop=1),b+g[0].offsetHeight>=g[0].scrollHeight&&(g[0].scrollTop=g[0].scrollHeight-g[0].offsetHeight-1)})}}}]),dbnextPaymentsModule.directive("dbPmtSepaCategorySelect",["pathService","paymentSepaCategoriesDictionary",function(a,b){return{restrict:"EA",require:"ngModel",
transclude:!0,scope:{ngModel:"=?"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtSepaCategorySelect/dbPmtSepaCategorySelect.html",link:function(a,c,d,e){a.selectedValue={selected:""},a.paymentCategories=b,a.selectPaymentCategory=function(b,c){a.ngModel=c,a.selectedValue.selected=c};var f=function(b){for(var c=0;c<a.paymentCategories.length;c++)if(b==a.paymentCategories[c].model)return!0;return!1};a.$watch("ngModel",function(b,c){if(angular.isDefined(b)&&null!==b){var d=f(b);d?a.selectedValue.selected=b:(a.ngModel=void 0,a.selectedValue.selected=void 0)}})}}}]),dbnextPaymentsModule.directive("dbPmtSepaPurposeSelect",["pathService","paymentSepaPurposesDictionary",function(a,b){return{restrict:"EA",require:"ngModel",transclude:!0,scope:{ngModel:"=?"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtSepaPurposeSelect/dbPmtSepaPurposeSelect.html",link:function(a,c,d,e){a.selectedValue={selected:""},a.paymentPurposes=b,a.selectPaymentPurpose=function(b,c){a.ngModel=c,a.selectedValue.selected=c};var f=function(b){for(var c=0;c<a.paymentPurposes.length;c++)if(b==a.paymentPurposes[c].model)return!0;return!1};a.$watch("ngModel",function(b,c){if(angular.isDefined(b)&&null!==b){var d=f(b);d?a.selectedValue.selected=b:(a.ngModel=void 0,a.selectedValue.selected=void 0)}})}}}]),dbnextPaymentsModule.directive("dbPmtSimpleTextarea",["$filter","pathService","$timeout","translate",function(a,b,c,d){return{restrict:"EA",replace:!0,scope:{ngModel:"=",ebForm:"=",ebDisabled:"=?",placeholder:"@",ebMaxLength:"@?",ebName:"@",form:"=formData",ebRows:"=?",ebMaxlength:"@?",ebRequired:"=?",ebResizable:"=?",invalidElixirCharactersKey:"@",invalidSwiftCharactersKey:"@",requiredMsg:"@",otherValidatorSwift:"=?"},templateUrl:b.generateTemplatePath("dbnext-payments")+"/directives/dbPmtSimpleTextarea/dbPmtSimpleTextarea.html",link:function(a,b,c){a.ebRequired=!angular.isDefined(a.ebRequired)||a.ebRequired,a.linesNumber=4,a.ebRows?a.linesNumber=a.ebRows:a.ebRows=a.linesNumber,a.ebResizable&&(a.linesNumber=1),void 0===a.ebName&&(a.ebName="textarea"),void 0==a.ebMaxlength&&(a.ebMaxlength=140),a.maxLength=a.ebMaxlength;var e=b.find("textarea");angular.isDefined(a.maxlengthMsg)||(a.maxlengthMsg=d.property("platform.component.one_line.title.maxlength.validate")),angular.isDefined(a.requiredMsg)||(a.requiredMsg=d.property("platform.component.one_line.title.validate")),b.on("change keyup",function(b){var c=e.val().substring(0,a.ebMaxlength);e.val(c),a.ngModel=c,a.$apply()}),a.$watch("ngModel",function(b,c){if(null!=b&&angular.isArray(a.ngModel)){var d=b.join("");e.val(d),a.ngModel=d}})}}}]),dbnextPaymentsModule.directive("dbPmtSorbnetCheckbox",["pathService","ebTheming","userAuthenticationService","domesticBanksService",function(a,b,c,d){return{restrict:"EA",replace:!0,scope:{ebModel:"=",ebName:"@",ebForm:"=",ebCyclic:"=?",ebAmountFieldName:"@",ebDateFieldName:"@",ebAccountFieldName:"@",amountModel:"=",recipientAccountNoModel:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtSorbnetCheckbox/dbPmtSorbnetCheckbox.html",link:function(a,c,d){b.applyTheme(c),a.$watch("ebModel",function(b,c){null!=a.ebForm&&(null!=a.ebForm[a.ebAmountFieldName]&&(a.ebForm[a.ebAmountFieldName].$setValidity("transfer.amount.error_amount_exceeds_max_amount_for_elixir",!0),a.ebForm[a.ebAmountFieldName].$setPristine(),a.ebForm[a.ebAmountFieldName].$setUntouched()),null!=a.ebForm[a.ebAccountFieldName]&&(a.ebForm[a.ebAccountFieldName].$setValidity("transfer.recipientAccountNo.error.recipient.account.is.internal.for.sorbnet",!0),a.ebForm[a.ebAccountFieldName].$setValidity("transfer.recipientAccountNo.error.recipient.account.is.in.external.branch.in.our.bank.for.sorbnet",!0),a.ebForm[a.ebAccountFieldName].$setPristine(),a.ebForm[a.ebAccountFieldName].$setUntouched()),null!=a.ebForm[a.ebDateFieldName]&&(a.ebForm[a.ebDateFieldName].$setValidity("transfer.paymentDate.error.payment.date.is.invalid.for.sorbnet",!0),a.ebForm[a.ebDateFieldName].$setPristine(),a.ebForm[a.ebDateFieldName].$setUntouched()))}),a.$watchGroup(["ebModel","ebCyclic"],function(b,c){b[0]&&b[1]?(a.ebForm[a.ebName].$setValidity("sorbnet.cyclic",!1),a.ebForm[a.ebName].$setDirty(),a.ebForm[a.ebName].$setTouched()):(a.ebForm[a.ebName].$setValidity("sorbnet.cyclic",!0),a.ebForm[a.ebName].$setPristine(),a.ebForm[a.ebName].$setUntouched())})}}}]),dbnextPaymentsModule.directive("dbPmtSwiftSearchInput",["pathService","foreignBanksService","$modal",function(a,b,c){return{restrict:"EA",replace:!0,require:"ngModel",scope:{ngModel:"=",ebName:"@",ebBankData:"=?",ebForm:"=",ebMaxlength:"@",ebPlaceholder:"@",ebDisabled:"=?"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtSwiftSearchInput/dbPmtSwiftSearchInput.html",link:function(a,d,e,f){var g=d.find("input");a.empty=null==a.ngModel,f.$render=function(){a.$evalAsync(function(){g[0].value=f.$viewValue||""})},g.on("blur",function(){f.$setValidity("ebSwift",!0);var b=this.value;null!=b&&(b=b.toUpperCase()),f.$setViewValue(b),a.empty=null==this.value||""==this.value,a.$apply(),f.$valid&&8!=a.ngModel.length&&11!=a.ngModel.length?f.$setValidity("ebSwift",!1):h()}),g.on("input",function(){angular.element(document.activeElement)[0]==g[0]&&(f.$setValidity("ebSwift",!0),null!=this.value&&""!=this.value&&f.$setViewValue(this.value),a.empty=null==this.value||""==this.value,a.$apply(),f.$valid&&h())}),a.$on("$destroy",function(){g.off()});var h=function(){null==a.ngModel||8!=a.ngModel.length&&11!=a.ngModel.length||b.search({bicSwiftCode:8==a.ngModel.length?a.ngModel+"XXX":a.ngModel}).then(function(b){b.content.length>0&&(a.ebBankData=b.content[0])})};a.$watch("ngModel",function(b,c){f.$setValidity("ebSwift",!0),a.empty=!angular.isDefined(b)||null==b,void 0!=b&&void 0==c&&h()}),a.openSearchSwiftModal=function(b){if(a.ebDisabled)b.preventDefault();else var d=c.open({template:'<db-pmt-swift-search-modal eb-on-close="cancel()" eb-select="select(item)"></db-pmt-swift-search-modal>',windowClass:"eb-modal-dialog eb-modal-search-dialog",backdropClass:"always-on",controller:["$scope",function(b){angular.extend(b,{cancel:function(){d.dismiss()},select:function(b){a.ngModel=b.swiftCode,d.dismiss()}})}]})}}}}]),dbnextPaymentsModule.directive("ebSwiftFormat",function(){return{require:"ngModel",link:function(a,b,c,d){var e=(new RegExp(/^[A-Z]{4}[A-Z]{2}[A-Z0-9]{2}([A-Z0-9]{3})?$/),new RegExp(/^[A-Z]{4}$/)),f=new RegExp(/^[A-Z]{2}$/),g=new RegExp(/^[A-Z0-9]{2}$/),h=new RegExp(/^([A-Z0-9]{3})?$/),i=new RegExp(/^([A-Z0-9])*$/);d.$validators.ebSwiftFormat=function(a){var b,c,d,j,k=null!=a?a.toUpperCase():"";if(!i.test(k))return!1;switch(k.length){case 11:j=k.slice(8,11);case 10:case 9:case 8:d=k.slice(6,8);case 7:case 6:c=k.slice(4,6);case 5:case 4:b=k.slice(0,4)}return!(null!=j&&!h.test(j))&&(!(null!=d&&!g.test(d))&&(!(null!=c&&!f.test(c))&&!(null!=b&&!e.test(b))))}}}}),dbnextPaymentsModule.directive("dbPmtSwiftSearchModal",["ebTheming","pathService","foreignBanksService",function(a,b,c){return{restrict:"EA",replace:!0,transclude:!0,scope:{close:"&ebOnClose",select:"&ebSelect"},templateUrl:b.generateTemplatePath("dbnext-payments")+"/directives/dbPmtSwiftSearchModal/dbPmtSwiftSearchModal.html",link:function(a,b,d){a.banksList={},a.searching=!1,a.filterParams={pageSize:3,pageNumber:1},a.submitSearch=function(b){var d={searchBicSwiftCode:b.searchBicSwiftCode.$modelValue,searchBankName:b.searchBankName.$modelValue,searchBankAdress:b.searchBankAdress.$modelValue,pageSize:3,pageNumber:1};angular.isDefined(b.searchBicSwiftCode.$modelValue)&&0==b.searchBicSwiftCode.$modelValue.length&&(d.searchBicSwiftCode=void 0),angular.isDefined(b.searchBankName.$modelValue)&&0==b.searchBankName.$modelValue.length&&(d.searchBankName=void 0),angular.isDefined(b.searchBankAdress.$modelValue)&&0==b.searchBankAdress.$modelValue.length&&(d.searchBankAdress=void 0),angular.extend(a.filterParams,d),a.searching=!0,a.banksListPromise=c.search(d).then(function(b){a.banksList=b,a.filterParams.pageNumber=b.pageNumber,a.filterParams.pageSize=b.pageSize})},a.submit=function(b,d,e){angular.isDefined(b)&&(a.banksListPromise=c.relationSearch(b,d,e).then(function(b){a.banksList=b,a.filterParams.pageNumber=b.pageNumber,a.filterParams.pageSize=b.pageSize}))},a.selectRow=function(b){a.select({item:b})}}}}]),dbnextPaymentsModule.directive("dbPmtTaxAccountGroupSelect",["pathService","taxOfficeService","language",function(a,b,c){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=?",prefixLabel:"@",placeholder:"@",taxOffice:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxAccountGroupSelect/dbPmtTaxAccountGroupSelect.html",link:function(a){a.selectedValue={selected:""},a.ebDisabled=!0;var d=function(){var a=c.get();return"de"==a?"nameDe":"en"==a?"nameEn":"namePl"},e=function(){b.searchAllFormGroups().then(function(b){a.allTaxGroups=b.content;for(var c=d(),e=0;e<a.allTaxGroups.length;e++)a.allTaxGroups[e].name=a.allTaxGroups[e][c]})};e();var f=function(b){var c=[];if(a.allTaxGroups)for(var d=b.availableTaxGroups.length-1;d>=0;d--)for(var f=a.allTaxGroups.length-1;f>=0;f--)a.allTaxGroups[f].supportedAccounts.indexOf(b.availableTaxGroups[d])!=-1&&c.indexOf(a.allTaxGroups[f])==-1&&c.push(a.allTaxGroups[f]);else e();return c};a.$watch("allTaxGroups",function(b,c){b&&a.taxOffice&&JSON.stringify(b)!=JSON.stringify(c)&&(a.taxGroupList=f(a.taxOffice))}),a.$watch("taxOffice",function(b,c){null!=b?(a.ebDisabled=!1,a.ngModel=null,a.selectedValue.selected=null,a.taxGroupList=f(b)):null!=c&&(a.ngModel=null,a.selectedValue.selected=null,a.ebDisabled=!0)}),a.$watch("ngModel",function(b,c){null==b&&(a.selectedValue.selected=void 0)}),a.selectTaxGroupType=function(b,c){a.ngModel=b.supportedAccounts,a.selectedValue.selected=b}}}}]),dbnextPaymentsModule.directive("dbPmtTaxFormCodeSelect",["pathService","taxOfficeService","events",function(a,b,c){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=?",prefixLabel:"@",placeholder:"@",selectedTaxOffice:"=",taxGroup:"=",formCode:"=",ebForm:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxFormCodeSelect/dbPmtTaxFormCodeSelect.html",link:function(a,d,e){var f=[];a.ebDisabled=!0,a.selectedValue={selected:""};var g=function(a,b){for(var c=[],d=0;d<a.length;d++)b.indexOf(a[d].taxAccountType)!=-1&&c.push(a[d]);return c},h=function(a,b){for(var c=0;c<a.length;c++)if(b==a[c].formCode)return!0;return!1};a.$watch("selectedTaxOffice",function(b,c){a.ebForm[e.name].$setPristine(),a.ebForm[e.name].$setUntouched(),null!=b?(null==c||a.fromTemplate||c.shortAddress==b.shortAddress||(a.ngModel=null,a.formCode=null,a.selectedValue.selected=null),a.fromTemplate=!1,a.ebDisabled=!1,a.taxFormCodeList=g(f,b.availableTaxGroups)):(null!=c&&(a.ngModel=null,a.formCode=null,a.selectedValue.selected=null),a.ebDisabled=!0)}),a.$watch("taxGroup",function(b,c){if(a.ebForm[e.name].$setPristine(),a.ebForm[e.name].$setUntouched(),null!=b&&JSON.stringify(c)!=JSON.stringify(b)){var d=b.filter(function(b){return a.selectedTaxOffice.availableTaxGroups.indexOf(b)!=-1});a.taxFormCodeList=g(f,d),h(a.taxFormCodeList,a.ngModel)||(a.ebDisabled=!1,a.ngModel=null,a.formCode=null,a.selectedValue.selected=null)}}),a.taxFormCodePromise=b.searchAllFormCodeList().then(function(b){f=b.content,a.taxFormCodeList=b.content}),a.$watch("ngModel",function(b,c){a.selectedValue.selected=null==b?void 0:b,a.taxFormCodePromise.then(function(c){for(var d=f.length-1;d>=0;d--)if(f[d].formCode==b){a.formCode=f[d];break}})}),a.selectTaxFormCodeSelect=function(b,c){a.ngModel=b.formCode,a.formCode=b},c.listener(a,"eb.template.active",function(){a.fromTemplate=!0})}}}]),dbnextPaymentsModule.directive("dbPmtTaxIdTypeSelect",["pathService","dbPmtTaxIdTypesDictionary",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=?",keyModel:"=?",monitorValue:"=?",prefixLabel:"@",placeholder:"@"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxIdTypeSelect/dbPmtTaxIdTypeSelect.html",link:function(a,c,d){a.taxIdTypeList=b,a.$watch("ngModel",function(c,d){var e=!1;if(void 0!=c){for(var f=0;f<b.length;f++)if(b[f].value==c||b[f].key==c){a.ngModel=b[f].key,a.keyModel=b[f].value,e=!0;break}e||void 0==a.monitorValue||(a.monitorValue=c)}}),a.selectTaxIdType=function(b,c){a.ngModel=b.key,a.keyModel=b.value}}}}]),dbnextPaymentsModule.directive("dbPmtTaxOfficeAccountInput",["$compile","$rootScope","$timeout","$log","$http","pathService","$location","taxOfficeService","events",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",replace:!0,scope:{placeholder:"@",model:"=",formCode:"=",updateOnTaxOfficeChange:"=?",taxOfficesDetailsList:"=",taxOffice:"=",taxGroup:"="},templateUrl:f.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxOfficeAccountInput/dbPmtTaxOfficeAccountInput.html",link:function(a){a.$watch("formCode",function(b,c){if(null!=b&&null!=a.taxOfficesDetailsList){if(null!=a.taxOfficesDetailsList)for(var d=a.taxOfficesDetailsList.length-1;d>=0;d--)if(a.taxOfficesDetailsList[d].officeName==a.taxOffice.officeName&&a.taxOfficesDetailsList[d].taxAccountType==b.taxAccountType){a.model=a.taxOfficesDetailsList[d].accountNo;break}}else null==a.formCode&&null==a.taxGroup&&(a.model=null)}),a.$watch("taxGroup",function(b,c){if(null!=b&&null!=a.taxOfficesDetailsList){for(var d=a.taxOfficesDetailsList.length-1;d>=0;d--)if(a.taxOfficesDetailsList[d].officeName==a.taxOffice.officeName&&b.indexOf(a.taxOfficesDetailsList[d].taxAccountType)!=-1){a.model=a.taxOfficesDetailsList[d].accountNo;break}}else null==a.formCode&&null==a.taxGroup&&(a.model=null)})}}}]),dbnextPaymentsModule.directive("dbPmtTaxOfficeAddressSelect",["$compile","$rootScope","$timeout","$log","$http","pathService","$location","taxOfficeService","events",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",replace:!0,require:"ngModel",scope:{model:"=",placeholder:"@"},templateUrl:f.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxOfficeAddressSelect/dbPmtTaxOfficeAddressSelect.html",link:function(a,b){a.taxOfficeAddressPromise=h.searchAddresses().then(function(b){a.taxOfficeAddressList=b}),b.on("click",function(a){b.querySelectorAll("input.ui-select-search")[0].focus()}),a.selectTaxOfficeAddress=function(b,c){a.ngModel=b},a.infiniteScroll={},a.infiniteScroll.numToAdd=7,a.infiniteScroll.currentItems=7,a.resetInfScroll=function(){a.infiniteScroll.currentItems=a.infiniteScroll.numToAdd},a.addMoreItems=function(){a.infiniteScroll.currentItems+=a.infiniteScroll.numToAdd},i.listener(a,"eb.template.active",function(){a.ngModel=null})}}}]),dbnextPaymentsModule.directive("dbPmtTaxOfficeSelect",["$compile","$rootScope","$timeout","$log","$http","pathService","$location","taxOfficeService","events",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",replace:!0,require:"ngModel",scope:{placeholder:"@",ngModel:"=",address:"=",taxOfficesDetailsList:"=",taxOffice:"="},templateUrl:f.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxOfficeSelect/dbPmtTaxOfficeSelect.html",link:function(a,b,c,d){a.selectedValue={selected:""},a.ebDisabled=!0,a.fromTemplate=!1,a.$watch("address",function(b,c){null!=b&&b.length>0?(a.ebDisabled=!1,null==c||a.fromTemplate||c==b||(a.ngModel=null,a.selectedValue.selected=void 0,a.taxOffice=null),a.fromTemplate=!1,a.taxOfficePromise=h.searchtaxOfficesByAddress(b).then(function(b){if(a.taxOfficesDetailsList=b,a.taxOfficeList=g(b),e()==-1&&(a.ngModel=null),null==a.ngModel)a.selectedValue.selected=void 0,a.taxOffice=null;else{var c=j(a.ngModel);a.selectedValue.selected=c,a.taxOffice=c}})):(a.taxOfficePromise=null,a.ebDisabled=!0)});var e=function(){var b=-1;return angular.forEach(a.taxOfficeList,function(c,d){c.shortAddress==a.ngModel&&(b=d)}),b},f=function(a,b){for(var c=a.length-1;c>=0;c--)if(a[c].officeName==b)return c;return-1},g=function(a){for(var b=[],c=0;c<a.length;c++){var d=f(b,a[c].officeName);d==-1?b.push({officeName:a[c].officeName,fullAddress:a[c].officeName,shortAddress:a[c].officeName.substring(0,35).trim(),availableTaxGroups:[a[c].taxAccountType]}):b[d].availableTaxGroups.push(a[c].taxAccountType)}return b};a.$watch("ngModel",function(b,c){a.taxOfficeList&&(a.selectedValue.selected=null==b?void 0:j(b))});var j=function(b){var c=void 0;return angular.forEach(a.taxOfficeList,function(a,d){a.shortAddress==b&&(c=a)}),c};b.on("click",function(a){b.querySelectorAll("input.ui-select-search")[0].focus()}),i.listener(a,"eb.template.active",function(){a.fromTemplate=!0}),a.selectTaxOffice=function(b,c){a.ngModel=c.shortAddress,a.taxOffice=c}}}}]),angular.module("dbnext-payments").directive("dbPmtTaxPeriodMonthSelect",["pathService","$rootScope","lodash","PERIOD_CONSTS",function(a,b,c,d){return{restrict:"A",replace:!1,transclude:!0,scope:{ngModel:"=?",ebForm:"=",dbPerionNumberFieldName:"@",placeholder:"@",periodType:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxPeriodMonthSelect/dbPmtTaxPeriodMonthSelect.html",controller:["$scope",function(a){a.selectedValue={selected:""},a.taxPeriodMonthList=c.range(1,d.monthCount+1)}],link:function(a,b,c){a.$watch("ngModel",function(b,c){a.selectedValue.selected=null===b?void 0:b,b&&b!==c&&a.ebForm[a.dbPerionNumberFieldName].$setValidity("tax_period.period_number.error.tax.invalid.period_number",!0)}),a.selectPeriodMonth=function(b,c){a.ngModel=c},a.$watch("periodType",function(b,c){void 0!==b&&b!==c&&(null!==b&&""!==b&&"R"!==b&&"K"!==b&&"M"!==b||(a.ngModel=null,a.selectedValue.selected=void 0))})}}}]),angular.module("dbnext-payments").directive("dbPmtTaxPeriodNumberSelect",["pathService","$rootScope","dbPmtTaxPeriodNumberListService",function(a,b,c){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=?",isDisabled:"@",placeholder:"@",periodType:"=",fromTemplate:"@"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxPeriodNumberSelect/dbPmtTaxPeriodNumberSelect.html",controller:["$scope",function(a){a.selectedValue={selected:""},a.disable=!0}],link:function(a){a.$watch("periodType",function(b,d){void 0!==b&&b!==d&&(a.taxPeriodNumberList=c.getPeriodNumberList(b),null!==b&&""!==b&&"R"!==b&&a.taxPeriodNumberList&&a.taxPeriodNumberList.indexOf(a.ngModel)!=-1||(a.disable=!0,a.ngModel=null,a.selectedValue.selected=void 0),null!==b&&""!==b&&"R"!==b&&(a.disable=!1))}),a.$watch("ngModel",function(b,d){a.taxPeriodNumberList?a.selectedValue.selected=null===b?void 0:b:a.periodType&&(a.taxPeriodNumberList=c.getPeriodNumberList(a.periodType),a.disable=""===a.periodType||"R"===a.periodType,a.selectedValue.selected=null===b?void 0:b)}),a.selectPeriodNumber=function(b,c){a.ngModel=c}}}}]),dbnextPaymentsModule.directive("dbPmtTaxPeriodTypeSelect",["pathService","$rootScope","dbPmtTaxPeriodTypeDictionary",function(a,b,c){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=?",prefixLabel:"@",placeholder:"@",isPeriodZeroAvailable:"=",resetOnPeriodZeroAvailable:"=?",ebForm:"=",formCode:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTaxPeriodTypeSelect/dbPmtTaxPeriodTypeSelect.html",link:function(a,d,e){a.selectedValue={selected:void 0},angular.isDefined(a.resetOnPeriodZeroAvailable)||(a.resetOnPeriodZeroAvailable=!0);var f=function(c){var d=null==c?"":c,e=b.getObjectFromListBy("value",d,a.taxPeriodTypeList);null!=e?(a.ngModel=e.value,a.selectedValue.selected=e.value):a.selectedValue.selected=void 0};a.$watch("ngModel",function(a,b){angular.isDefined(a)&&f(a)}),a.setPeriodListNoZero=function(){for(var b=[],d=0;d<c.length;d++){var e=c[d];"ZERO"!=e.key&&b.push(e)}a.taxPeriodTypeList=b},a.isPeriodZeroAvailable?a.taxPeriodTypeList=c:a.setPeriodListNoZero(),a.$watch("isPeriodZeroAvailable",function(b,d){null!=b&&void 0!==b&&(b===!0?(a.taxPeriodTypeList=c,null===a.ngModel&&f("")):a.setPeriodListNoZero())});var g=function(a,b){for(var c=0;c<a.length;c++)if(b==a[c].value)return!0;return!1};a.$watch("formCode",function(b,d){a.ebForm[e.name].$setPristine(),a.ebForm[e.name].$setUntouched(),null!=b&&d!=b&&(a.isPeriodZeroAvailable?a.taxPeriodTypeList=c:a.setPeriodListNoZero(),angular.isDefined(a.selectedValue.selected)&&!g(a.taxPeriodTypeList,a.selectedValue.selected)&&(a.ngModel=void 0,a.selectedValue.selected=void 0))}),a.selectTaxPeriodType=function(b,c){a.ngModel=b.value}}}}]),dbnextPaymentsModule.directive("dbPmtTemplateAmount",["$locale","$filter","pathService","ebTheming",function(a,b,c,d){a.NUMBER_FORMATS;return{restrict:"E",replace:!0,scope:{amount:"=",currency:"@",fractionSize:"@"},templateUrl:c.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTemplateAmount/dbPmtTemplateAmount.html",link:function(a,b,c){d.applyTheme(b),a.highlightNegative=angular.isDefined(c.highlightNegative),angular.isDefined(c.absoluteValue)&&a.amount<0&&(a.amount=a.amount*-1),a.fractionSize=angular.isDefined(c.fractionSize)}}}]),dbnextPaymentsModule.directive("dbPmtTemplateSelect",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService","$location","recipientsService","templateModelService",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"EA",replace:!0,require:"ngModel",scope:{placeholder:"@",templateType:"@",model:"=",recipientName:"=",recipientAddress:"="},templateUrl:g.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTemplateSelect/dbPmtTemplateSelect.html",link:function(a,b,c,d){a.templatesPromise=i.search({filerTemplateTypes:a.templateType,pageSize:1e4}).then(function(b){for(var c=b.content,e=[],f=c.length-1;f>=0;f--)for(var g=c[f].paymentTemplates.length-1;g>=0;g--)c[f].paymentTemplates[g].recipientName=c[f].recipientName,c[f].paymentTemplates[g].recipientAddress=c[f].recipientAddress,e.push(c[f].paymentTemplates[g]);a.templatesList=e,d.$setUntouched(),d.$setPristine()}),b.on("click",function(a){b.querySelectorAll("input.ui-select-search")[0].focus()}),a.selectRecipient=function(b,c){a.model=j.getModelByTemplateType(a.templateType,b,a.model),a.recipientAddress=a.model.recipientAddress,a.recipientName=a.model.recipientName}}}}]),dbnextPaymentsModule.directive("dbPmtTitle",["pathService",function(a){return{restrict:"EA",replace:!1,transclude:!0,scope:{ebTitle:"="},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTitle/dbPmtTitle.html",link:function(a,b,c){a.title="",a.$watch("ebTitle",function(b,c){var d=b;null!=d&&angular.isArray(d)&&d.length>0&&(d=[d.join("")]),a.title=d})}}}]),dbnextPaymentsModule.directive("dbPmtTitleValidator",function(){var a=new RegExp("^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó `!@#%^&*()_+\\-={}\\[\\]\\:;'?,./\n\r\t\\\\>äÄöÖüÜß]*$"),b=new RegExp("^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó ~`!@#%^&*()_+\\-={}\\[\\]\\:;'?,./\n\r\t\\\\>]*$"),c=new RegExp("^[ABCDEFGHIJKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz1234567890 /?:().,'-+ ./\n -]*$");return{restrict:"A",require:"ngModel",link:function(d,e,f,g){g.$validators.paymentCharactersOnly=function(e){if(e){if("DOMESTIC"==d.form||"OWN"==d.form)return a.test(e);if(("SEPA"==d.form||"SWIFT"==d.form||"TARGET2"==d.form)&&angular.isUndefined(d.otherValidatorSwift))return b.test(e);if(("SEPA"==d.form||"SWIFT"==d.form||"TARGET2"==d.form)&&angular.isDefined(d.otherValidatorSwift)&&d.otherValidatorSwift)return c.test(e)}return!0}}}}),dbnextPaymentsModule.directive("dbPmtTypeSelect",["pathService","paymentType",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=?",blockedTypes:"=?"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtTypeSelect/dbPmtTypeSelect.html",link:function(a,c,d){a.paymentListPromise=b.getPaymentTypes().then(function(b){var c=[];if(angular.isDefined(a.blockedTypes))for(var d=0;d<b.length;d++)a.blockedTypes.indexOf(b[d].value)==-1&&c.push(b[d]);else c=b;a.paymentTypeList=c}),null==a.ngModel&&(a.ngModel=b.getDefaultPaymentType()),a.selectPaymentType=function(b,c){a.ngModel=b.value}}}}]),dbnextPaymentsModule.directive("dbPmtUploadFile",["pathService","ebTheming",function(a,b){return{restrict:"AE",replace:!0,transclude:!0,scope:{message:"@",choseFileLabel:"@"},templateUrl:a.generateTemplatePath("dbnext-payments")+"/directives/dbPmtUploadFile/dbPmtUploadFile.html",link:function(a,c,d){b.applyTheme(c)}}}]),dbnextPaymentsModule.directive("elixirValidator",function(){var a=new RegExp("^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó `!@#%^&*()_+\\-={}\\[\\]\\:;'?,.\n\r\t\\>äÄöÖüÜß]*$");return{restrict:"A",require:"ngModel",link:function(b,c,d,e){e.$validators.elixirCharacters=function(b){return!b||a.test(b)}}}}),dbnextPaymentsModule.controller("dbnext.payments.MenuElementController",["$scope","$rootScope",function(a,b){a.isStateActive=b.isStateActive}]),dbnextPaymentsModule.controller("dbnext.payments.WidgetElementController",["$scope","paymentsService","paymentsSummaryService","pathService",function(a,b,c,d){a.params={statusPaymentCriteria:"waiting",paymentSummaryScopeType:"all"},a.paymentsPromise=c.search(a.params).then(function(b){a.paymentSummary=b,a.$broadcast("dataLoaded")}),a.submit=function(a,c,d){if(angular.isDefined(a))return b.relationSearch(a,c,d).then(function(a){return a})},a.widgetContent=d.generateTemplatePath("dbnext-payments")+"/elements/widget/payments-widgetElementViewContent.html"}]),dbnextPaymentsModule.service("dbPmtDownloadLinkService",["$rootScope","httpService","userService","gate","language",function(a,b,c,d,e){function f(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return!!(b>0||a.match(/Trident.*rv\:11/))}this.createPaymentsLinks=function(g){angular.forEach(g.content,function(g){var h={paymentId:g.paymentId,formatType:"pdf",language:e.get()};a.hasLink(g,"download_payment_details")&&d.getHref("download_payment_details",g).then(function(a){c.getIdentityDetails().then(function(c){g.link=b.appContext+a+b.serializeParams(angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},h),!0),g.target=f()?"":"_blank"})})})}}]),angular.module("dbnext-payments").constant("PERIOD_CONSTS",{quarterCount:4,monthCount:12,decadeCount:3,dayCount:31}).factory("dbPmtTaxPeriodNumberListService",["lodash","PERIOD_CONSTS",function(a,b){var c={},d=function(c){return"R"===c?null:"K"===c?a.range(1,b.quarterCount+1):"M"===c?a.range(1,b.monthCount+1):"D"===c?a.range(1,b.decadeCount+1):"J"===c?a.range(1,b.dayCount+1):void 0};return c.getPeriodNumberList=function(a){var b=null;return a&&(b=d(a)),b},c}]),angular.module("dbnext-payments").factory("dbPmtTaxPeriodNumberService",function(){var a={};return a.getPeriodNumber=function(a,b){var c="";return a<10&&(c+="0"),c+=a,b&&(b<10&&(c+="0"),c+=b),c},a}),dbnextPaymentsModule.value("dbPmtTaxIdTypesDictionary",[{key:"NIP",value:"N"},{key:"PESEL",value:"P"},{key:"REGON",value:"R"},{key:"ID_CARD",value:"1"},{key:"PASSPORT",value:"2"}]),ebankingSharedModule.value("dbPmtTaxPeriodTypeDictionary",[{key:"ZERO",value:""},{key:"YEAR",value:"R"},{key:"QUARTER",value:"K"},{key:"MONTH",value:"M"},{key:"DECADE_OF_MONTH",value:"D"},{key:"DAY",value:"J"}]),angular.module("dbnext-payments").run(["$templateCache",function(a){a.put("templates/dbnext-payments/0.0.12/directives/dbPmtAddToShoppingOrder/dbPmtAddToShoppingOrder.html",'<div class="schopping-order-select-box"><div eb-checkbox eb-model="checkbox.selected" eb-name="{{ebName}}" eb-required="false"></div><!-- no whitespace fix \n\t --><span class="schopping-order-select-label" ng-click="checkbox.selected=!checkbox.selected" eb-msg="{{ebLabel}}"></span><div class="schopping-order-select-icon"><i eb-themable class="eb-icon eb-ico-date-input eb-date-input-icon"></i></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtAdditionalInfo/dbPmtAdditionalInfo.html",'<div><input ng-model="ngModel" type="text" name="{{ebName}}" class="input-additional-info" placeholder="{{ebPlaceholder}}" maxlength="{{ebMaxlength}}" ng-blur="onBlurFunction($event)"></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtAdditionalSepaParams/dbPmtAdditionalSepaParams.html",'<div eb-themable class="db-pmt-additional-sepa-params"><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.payment_id.label"><input class="sepa-xml-input" ng-model="ebModel.adtTransferId" eb-name="adtTransferId" name="adtTransferId" type="text" placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.payment_id.placeholder\'|translate}}" maxlength="35"><div eb-validation-messages eb-name="adtTransferId"><div eb-message-key="payments.adtTransferId.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="template_order.adtTransferId.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.adtTransferId.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_type.label" top><div ng-model="ebModel.adtSenderType" ng-required="senderRequired" name="adtSenderType" class="sepa-xml-radio-button-group"><div><eb-radio-button eb-name="companySenderRadio" eb-model="ebModel.adtSenderType" eb-value="C"></eb-radio-button><!-- no whitespace fix\n             --><span>{{ ::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_type.C\' | translate }}</span></div><div><eb-radio-button eb-name="privateSenderRadio" eb-model="ebModel.adtSenderType" eb-value="P"></eb-radio-button><!-- no whitespace fix\n             --><span>{{ ::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_type.P\' | translate }}</span></div></div><div eb-validation-messages eb-name="adtSenderType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_type.validation.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_id_type.label"><input class="sepa-xml-input" ng-model="ebModel.adtSenderIdentifierType" eb-name="adtSenderIdentifierType" name="adtSenderIdentifierType" type="text" placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_id_type.placeholder\'|translate}}" maxlength="35" ng-required="senderRequired"><div eb-validation-messages eb-name="adtSenderIdentifierType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_id_type.validation.required"></span></div><div eb-message-key="payments.adtSenderIdentifierType.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="template_order.adtSenderIdentifierType.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.adtSenderIdentifierType.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_id_no.label"><input class="sepa-xml-input" ng-model="ebModel.adtSenderIdentifier" eb-name="adtSenderIdentifier" name="adtSenderIdentifier" type="text" placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_id_no.placeholder\'|translate}}" maxlength="35" ng-required="senderRequired"><div eb-validation-messages eb-name="adtSenderIdentifier"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.sender_id_no.validation.required"></span></div><div eb-message-key="payments.adtSenderIdentifier.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="template_order.adtSenderIdentifier.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.adtSenderIdentifier.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_type.label" top class="sepa-xml-radio-button-group"><div ng-model="ebModel.adtReceiverType" ng-required="receiverRequired" name="adtReceiverType" class="sepa-xml-radio-button-group"><div><eb-radio-button eb-name="companyRecipientRadio" eb-model="ebModel.adtReceiverType" eb-value="C"></eb-radio-button><!-- no whitespace fix\n             --><span>{{ ::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_type.C\' | translate }}</span></div><div><eb-radio-button eb-name="privateRecipientRadio" eb-model="ebModel.adtReceiverType" eb-value="P"></eb-radio-button><!-- no whitespace fix\n             --><span>{{ ::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_type.P\' | translate }}</span></div></div><div eb-validation-messages eb-name="adtReceiverType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_type.validation.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_id_type.label"><input class="sepa-xml-input" ng-model="ebModel.adtReceiverIdentifierType" eb-name="adtReceiverIdentifierType" name="adtReceiverIdentifierType" type="text" placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_id_type.placeholder\'|translate}}" maxlength="35" ng-required="receiverRequired"><div eb-validation-messages eb-name="adtReceiverIdentifierType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_id_type.validation.required"></span></div><div eb-message-key="payments.adtReceiverIdentifierType.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="template_order.adtReceiverIdentifierType.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.adtReceiverIdentifierType.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_id_no.label"><input class="sepa-xml-input" ng-model="ebModel.adtReceiverIdentifier" eb-name="adtReceiverIdentifier" name="adtReceiverIdentifier" type="text" placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_id_no.placeholder\'|translate}}" maxlength="35" ng-required="receiverRequired"><div eb-validation-messages eb-name="adtReceiverIdentifier"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.recipient_id_no.validation.required"></span></div><div eb-message-key="payments.adtReceiverIdentifier.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="template_order.adtReceiverIdentifier.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.adtReceiverIdentifier.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.validate.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.category.label"><db-pmt-sepa-category-select ng-model="ebModel.adtTransferCategory"></db-pmt-sepa-category-select></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.additional_sepa_params.purpose.label"><db-pmt-sepa-purpose-select ng-model="ebModel.adtTransferDestination"></db-pmt-sepa-purpose-select></div></div>'),
a.put("templates/dbnext-payments/0.0.12/directives/dbPmtCollapseLabel/dbPmtCollapseLabel.html",'<div ng-click="ngModel = !ngModel" class="collapse-label" eb-themable><div eb-responsive-row label="{{collapseLabel}}"><i eb-themable class="eb-icon eb-ico-back back90" ng-class="{\'back90\': ngModel, \'back180\': !ngModel}"></i></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtCostTypeSelect/dbPmtCostTypeSelect.html",'<ui-select eb-themable search-enabled="false" ng-disabled="ngDisabled" theme="select2" on-select="selectCostType($item, $model)"><ui-select-match><span class="cost-type-chosen">{{\'db.payments.new.step1.row.cost_type.\' + $select.selected.key | translate}}</span></ui-select-match><ui-select-choices class="block-choices" repeat="type.value as type in costTypeList"><div ng-class="{\'selected-type\' : type.value == ngModel}">{{::\'db.payments.new.step1.row.cost_type.\' + type.key | translate}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtCountryDetails/dbPmtCountryDetails.html",'<div ng-show="country.code != null">{{country.name}}&nbsp;({{country.code}})</div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtCountrySelect/dbPmtCountrySelect.html",'<div class="select-searchbox"><ui-select eb-themable name="{{ebName}}" search-enabled="true" theme="select2" ng-disabled="ebDisabled" on-select="selectCountry($item, $model)"><ui-select-match placeholder="{{(countryListPromise && countryListPromise.$$state.status === 0) && (\'platform.component.account_select.placeholder.loading\' | translate) || (ebPlaceholder|translate)}}">{{$select.selected.countryName}}&nbsp;({{$select.selected.countryCode}})</ui-select-match><ui-select-choices class="block-choices" repeat="country.countryCode as country in countryList | filter: $select.search"><div>{{country.countryName}}&nbsp;({{country.countryCode}})</div></ui-select-choices></ui-select></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtEndDateInput/dbPmtEndDateInput.html",'<div style="white-space: nowrap"><eb-date-input ng-model="endDate" name="paymentEndDate" eb-min-date="nearestEndDate" eb-title="{{::\'db.payments.new.step1.row.end_date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" eb-disable-weekend="false" eb-disable-past-dates="true" date-input-validation-past eb-empty="true" style="display: inline-block" ng-required="!indefinite && ebRequired" ng-click="indefinite = false"></eb-date-input><div style="display: inline-block; margin-left: 16px"><eb-checkbox style="display: inline-block" eb-model="indefinite" eb-required="false" ng-click="indefinite = !indefinite" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></eb-checkbox><span ng-click="indefinite = !indefinite" class="new-payment-indefinite" eb-msg="db.payments.payment_end_date_input.indefinitely" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span></div><div eb-validation-messages eb-name="paymentEndDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.end_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.end_date.validate"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.end_date.validate.format"></span></div><div eb-message-key="minDate"><span eb-msg="db.payments.new.step1.row.end_date.validate.format"></span></div><div eb-message-key="transfer.cyclicExecutionEndDate.validate.end_date_before_first_execution_date"><span eb-msg="db.payments.new.step1.row.end_date_before_first_realization_date"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtExecutionPeriod/dbPmtExecutionPeriod.html",'<div eb-themable class="input-cycle"><div class="inline-wrapper"><span class="new-payment-every" eb-msg="db.payments.cycle_select.every"></span> <span eb-themable class="input-amount"><input type="text" name="count" onpaste="return false" eb-date-number-pattern="[0-9]{0,2}" ng-pattern="/^[1-9][0-9]{0,2}$/" ng-model="periodCount" maxlength="2" ng-required="ebRequired" eb-form="ebForm" eb-input-style="width: 40px;padding: 5px 10px; margin: 0px 10px"></span><!-- no whitespace fix\n\t --><ui-select ng-if="!staticPeriodType" eb-themable search-enabled="false" ng-model="period" on-select="selectPeriod($item, $model)" ng-required="required" theme="select2" name="period" ng-disabled="disabled"><ui-select-match><span eb-variety-msg key="\'db.payments.execution_period_type.\' + $select.selected.symbol" count="periodCount"></span></ui-select-match><ui-select-choices class="block-choices" repeat="period.symbol as period in cyclePeriod"><div><span eb-variety-msg key="\'db.payments.execution_period_type.\' + period.symbol" count="periodCount"></span></div></ui-select-choices></ui-select><span ng-if="staticPeriodType" eb-variety-msg key="\'db.payments.execution_period_type.\' + period" count="periodCount"></span></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtForeignBankDetails/dbPmtForeignBankDetails.html","<div>{{bankDetails.bankName1}}</div><div>{{bankDetails.bankName2}}</div><div>{{bankDetails.bankAddress1}}</div><div>{{bankDetails.bankAddress2}}</div>"),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtOptionalSection/dbPmtOptionalSection.html",'<div><div eb-responsive-row class="checkbox-row" center><div eb-checkbox eb-model="mdl.isCollapsed" eb-name="optionalCheck" eb-required="false" ng-click="repeatScroll()" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><!-- no whitespace fix \n\t --><span class="new-payment-repeat" ng-click="mdl.isCollapsed=!mdl.isCollapsed" eb-msg="{{label}}" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span></div><div ng-transclude collapse="!mdl.isCollapsed"></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtRecipientBank/dbPmtRecipientBank.html",'<div eb-themable class="eb-recipient-bank-select"><div><eb-radio-button class="range-radio eb-bank-radio" eb-name="radionButton" eb-model="ngModel.swiftCheckbox" eb-value="1" ng-click="clearValues(0)"></eb-radio-button><span class="eb-bank-radio-label">{{\'db.payments.new.step1.bank.swift.label\' | translate}}</span></div><div class="swift-select-container"><db-pmt-swift-search-input eb-swift-format name="swiftBicCode" eb-name="swiftBicCode" ng-model="ngModel.recipientSwift" eb-bank-data="bankData" eb-form="paymentAddForm" eb-maxlength="11" eb-placeholder="{{::\'db.payments.new.step1.bank.swift.placeholder\'|translate}}" ng-required="!ebIsTemplateActive && ngModel.swiftCheckbox == 1" eb-disabled="ngModel.swiftCheckbox == 0"></db-pmt-swift-search-input><div eb-validation-messages eb-name="swiftBicCode"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.swift.validate"></span></div><div eb-message-key="ebSwift"><span eb-msg="db.payments.new.step1.swift.length.validate"></span></div><div eb-message-key="ebSwiftFormat"><span eb-msg="db.payments.new.step1.row.swift_bic_code.validate.invalid"></span></div><div eb-message-key="notFound"><span eb-msg="db.payments.new.step1.swift.not_found.validate"></span></div><div eb-message-key="transfer.swiftBicCode.error.invalid_swift_code"><span eb-msg="db.payments.new.step1.row.swift_bic_code.validate.invalid"></span></div><div eb-message-key="transfer.swiftBicCode.error.swift_bic_code_and_country_code.is.blank"><span eb-msg="db.payments.new.step1.swift.validate"></span></div></div></div><div><eb-radio-button class="range-radio eb-bank-radio" eb-name="radionButton2" eb-model="ngModel.swiftCheckbox" eb-value="0" ng-click="clearValues(1)"></eb-radio-button><span class="eb-bank-radio-label">{{\'db.payments.new.step1.bank.country.label\' | translate}}</span></div><div class="bank-country-select-container"><div class="country_select"><db-pmt-country-select name="beneficiaryCountryCode" eb-name="beneficiaryCountryCode" ng-model="ngModel.recipientBankCountryCode" eb-placeholder="{{::\'db.payments.new.step1.bank.country.placeholder\'|translate}}" ng-required="!ebIsTemplateActive && ngModel.swiftCheckbox == 0" eb-disabled="ngModel.swiftCheckbox == 1"></db-pmt-country-select></div><div eb-validation-messages eb-name="beneficiaryCountryCode"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.country.validate"></span></div><div eb-message-key="validate.country.code.swift.not.belong.to.sepa.system"><span eb-msg="db.payments.new.step1.country.validate"></span></div></div><div class="bank_description"><span class="bank_description_label">{{\'db.payments.new.step1.bank.description.label\' | translate}}</span><div db-pmt-simple-textarea class="bank_description_input" eb-name="recipientBankName" ng-model="ngModel.recipientBankName" eb-form="ebForm" placeholder="{{::\'db.payments.new.step1.bank.description.placeholder\'|translate}}" eb-required="!ebIsTemplateActive && ngModel.swiftCheckbox == 0" eb-disabled="ngModel.swiftCheckbox == 1"></div></div><div eb-validation-messages eb-name="recipientBankName"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.bankDescription.validate"></span></div><div eb-message-key="payments.recipientBankName.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_swift_characters"></span></div><div eb-message-key="template_order.recipientBankName.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_swift_characters"></span></div><div eb-message-key="recipient.recipientBankName.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_swift_characters"></span></div></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtRecipientSelect/dbPmtRecipientSelect.html",'<div class="input-search-box"><div class="input-template"><input class="recipient-search-input" type="text" name="{{ebName}}" ng-model="searchingText" ng-model-options="{ allowInvalid: \'true\'}" eb-array-input-formatter ng-required="ebRequired && !toggleTemplate" ng-disabled="ebDisabled" placeholder="{{templatesList.length >= 6 && showHints ? (\'db.payments.new.step1.rexeipient.search.add_criteria\' | translate) : ebPlaceholder}}" ng-keyup="showHintsBox($event)" ng-blur="onBlurFunction($event)" maxlength="{{ebMaxLength}}" autocomplete="off"><div ng-click="openTemplateList(true)" ng-mousedown="stopBlurEvent($event)"><i eb-themable class="eb-icon eb-icon-template eb-date-input-icon" ng-class="{\'active-template-icon\': toggleTemplate && showHints || ebTemplateActive}"></i></div></div><div class="recipient-search-hint" ng-mousedown="stopBlurEvent()" ng-mouseup="startBlurEvent()"><ul class="recipient-search-hint-box" ng-show="filteredTemplatesList.length > 0 && showHints"><li class="recipient-search-hint-row" ng-repeat="template in filteredTemplatesList = (templatesList | filter : { wrappedText : searchingText })" ng-click="selectTemplate(template, $event)"><div class="template-name">{{template.templateName}}</div><div><span ng-repeat="line in ::template.recipientName track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div><div><span ng-repeat="line in ::template.title track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div></li></ul></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtSepaCategorySelect/dbPmtSepaCategorySelect.html",'<ui-select eb-themable ng-model="selectedValue.selected" search-enabled="false" theme="select2" on-select="selectPaymentCategory($item, $model)"><ui-select-match placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.placeholder\'|translate}}">{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.\' + $select.selected.key | translate}}&nbsp;({{$select.selected.model}})</ui-select-match><ui-select-choices class="block-choices" repeat="category.model as category in paymentCategories"><div ng-class="{\'selected-type\' : category.model == ngModel}">{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.\' + category.key | translate}}&nbsp;({{category.model}})</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtSepaPurposeSelect/dbPmtSepaPurposeSelect.html",'<ui-select eb-themable ng-model="selectedValue.selected" search-enabled="false" theme="select2" on-select="selectPaymentPurpose($item, $model)"><ui-select-match placeholder="{{::\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.placeholder\'|translate}}">{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.\' + $select.selected.key | translate}}&nbsp;({{$select.selected.model}})</ui-select-match><ui-select-choices class="block-choices" repeat="purpose.model as purpose in paymentPurposes"><div ng-class="{\'selected-type\' : purpose.model == ngModel}">{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.\' + purpose.key | translate}}&nbsp;({{purpose.model}})</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtSimpleTextarea/dbPmtSimpleTextarea.html",'<div><textarea eb-themable db-pmt-title-validator class="group-item form-control eb-one-line-textarea" rows="{{linesNumber}}" ng-model="ngModel" other-validator-swift="otherValidatorSwift" name="{{ebName}}" ng-required="ebRequired" ng-disabled="ebDisabled" placeholder="{{::placeholder|translate}}" maxlength="{{maxLength}}" autocomplete="off"></textarea><ng-messages class="messages animate-on" for="ebForm[ebName].$error" ng-if="(ebForm.$submitted || ebForm[ebName].$touched || ebForm[ebName].$dirty)"><div ng-message="required" class="validation-message animate-on">{{requiredMsg}}</div><div ng-message="textarea" class="validation-message animate-on">{{maxlengthMsg}}</div><div ng-message="maxlength" class="validation-message animate-on">{{maxlengthMsg}}</div><div ng-if="form == \'DOMESTIC\' || form == \'OWN\'" ng-message="paymentCharactersOnly" class="validation-message animate-on"><span eb-msg="{{invalidElixirCharactersKey || \'platform.component.one_line.title.invalid_elixir_characters\'}}"></span></div><div ng-if="form == \'SEPA\' || form == \'SWIFT\' || form == \'TARGET2\'" ng-message="paymentCharactersOnly" class="validation-message animate-on"><span eb-msg="{{invalidSwiftCharactersKey || \'platform.component.one_line.title.invalid_swift_characters\'}}"></span></div></ng-messages></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtSorbnetCheckbox/dbPmtSorbnetCheckbox.html",'<div class="sorbnet"><div eb-checkbox eb-model="ebModel" eb-name="{{ebName}}" eb-required="false" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><!-- no whitespace fix \n\t --><span class="sorbnet-message" ng-click="ebModel = !ebModel" eb-msg="db.payments.new.step1.row.sorbnet.message" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtSwiftSearchInput/dbPmtSwiftSearchInput.html",'<div><div class="swift-select-input-box"><input eb-themable type="text" name="{{ebName}}" maxlength="{{ebMaxlength}}" ng-class="{\'input-uppercase\': !empty}" placeholder="{{ebPlaceholder}}" ng-disabled="ebDisabled"></div><div class="swift-select-search-button"><a href="javascript:void(0)" ng-click="openSearchSwiftModal($event)">{{\'db.payments.new.step1.bank.search_button\' | translate}}</a></div></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtSwiftSearchModal/dbPmtSwiftSearchModal.html",'<div class="db-pmt-swift-search-modal"><eb-dialog eb-title="{{\'db.payments.new.step1.bank.search.swift.modal.title\'|translate}}" eb-icon="" eb-on-close="close()" eb-message=""><form name="bankSearch" class="form-body eb-bank-search-form" novalidate><div><eb-responsive-row label="db.payments.new.step1.bank.search.swift"><input class="row-input" type="text" ng-model="searchBicSwiftCode" name="searchBicSwiftCode" placeholder="{{\'db.payments.new.step1.bank.search.swift.placeholder\' | translate}}"></eb-responsive-row><eb-responsive-row label="db.payments.new.step1.bank.search.bank_name"><input class="row-input" type="text" ng-model="searchBankName" name="searchBankName" placeholder="{{\'db.payments.new.step1.bank.search.bank_name.placeholder\' | translate}}"></eb-responsive-row><eb-responsive-row label="db.payments.new.step1.bank.search.bank_adress"><input class="row-input" type="text" ng-model="searchBankAdress" name="searchBankAdress" placeholder="{{\'db.payments.new.step1.bank.search.bank_adress.placeholder\' | translate}}"></eb-responsive-row></div><div class="account-filter-padding-detail"><eb-action-footer submit-label="db.payments.new.step1.bank.search.button" submit-action="submitSearch(bankSearch)"></eb-action-footer></div></form><eb-list ng-class="{ \'empty\' : !searching }" class="eb-bank-search-list time-based-list" eb-promise="banksListPromise"><div class="bank-search-title"><span class="bank-search-title-text" eb-msg="db.payments.new.step1.bank.search.title"></span></div><eb-list-item class="row eb-bank-search-row" ng-repeat="bank in banksList.content"><eb-list-item-content class="item-content-without-actions"><div class="bank-search-row-content"><a href="javascript:void(0)"><span class="bank-search-row-choose" eb-msg="db.payments.new.step1.bank.search.choose" ng-click="selectRow(bank)"></span></a> <span eb-msg="db.payments.new.step1.bank.search.swift"></span> <span class="bank-search-row-value">{{bank.swiftCode}}</span></div><!-- no whitespace fix--><div class="bank-search-row-content"><span eb-msg="db.payments.new.step1.bank.search.bank_name"></span> <span class="bank-search-row-value">{{bank.bankName1}}&nbsp;{{bank.bankName2}}</span></div><!-- no whitespace fix--><div class="bank-search-row-content"><span eb-msg="db.payments.new.step1.bank.search.bank_address"></span> <span class="bank-search-row-value">{{bank.bankAddress1}}&nbsp;{{bank.bankAddress2}}</span></div></eb-list-item-content></eb-list-item><div class="miniapp-empty-list" ng-if="banksList.content.length == 0">{{::"db.payments.new.step1.bank.search.empty"|translate}}</div><div ng-show="banksListPromise.$$state.status === 1"><eb-pagination eb-data="banksList" eb-params="filterParams" eb-loading="loading" eb-pagination-count="3" callback="submit(ctx, params, rel)"></eb-pagination></div></eb-list></eb-dialog></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxAccountGroupSelect/dbPmtTaxAccountGroupSelect.html",'<ui-select eb-themable search-enabled="false" ng-model="selectedValue.selected" ng-disabled="ebDisabled" theme="select2" on-select="selectTaxGroupType($item, $model)"><ui-select-match placeholder="{{placeholder | translate }}" allow-clear="true">{{$select.selected.groupsOrder}} - {{$select.selected.name}}</ui-select-match><ui-select-choices class="block-choices" repeat="type.taxSymbol as type in taxGroupList | orderBy: \'groupsOrder\' track by $index"><div ng-class="{\'selected-type\' : type.taxSymbol == ngModel}">{{type.groupsOrder}} - {{type.name}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxFormCodeSelect/dbPmtTaxFormCodeSelect.html",'<ui-select eb-themable search-enabled="false" ng-model="selectedValue.selected" ng-disabled="taxFormCodePromise && taxFormCodePromise.$$state.status === 0 || ebDisabled" theme="select2" on-select="selectTaxFormCodeSelect($item, $model)"><ui-select-match placeholder="{{(taxOfficeAddressPromise && taxOfficeAddressPromise.$$state.status === 0) && (\'platform.component.tax.city.placeholder.loading\' | translate) ||( placeholder | translate) }}">{{$select.selected.formCode}}</ui-select-match><ui-select-choices class="block-choices" repeat="taxFormCode.formCode as taxFormCode in taxFormCodeList"><div ng-class="{\'selected-type\' : taxFormCode.formCode == ngModel}">{{taxFormCode.formCode}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxIdTypeSelect/dbPmtTaxIdTypeSelect.html",'<ui-select eb-themable search-enabled="false" ng-model="ngModel" theme="select2" on-select="selectTaxIdType($item, $model)"><ui-select-match placeholder="{{placeholder|translate}}">{{prefixLabel + keyModel | translate}}</ui-select-match><ui-select-choices class="block-choices" repeat="type.value as type in taxIdTypeList"><div ng-class="{\'selected-type\' : type.key == ngModel || type.value == ngModel}">{{:: prefixLabel + type.value | translate}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxOfficeAccountInput/dbPmtTaxOfficeAccountInput.html",'<input eb-nrb-iban-formatter required ng-model="model" type="text" placeholder="{{placeholder | translate}}" class="input-additional-info" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }" ng-disabled="true">'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxOfficeAddressSelect/dbPmtTaxOfficeAddressSelect.html",'<div class="select-searchbox"><ui-select eb-themable close-on-select="true" reset-search-input="true" ng-disabled="taxOfficeAddressPromise && taxOfficeAddressPromise.$$state.status === 0" search-enabled="true" theme="select2" on-select="selectTaxOfficeAddress($item, $model)"><ui-select-match placeholder="{{(taxOfficeAddressPromise && taxOfficeAddressPromise.$$state.status === 0) && (\'platform.component.tax.city.placeholder.loading\' | translate) || (placeholder|translate)}}"><span ng-repeat="line in $select.selected track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></ui-select-match><ui-select-choices class="block-choices" repeat="taxOfficeAddress in taxOfficeAddressList | filter:$select.search | limitTo:infiniteScroll.currentItems" eb-infinite-scroll="addMoreItems()" infinite-scroll-distance="2"><div>{{taxOfficeAddress}}</div></ui-select-choices></ui-select></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxOfficeSelect/dbPmtTaxOfficeSelect.html",'<div class="select-searchbox"><ui-select eb-themable close-on-select="true" ng-model="selectedValue.selected" reset-search-input="true" ng-disabled="(taxOfficePromise && taxOfficePromise.$$state.status === 0) || ebDisabled" search-enabled="true" theme="select2" on-select="selectTaxOffice($item, $model)"><ui-select-match placeholder="{{(taxOfficePromise && taxOfficePromise.$$state.status === 0) && (\'platform.component.tax.office.placeholder.loading\' | translate) || (placeholder|translate)}}">{{$select.selected.fullAddress}}</ui-select-match><ui-select-choices class="block-choices" repeat="taxOffice in taxOfficeList | filter: $select.search"><div>{{taxOffice.fullAddress}}</div></ui-select-choices></ui-select></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxPeriodMonthSelect/dbPmtTaxPeriodMonthSelect.html",'<ui-select eb-themable ng-model="selectedValue.selected" search-enabled="false" theme="select2" close-on-select="true" on-select="selectPeriodMonth($item, $model)"><ui-select-match placeholder="{{placeholder|translate}}">{{$select.selected}}</ui-select-match><ui-select-choices class="block-choices" repeat="month in taxPeriodMonthList"><div ng-class="{\'selected-type\' : month === ngModel}">{{month}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxPeriodNumberSelect/dbPmtTaxPeriodNumberSelect.html",'<ui-select eb-themable search-enabled="false" ng-model="selectedValue.selected" theme="select2" ng-disabled="disable" close-on-select="true" on-select="selectPeriodNumber($item, $model)"><ui-select-match placeholder="{{placeholder|translate}}">{{$select.selected}}</ui-select-match><ui-select-choices class="block-choices" repeat="number in taxPeriodNumberList"><div ng-class="{\'selected-type\' : number === ngModel}">{{number}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTaxPeriodTypeSelect/dbPmtTaxPeriodTypeSelect.html",'<ui-select eb-themable search-enabled="false" ng-model="selectedValue.selected" theme="select2" on-select="selectTaxPeriodType($item, $model)"><ui-select-match placeholder="{{placeholder|translate}}">{{prefixLabel + ngModel | translate}}</ui-select-match><ui-select-choices class="block-choices" repeat="type.value as type in taxPeriodTypeList"><div ng-class="{\'selected-type\' : type.value == ngModel || type.key == ngModel}">{{:: prefixLabel + type.value | translate}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTemplateAmount/dbPmtTemplateAmount.html",'<div class="eb-amount" ng-class="{\'amount-negative\': highlightNegative &&  amount < 0}"><span class="amount-value" ng-if="fractionSize">{{amount | currency:\'\' : fractionSize | emptyFilter}}</span> <span class="amount-value" ng-if="!fractionSize">{{amount | currency:\'\' | emptyFilter}}</span> <span class="amount-currency" ng-show="amount != null">{{currency | emptyFilter}}</span></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTemplateSelect/dbPmtTemplateSelect.html",'<div class="select-searchbox"><ui-select eb-themable close-on-select="true" reset-search-input="true" ng-disabled="templatesPromise && templatesPromise.$$state.status === 0" search-enabled="true" theme="select2" on-select="selectRecipient($item, $model)"><ui-select-match placeholder="{{(templatesPromise && templatesPromise.$$state.status === 0) && (\'platform.component.template_select.placeholder.loading\' | translate) || (placeholder|translate)}}"><span ng-repeat="line in $select.selected.recipientName track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></ui-select-match><ui-select-choices class="block-choices" repeat="template in templatesList | filter: $select.search"><div class="template-name">{{template.templateName}}</div><div><span ng-repeat="line in ::template.recipientName track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div><div><span ng-repeat="line in ::template.title track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div></ui-select-choices></ui-select></div>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTitle/dbPmtTitle.html",'<span class="title-container"><div ng-repeat="line in title track by $index" class="title-line">{{line}}</div></span>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtTypeSelect/dbPmtTypeSelect.html",'<ui-select eb-themable search-enabled="false" theme="select2" on-select="selectPaymentType($item, $model)"><ui-select-match>{{$select.selected.key | translate}}</ui-select-match><ui-select-choices class="block-choices" repeat="type.value as type in paymentTypeList"><div ng-class="{\'selected-type\' : type.value == ngModel}">{{type.key | translate}}</div></ui-select-choices></ui-select>'),a.put("templates/dbnext-payments/0.0.12/directives/dbPmtUploadFile/dbPmtUploadFile.html",'<div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.quantity_correct_templates"><span></span></div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.quantity_incorrect_templates"><span></span></div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.quantity_duplicated_templates"><span></span></div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.action_duplicated_templates"><span></span></div><div></div></div>'),a.put("templates/dbnext-payments/0.0.12/elements/menu/payments-menuElementView.html",'<li ng-class="{\'active\': isStateActive(\'de.payments\')}" ng-controller="dbnext.payments.MenuElementController" ui-sref="de.payments.content.active"><span eb-themable class="eb-icon eb-ico-widget-payments"></span> <span eb-msg="payments.title"></span></li>'),a.put("templates/dbnext-payments/0.0.12/elements/widget/payments-widgetElementView.html",'<span ng-controller="dbnext.payments.WidgetElementController" class="widget-main" ng-cloak><span db-lay-tile miniapp-name="dbnext-payments" edit-mode="editMode"><eb-slide-widget content="{{widgetContent}}" items="paymentSummary" max-indicators="10" eb-items-promise="paymentsPromise" eb-update="submit(ctx, params, rel)"></eb-slide-widget><div ng-if="paymentsPromise.$$state.status === 1 && paymentSummary.content.length == 0" class="widget-content"><div class="widget-content-inner info-text">{{::\'db.payments.widget.empty_list.marketing_info\'|translate}}<br><a href="{{::\'db.payments.widget.empty_list.link_url\'|translate}}" target="_blank" ng-click="$event.stopPropagation()">{{::\'db.payments.widget.empty_list.link_name\'|translate}}</a></div></div><div class="box-action-panel" ng-click="$event.stopPropagation()"><div class="action-button"><eb-button ui-sref="de.payments.form.domestic" class="primary icon-right eb-icon eb-ico-plus"><i eb-themable class="eb-icon eb-ico-widget-payments widget-action-icon"></i><span eb-msg="db.payments.widget.view.new_payment"></span></eb-button></div></div></span></span>'),a.put("templates/dbnext-payments/0.0.12/elements/widget/payments-widgetElementViewContent.html",'<div class="widget-content"><span class="widget-name">{{::item.quantity}}&nbsp;<span eb-variety-msg="db.payments.widget.content.waiting_payments" count="item.quantity"></span></span><div><eb-item-property label="db.payments.widget.content.total_payments" class="widget-summary value-left"><eb-amount amount="item.amount" currency="{{::item.currency}}"></eb-amount></eb-item-property><eb-item-property label="db.payments.widget.content.next_payment" class="widget-summary big-value value-right"><span style="font-size: 15px; font-weight: 300">{{::(item.nextRealizationDate | amDateFormat : \'DD.MM.YYYY\')}}</span></eb-item-property></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAccept.html",'<div eb-themable class="step2 inner-form-padding center-form"><div class="panel-details"><div eb-section-header ng-show="!isEditMode && !headerTitleKey" eb-header="db.payments.new.step2.section_header.header" back-state="{{backState}}"></div><div eb-section-header ng-show="isEditMode && !headerTitleKey" eb-header="db.payments.new.step2.section_header.edit_header" back-state="de.cart.content"></div><div eb-section-header ng-show="headerTitleKey" eb-header="{{headerTitleKey}}" back-state="{{backState}}"></div><div ng-show="paymentPromise.$$state.status === 1"><div class="form-main-select payment-type-select-content"><div eb-responsive-row label="db.payments.new.step2.row.payment_type"><div>{{::getPaymentTypeKey(paymentDetails.transferType) | translate}}<span ng-if="paymentDetails.isCyclic">,&nbsp;{{::\'db.payments.details.row.transfer_type.cyclic\'|translate}}</span></div></div></div><div class="form-body payments-accept" ui-view></div><div class="shaded-section with-data"><div eb-responsive-row label="db.payments.new.step2.row.payment_date">{{paymentDetails.deliveryDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div eb-responsive-row ng-class="{\'last-row\' : !isAuthorization}" ng-show="paymentDetails.charges.length > 0" class="new-payment-step2-commission" label="db.payments.new.step2.row.charges"><div ng-repeat="charge in paymentDetails.charges track by $index"><div ng-show="$index > 0" style="padding-top: 10px"></div><span><eb-amount amount="charge.amount" currency="{{charge.currency}}" style="display: inline-block !important"></eb-amount></span>&nbsp;-&nbsp;<span>{{charge.description}}</span> <span ng-show="charge.bonusCount > 0"><br>({{charge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.new.step2.row.charge.gratis\'" count="charge.bonusCount"></span>)</span></div></div><div eb-responsive-row ng-class="{\'last-row\' : !isAuthorization}" label="db.payments.new.step2.row.charges" ng-show="(paymentDetails.charges == null) || (paymentDetails.charges.length == 0)"><div eb-msg="db.payments.new.step2.row.info.costs_not_available"></div></div><form name="authForm" ng-if="!cancelAccept" novalidate><div ng-if="!isCartIntent" eb-authorization eb-model="auth" eb-disposition-id="paymentDetails.id" eb-resource-type="payments" eb-relation="realize" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" is-shown="isAuthorization" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><div eb-action-footer ng-if="!isCartIntent && !fromCart" class="additional-option" cancel-label="db.payments.new.step2.action_footer.cancel_label" submit-label="db.payments.new.step2.action_footer.submit_label" cancel-action="change()" submit-action="accept(authForm)"><div ng-if="paymentDetails.transferType != \'OWN\'" eb-cart-insert submit="save()"></div></div><div eb-action-footer ng-if="isCartIntent && !fromCart" cancel-label="db.payments.new.step2.action_footer.cart_cancel_label" submit-label="db.payments.new.step2.action_footer.cart_submit_label" cancel-action="change()" submit-action="save()"></div><div eb-action-footer ng-if="fromCart" submit-label="db.payments.new.step2.action_footer.submit_label" submit-action="accept(authForm)"></div></form><eb-action-footer ng-if="cancelAccept" submit-label="db.payments.cancel.accept.submit_delete" submit-action="cancel()"></eb-action-footer></div></div></div><div eb-preloader eb-promise="paymentPromise" class="eb-preloader-default" eb-rejected-message="{{::\'db.payments.accept.rejected_response\'|translate}}"></div></div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptCardDebt.html",'<eb-responsive-row label="db.payments.details.row.card_number">{{paymentDetails.cardNoFromTitle}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{paymentDetails.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in paymentDetails.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_title"><div db-pmt-title eb-title="paymentDetails.title"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{paymentDetails.realizationDate | date : \'dd.MM.yyyy\'}}</eb-responsive-row><div ng-if="paymentDetails.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptDomestic.html",'<div eb-responsive-row label="db.payments.new.step2.row.beneficiary"><div db-lines-join eb-lines="paymentDetails.recipientName"></div></div><div eb-responsive-row top label="db.payments.new.step2.row.beneficiary_account_no"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row top label="db.payments.new.step2.row.beneficiary_bank"><span eb-domestic-bank-details nrb="{{paymentDetails.recipientAccountNo}}"></span></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_address"><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.new.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row top label="db.payments.new.step2.row.title"><div db-pmt-title eb-title="paymentDetails.title"></div></div><div ng-show="!paymentDetails.isCyclic || cancelAccept" eb-responsive-row label="db.payments.new.step2.row.realisation_date" ng-class="{\'new-payment-cycle-end\' : !payment.repeat, \'last-row\' : paymentDetails.clearingSystemType != \'SORBNET\'}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div ng-show="paymentDetails.isCyclic && !cancelAccept" eb-responsive-row label="db.payments.new.step2.row.realisation_first_date" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div ng-show="paymentDetails.isCyclic"><div eb-responsive-row label="db.payments.details.row.execution_every"><div>{{paymentDetails.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + paymentDetails.cyclicDefinition.periodType" count="paymentDetails.cyclicDefinition.period" ng-if="paymentDetails.cyclicDefinition.periodType"></span></div></div><div eb-responsive-row ng-class="{\'last-row\' : paymentDetails.isCyclic}" label="db.payments.details.row.execution_end_date"><span ng-show="paymentDetails.cyclicDefinition.endExecutionDate">{{paymentDetails.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</span> <span ng-show="!paymentDetails.cyclicDefinition.endExecutionDate" eb-msg="db.payments.new.step2.row.indefinitely"></span></div></div><div eb-responsive-row label="db.payments.new.step2.row.clearing_system.label" ng-if="paymentDetails.clearingSystemType == \'SORBNET\'" ng-class="{\'last-row\' : paymentDetails.clearingSystemType == \'SORBNET\'}"><span eb-msg="{{\'db.payments.new.step2.row.clearing_system.\' + paymentDetails.clearingSystemType}}"></span></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptInsurance.html",'<div eb-responsive-row label="db.payments.new.step2.row.insurance.label.insurance_account_no"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.payment_type"><div>{{\'db.payments.new.step1.row.insurance_payment_type_select.\' + paymentDetails.paymentDetails.paymentType | translate}}&nbsp;-&nbsp;{{paymentDetails.paymentDetails.paymentType}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.declaration"><div>{{paymentDetails.paymentDetails.declaration}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.declaration_no"><div>{{paymentDetails.paymentDetails.declarationNo}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.nip"><div>{{paymentDetails.paymentDetails.nip}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.second_id_type"><div>{{\'db.payments.new.step1.row.complementary_id_type_select.\' + paymentDetails.paymentDetails.secondIDType | translate}}&nbsp;({{paymentDetails.paymentDetails.secondIDType}})</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.second_id_no"><div>{{paymentDetails.paymentDetails.secondIDNo}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.decision_no" ng-show="paymentDetails.paymentDetails.decisionNo"><div>{{paymentDetails.paymentDetails.decisionNo}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.new.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row label="db.payments.new.step2.row.realisation_date"><div>{{paymentDetails.realizationDate | dateFilter}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptOwn.html",'<div eb-responsive-row label="db.payments.new.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row top label="db.payments.new.step2.row.beneficiary_own_account_no"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div><div class="bank-info"><span>Bank:&nbsp;</span><span eb-domestic-bank-details nrb="{{paymentDetails.recipientAccountNo}}"></span></div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary"><div db-lines-join eb-lines="paymentDetails.recipientName"></div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.new.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row top label="db.payments.new.step2.row.title"><div db-pmt-title eb-title="paymentDetails.title"></div></div><div ng-show="!paymentDetails.isCyclic || cancelAccept" eb-responsive-row label="db.payments.new.step2.row.realisation_date" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div ng-show="paymentDetails.isCyclic && !cancelAccept" eb-responsive-row label="db.payments.new.step2.row.realisation_first_date" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div ng-show="paymentDetails.isCyclic"><div eb-responsive-row label="db.payments.details.row.execution_every"><div>{{paymentDetails.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + paymentDetails.cyclicDefinition.periodType" count="paymentDetails.cyclicDefinition.period" ng-if="paymentDetails.cyclicDefinition.periodType"></span></div></div><div eb-responsive-row label="db.payments.details.row.execution_end_date"><span ng-show="paymentDetails.cyclicDefinition.endExecutionDate">{{paymentDetails.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</span> <span ng-show="!paymentDetails.cyclicDefinition.endExecutionDate" eb-msg="db.payments.new.step2.row.indefinitely"></span></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptRepayment.html",'<eb-responsive-row label="db.payments.details.row.loan_account_no">{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{paymentDetails.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in paymentDetails.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{paymentDetails.realizationDate | date : \'dd.MM.yyyy\'}}</eb-responsive-row><div ng-if="paymentDetails.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptSepa.html",'<div eb-responsive-row label="db.payments.new.step2.row.beneficiary"><div db-lines-join eb-lines="paymentDetails.recipientName"></div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_address"><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></div><div eb-responsive-row top label="db.payments.new.step2.row.beneficiary_account_no"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_bank_country_sepa" ng-show="paymentDetails.paymentDetails.foreignCountryCode"><div db-pmt-country-details country-code="{{paymentDetails.paymentDetails.foreignCountryCode}}"></div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_bank_info" ng-show="paymentDetails.paymentDetails.recipientSwift || (paymentDetails.paymentDetails.bankDetails && paymentDetails.paymentDetails.bankDetails.length > 0)"><div ng-if="paymentDetails.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{paymentDetails.paymentDetails.recipientSwift}}"></div><div ng-if="paymentDetails.paymentDetails.recipientSwift == null" ng-repeat="line in paymentDetails.paymentDetails.bankDetails track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div><div eb-responsive-row label="db.payments.new.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.new.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row top label="db.payments.new.step2.row.title"><div db-pmt-title eb-title="paymentDetails.title"></div></div><div eb-responsive-row class="last-row" label="db.payments.new.step2.row.realisation_date" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div class="sepa-payment"><div eb-responsive-row label="db.payments.new.step2.row.payment_id" ng-show="paymentDetails.paymentDetails.adtTransferId || isSepaActive"><div ng-show="paymentDetails.paymentDetails.adtTransferId">{{paymentDetails.paymentDetails.adtTransferId}}</div><div ng-show="!paymentDetails.paymentDetails.adtTransferId">{{\'db.payments.new.step2.row.payment_id.not_provided\' | translate}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_type" ng-show="paymentDetails.paymentDetails.adtSenderType"><div>{{\'db.payments.new.step2.row.sender_type.\' + paymentDetails.paymentDetails.adtSenderType | translate}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_id_type" ng-show="paymentDetails.paymentDetails.adtSenderIdentifierType"><div>{{paymentDetails.paymentDetails.adtSenderIdentifierType}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_id_no" ng-show="paymentDetails.paymentDetails.adtSenderIdentifier"><div>{{paymentDetails.paymentDetails.adtSenderIdentifier}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.recipient_type" ng-show="paymentDetails.paymentDetails.adtReceiverType"><div>{{\'db.payments.new.step2.row.sender_type.\' + paymentDetails.paymentDetails.adtReceiverType | translate}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.recipient_id_type" ng-show="paymentDetails.paymentDetails.adtReceiverIdentifierType"><div>{{paymentDetails.paymentDetails.adtReceiverIdentifierType}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.recipient_id_no" ng-show="paymentDetails.paymentDetails.adtReceiverIdentifier"><div>{{paymentDetails.paymentDetails.adtReceiverIdentifier}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.category" ng-show="paymentDetails.paymentDetails.adtTransferCategory"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.\' + paymentDetails.paymentDetails.adtTransferCategory | translate}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.purpose" ng-show="paymentDetails.paymentDetails.adtTransferDestination"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.\' + paymentDetails.paymentDetails.adtTransferDestination | translate}}</div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptSwift.html",'<div eb-responsive-row label="db.payments.new.step2.row.beneficiary"><div db-lines-join eb-lines="paymentDetails.recipientName"></div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_address"><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></div><div eb-responsive-row top label="db.payments.new.step2.row.beneficiary_account_no"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_swift"><div>{{paymentDetails.paymentDetails.recipientSwift | emptyFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_bank_country"><div db-pmt-country-details country-code="{{paymentDetails.paymentDetails.foreignCountryCode}}"></div></div><div eb-responsive-row label="db.payments.new.step2.row.beneficiary_bank_info"><div ng-if="paymentDetails.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{paymentDetails.paymentDetails.recipientSwift}}"></div><div ng-if="paymentDetails.paymentDetails.recipientSwift == null" ng-repeat="line in paymentDetails.paymentDetails.bankDetails track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.new.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row top label="db.payments.new.step2.row.title"><div db-pmt-title eb-title="paymentDetails.title"></div></div><div eb-responsive-row label="db.payments.new.step2.row.additional_info"><div>{{paymentDetails.paymentDetails.additionalInfo}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.cost_type"><div>{{\'db.payments.new.step2.row.cost_type.\' + paymentDetails.paymentDetails.costsType | lowercase | translate}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.realisation_date" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div eb-responsive-row ng-show="paymentDetails.paymentDetails.recipientSwift == null"><div eb-msg="db.payments.new.step2.row.empty_bic_swift_info"></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsAcceptTax.html",'<eb-responsive-row label="db.payments.new.step2.row.tax_office"><div db-lines-join eb-lines="paymentDetails.recipientName"></div><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.tax_office_account">{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.form_code">{{paymentDetails.paymentDetails.formCode}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.period_type"><span ng-if="paymentDetails.paymentDetails.periodType">{{::\'db.payments.new.step2.row.period_type.\' + paymentDetails.paymentDetails.periodType | translate}}</span> <span ng-if="!paymentDetails.paymentDetails.periodType">{{::\'db.payments.new.step2.row.period_type.zero\' | translate}}</span></eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.period_number">{{paymentDetails.paymentDetails.periodNumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.period_year">{{paymentDetails.paymentDetails.periodYear | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.additional_id_type">{{\'db.payments.new.step2.row.additional_id_type.\'+ paymentDetails.paymentDetails.idtype | translate | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.additional_id_number">{{paymentDetails.paymentDetails.idnumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.sender_account">{{paymentDetails.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.sender_name"><div ng-repeat="oneLineSenderName in paymentDetails.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><div eb-responsive-row label="db.payments.new.step2.row.obligation_id"><div>{{paymentDetails.paymentDetails.obligationId | emptyFilter}}</div></div><eb-responsive-row label="db.payments.new.step2.row.transfer_amount" class="payment-details-amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.execution_date">{{paymentDetails.realizationDate | date : \'dd.MM.yyyy\'}}<div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></eb-responsive-row><div eb-responsive-row class="new-payment-step2-repeat" ng-show="paymentDetails.isCyclic"><eb-checkbox eb-name="checkbox" eb-disabled="true" eb-model="paymentDetails.isCyclic" style="display: inline-block"></eb-checkbox><span style="display: inline-block; padding-left: 8px" eb-msg="db.payments.cycle.row.repeat"></span></div><div ng-show="paymentDetails.isCyclic"><div eb-responsive-row label="db.payments.details.row.execution_every"><div>{{paymentDetails.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + paymentDetails.cyclicDefinition.periodType" count="paymentDetails.cyclicDefinition.period" ng-if="paymentDetails.cyclicDefinition.periodType"></span></div></div><div eb-responsive-row label="db.payments.details.row.execution_end_date"><span ng-show="paymentDetails.cyclicDefinition.endExecutionDate">{{paymentDetails.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</span> <span ng-show="!paymentDetails.cyclicDefinition.endExecutionDate" eb-msg="db.payments.new.step2.row.indefinitely"></span></div></div><div ng-show="paymentDetails.saveTemplate"><div eb-responsive-row label="db.payments.details.row.template_name"><div>{{paymentDetails.templateName}}</div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsCancelForm.html",'<div class="step2 inner-form-padding center-form" ng-show="paymentCancellationPromise.$$state.status === 1"><eb-section-header ng-if="!details.isCyclic && !headerTitleKey" eb-header="{{\'db.payments.cancel.section_header.header\'|translate}}" back-state="{{backState}}"></eb-section-header><eb-section-header ng-if="details.isCyclic && !headerTitleKey" eb-header="{{\'db.payments.cancel.cyclic.section_header.header\'|translate}}" back-state="{{backState}}"></eb-section-header><eb-section-header ng-if="headerTitleKey" eb-header="{{headerTitleKey}}" back-state="{{backState}}"></eb-section-header><div class="form-body form-body-step2"><div ng-switch="details.transferType"><div ng-switch-when="OWN"><span ng-include="::pathPrefix + \'/views/paymentsDetailsOwnFields.html\'"></span></div><div ng-switch-when="DOMESTIC"><span ng-include="::pathPrefix + \'/views/paymentsDetailsDomesticFields.html\'"></span></div><div ng-switch-when="TAX"><span ng-include="::pathPrefix + \'/views/paymentsDetailsTaxFields.html\'"></span></div><div ng-switch-when="INSURANCE"><span ng-include="::pathPrefix + \'/views/paymentsDetailsInsuranceFields.html\'"></span></div><div ng-switch-when="REPAYMENT"><span ng-include="::pathPrefix + \'/views/paymentsDetailsRepaymentFields.html\'"></span></div><div ng-switch-when="CARD_DEBT"><span ng-include="::pathPrefix + \'/views/paymentsDetailsCardDebtFields.html\'"></span></div></div></div><div class="shaded-section"><form name="authForm" novalidate ng-if="!cancelAccept"><div eb-authorization eb-model="auth" eb-disposition-id="paymentCancellationDispositionId" eb-resource-type="payment_cancellations" eb-relation="accept_payment_cancellation" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><div eb-action-footer ng-if="!fromCart" submit-label="db.payments.cancel.accept.submit" submit-action="accept(authForm)"></div><div eb-action-footer ng-if="fromCart" submit-label="db.payments.new.step2.action_footer.submit_label" submit-action="accept(authForm)"></div></form><eb-action-footer ng-if="cancelAccept" submit-label="db.payments.cancel.accept.submit_delete" submit-action="cancel()"></eb-action-footer></div></div><div eb-preloader eb-promise="paymentCancellationPromise" class="eb-preloader-default" eb-rejected-message="{{::\'db.payments.accept.rejected_response\'|translate}}"></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsContent.html",'<div eb-themable><eb-mini-bar ng-hide="details" search-text="filterOptions.paymentName" eb-disable-more="true" eb-search-placeholder="{{::\'db.payments.content.mini_bar.placeholder\'|translate}}" add-icon-name="eb-ico-widget-payments" add-url="de.payments.form.domestic" add-title="{{::\'db.payments.content.mini_bar.title\'|translate}}" left-option-title="{{::\'db.payments.content.mini_bar.templates\' | translate}}" left-option-url="de.payments.templates" left-option-icon="eb-icon-template"></eb-mini-bar><db-tabs eb-model="filterParams.statusPaymentCriteria" eb-tabs="tabs" ng-hide="details"></db-tabs><div ui-view autoscroll="true" ng-class="anim_class" ng-swipe-left="emitTabChange(\'left\')" ng-swipe-right="emitTabChange(\'right\')" class="animate-on"></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsContentTab.html",'<div eb-themable><eb-list class="payments time-based-list" eb-promise="paymentListPromise"><div eb-list-item class="row" ng-repeat="payment in paymentList.content | filter:{wrappedText : filterOptions.paymentName}"><eb-list-item-content class="item-content-with-actions"><div class="date-cell cell_1_in_3"><span>{{payment.realizationDate | date : \'dd.MM.yyyy\'}}</span></div><!-- no whitespace fix--><div class="actions-cell"><div class="default-desktop-option"><a href="javascript:void(0)" class="option-row" ui-sref="^.details" store-context="payment"><span class="option-label" eb-msg="db.payments.templates.list.options.details"></span></a></div><div class="options" ng-class="{\'options-hidden-when-desktop\': !(hasLink(payment, \'create_payment_modification\') || hasLink(payment, \'cancel_payment\') || hasLink(payment, \'download_payment_details\'))}"><div eb-list-options><li class="option-hidden-when-desktop"><a class="option-row" ui-sref="^.details" store-context="payment"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.details"></span></a></li><li ng-if="hasLink(payment, \'create_payment_modification\')"><a class="option-row" ng-click="prepareEdit(payment)"><span eb-themable class="eb-icon eb-ico-edit options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.edit"></span></a></li><li ng-if="hasLink(payment, \'create_payment_cancellation\')"><a class="option-row" ui-sref="de.payments.cancel" store-context="payment"><span eb-themable class="eb-icon eb-ico-close options-icon"></span> <span class="option-label" eb-msg="db.payments.list.options.cancel"></span></a></li><li ng-if="hasLink(payment, \'download_payment_details\')"><a href="{{payment.link}}" target="{{payment.target}}"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="accounts.statements.options.label.download"></span></a></li></div></div></div><!-- no whitespace fix--><div class="amount-property-cell cell_3_in_3"><eb-amount amount="payment.amount" currency="{{payment.currency}}"></eb-amount></div><!-- no whitespace fix--><div class="description-property-cell cell_2_in_3"><div class="collapsed-recipient-name" ng-class="{\'expanded\' : !payment.isCollapsed}" db-lines-join eb-lines="payment.recipientName"></div><div ng-switch="payment.transferType" class="collapsed-description" ng-class="{\'expanded\' : !payment.isCollapsed}"><div ng-switch-when="TAX"><div>{{payment.paymentDetails.formCode}}</div><div ng-class="{\'expanded-more\' : payment.isCollapsed}"><div><span>{{payment.paymentDetails.periodYear}}</span><span ng-if="payment.paymentDetails.periodType">/{{payment.paymentDetails.periodType}}</span> <span ng-if="payment.paymentDetails.periodNumber">nr {{payment.paymentDetails.periodNumber}}</span></div><div ng-if="payment.paymentDetails.obligationId">{{payment.paymentDetails.obligationId}}</div></div></div><div ng-switch-when="INSURANCE"><div>{{::\'db.payments.content.list.insurance_type.\' + (payment.recipientAccountNo | limitTo : -6) | translate}}</div><div ng-class="{\'expanded-more\' : payment.isCollapsed}"><div><span ng-if="payment.paymentDetails.declaration">{{payment.paymentDetails.declaration | limitTo: 2}}/{{payment.paymentDetails.declaration | limitTo: -4}}</span> <span ng-if="payment.paymentDetails.declarationNo">nr {{payment.paymentDetails.declarationNo}}</span></div><div>{{payment.paymentDetails.paymentType}} - {{::\'db.payments.content.list.payment_type.\' + payment.paymentDetails.paymentType | translate}}</div></div></div><div ng-switch-default>{{payment.title[0]}}{{payment.title[1]}}{{payment.title[2]}}{{payment.title[3]}}</div></div></div></eb-list-item-content><eb-collapse is-collapsed="payment.isCollapsed"><eb-list-details><eb-list-details-item key="db.payments.content.list.collapse.transfer_type" class="payment-type-label payment-type-label-top"><div>{{::\'db.payments.content.list.collapse.transfer_type.\' + payment.transferType|lowercase|translate}}<span ng-if="payment.isCyclic">, {{::\'db.payments.content.list.collapse.transfer_type.cyclic\'|translate}}</span></div></eb-list-details-item><eb-list-details-item key="db.payments.content.list.collapse.sender_account" class="payment-type-label payment-type-label-top"><eb-account-number nrb="{{payment.accountNo}}"></eb-account-number></eb-list-details-item></eb-list-details></eb-collapse></div><div class="miniapp-empty-list" ng-if="paymentList.content.length == 0 || paymentList.summary[0].length == 0">{{::"db.payments.content.list.empty"|translate}}</div><div class="miniapp-empty-list" ng-if="paymentList.length == 0">{{::"db.payments.list_data_error"|translate}}</div></eb-list><div ng-show="paymentListPromise.$$state.status === 1"><eb-pagination eb-data="paymentList" eb-params="filterParams" eb-loading="loading" eb-pagination-count="5" scroll-to="paymentListId" callback="submit(ctx, params, rel)"></eb-pagination></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetails.html",'<div eb-themable><div ng-show="paymentDetailsPromise.$$state.status === 1"><eb-section-header eb-header-type="{{\'db.payments.details.row.transfer_type\' + (details.transferType ? \'.\' : \'\') + details.transferType|lowercase|translate}}" eb-header="{{\'db.payments.details.section_header.header\'|translate}}" back-state="{{currentTabState.stateName}}"></eb-section-header><div class="details-body" ng-if="details != null"><eb-responsive-row label="db.payments.details.row.transfer_type"><div>{{\'db.payments.details.row.transfer_type.\' + details.transferType|lowercase|translate}}<span ng-if="details.isCyclic">,&nbsp;{{::\'db.payments.details.row.transfer_type.cyclic\'|translate}}</span></div></eb-responsive-row><div ng-switch="details.transferType"><div ng-switch-when="OWN"><span ng-include="::pathPrefix + \'/views/paymentsDetailsOwnFields.html\'"></span></div><div ng-switch-when="DOMESTIC"><span ng-include="::pathPrefix + \'/views/paymentsDetailsDomesticFields.html\'"></span></div><div ng-switch-when="PAY_BY_LINK"><span ng-include="::pathPrefix + \'/views/paymentsDetailsDomesticFields.html\'"></span></div><div ng-switch-when="SWIFT"><span ng-include="::pathPrefix + \'/views/paymentsDetailsSwiftFields.html\'"></span></div><div ng-switch-when="TAX"><span ng-include="::pathPrefix + \'/views/paymentsDetailsTaxFields.html\'"></span></div><div ng-switch-when="INSURANCE"><span ng-include="::pathPrefix + \'/views/paymentsDetailsInsuranceFields.html\'"></span></div><div ng-switch-when="REPAYMENT"><span ng-include="::pathPrefix + \'/views/paymentsDetailsRepaymentFields.html\'"></span></div><div ng-switch-when="CARD_DEBT"><span ng-include="::pathPrefix + \'/views/paymentsDetailsCardDebtFields.html\'"></span></div><div ng-switch-when="SEPA"><span ng-include="::pathPrefix + \'/views/paymentsDetailsSepaFields.html\'"></span></div></div><eb-responsive-row label="db.payments.details.row.payment_description" ng-if="details.status == \'REJECTED\'">{{details.lastRealizationDesc | emptyFilter}}</eb-responsive-row></div></div><eb-preloader eb-promise="paymentDetailsPromise" class="eb-preloader-default" eb-rejected-message="{{::\'db.payments.details.rejected_response\'|translate}}"></eb-preloader><div class="miniapp-empty-list" ng-if="details == null">{{::\'db.payments.list_data_error\'|translate}}</div></div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsCardDebtFields.html",'<eb-responsive-row label="db.payments.details.row.card_number">{{details.cardNoFromTitle}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && (modificationData.amount != details.amount)" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_title"><div db-pmt-title eb-title="details.title"></div><div ng-if="titleChanged" class="modification-data"><div db-pmt-title eb-title="modificationData.title"></div></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}&nbsp;<div ng-if="modificationDisposition && modificationData.realizationDate != null && (modificationData.realizationDate != details.realizationDate)" class="modification-data">({{modificationData.realizationDate | date : \'dd.MM.yyyy\'}})</div></eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsCyclicFields.html",'<eb-responsive-row label="db.payments.details.row.execution_every">{{details.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + details.cyclicDefinition.periodType" count="details.cyclicDefinition.period" ng-if="details.cyclicDefinition.periodType"></span> &nbsp;<div ng-if="modificationDisposition && (modificationData.cyclicDefinition.period != details.cyclicDefinition.period) && details.cyclicDefinition.period != null" class="modification-data">({{modificationData.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + modificationData.cyclicDefinition.periodType" count="modificationData.cyclicDefinition.period" ng-if="modificationData.cyclicDefinition.periodType"></span>)</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_end_date">{{details.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}&nbsp;<div ng-if="modificationDisposition && (modificationData.cyclicDefinition.endExecutionDate != details.cyclicDefinition.endExecutionDate)" class="modification-data">({{modificationData.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}})</div></eb-responsive-row><eb-responsive-row ng-class="{\'last-row\' : details.clearingSystemType != \'SORBNET\'}" label="db.payments.details.row.execution_previous_date">{{details.cyclicDefinition.previousExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsDomesticFields.html",'<eb-responsive-row label="db.payments.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_account">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_bank"><div eb-domestic-bank-details nrb="{{details.recipientAccountNo}}"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && (modificationData.amount != details.amount)" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_title"><div db-pmt-title eb-title="details.title" class="payment-details-title"></div><br><div ng-if="titleChanged" class="modification-data"><div db-pmt-title eb-title="modificationData.title"></div></div></eb-responsive-row><eb-responsive-row ng-if="!details.isCyclic" label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}&nbsp;<div ng-if="modificationDisposition && modificationData.realizationDate != null && (modificationData.realizationDate != details.realizationDate)" class="modification-data">({{modificationData.realizationDate | date : \'dd.MM.yyyy\'}})</div></eb-responsive-row><eb-responsive-row ng-if="details.isCyclic" label="db.payments.details.row.first_execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}&nbsp;<div ng-if="modificationDisposition && (modificationData.cyclicDefinition.beginExecutionDate != details.realizationDate) && modificationData.cyclicDefinition.beginExecutionDate != null" class="modification-data">({{modificationData.cyclicDefinition.beginExecutionDate | date : \'dd.MM.yyyy\'}})</div></eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div><eb-responsive-row label="db.payments.details.row.delivery_date" ng-if="!details.isCyclic">{{details.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row ng-class="{\'last-row\' : details.clearingSystemType != \'SORBNET\'}" label="db.payments.details.row.execution_fee" ng-if="!details.isCyclic"><div ng-repeat="oneCharge in details.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;<span>{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.charge.gratis\'" count="oneCharge.bonusCount"></span>)</span></span></span></div><div ng-if="details.charges.length == 0">—</div></eb-responsive-row><eb-responsive-row class="last-row" label="db.payments.details.row.clearing_system.label" ng-show="details.clearingSystemType == \'SORBNET\'"><span eb-msg="{{\'db.payments.details.row.clearing_system.\' + details.clearingSystemType}}"></span></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsInsuranceFields.html",'<eb-responsive-row label="db.payments.details.row.zus_account">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.payment_type">{{details.paymentDetails.paymentType}} - {{::\'db.payments.details.row.payment_type.\' + details.paymentDetails.paymentType | translate}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.declaration_month">{{details.paymentDetails.declaration | limitTo: 2}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.declaration_year">{{details.paymentDetails.declaration | limitTo: -4}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.declaration_number">{{details.paymentDetails.declarationNo}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.decision_no">{{details.paymentDetails.decisionNo | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.payer_nip">{{details.paymentDetails.nip}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.additional_id_type">{{::\'db.payments.details.row.additional_id_type.\' + details.paymentDetails.secondIDType | translate}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.additional_id_number">{{details.paymentDetails.secondIDNo}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && modificationData.amount != details.amount" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}&nbsp;<div ng-if="modificationDisposition && (modificationData.realizationDate != details.realizationDate)" class="modification-data">({{modificationData.realizationDate | date : \'dd.MM.yyyy\'}})</div></eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div><eb-responsive-row label="db.payments.details.row.delivery_date" ng-if="!details.isCyclic">{{details.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row class="last-row" label="db.payments.details.row.execution_fee" ng-if="!details.isCyclic"><div ng-repeat="oneCharge in details.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;<span>{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.charge.gratis\'" count="oneCharge.bonusCount"></span>)</span></span></span></div></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsOwnFields.html",'<eb-responsive-row label="db.payments.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_account">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_bank"><div eb-domestic-bank-details nrb="{{details.recipientAccountNo}}"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && modificationData.amount != details.amount" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_title"><div db-pmt-title eb-title="details.title" class="payment-details-title"></div><br><div ng-if="titleChanged" class="modification-data"><div db-pmt-title eb-title="modificationData.title"></div></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}&nbsp;<div ng-if="modificationDisposition && modificationData.realizationDate != null && (modificationData.realizationDate != details.realizationDate)" class="modification-data">({{modificationData.realizationDate | date : \'dd.MM.yyyy\'}})</div></eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div><eb-responsive-row label="db.payments.details.row.delivery_date" ng-if="!details.isCyclic">{{details.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row class="last-row" label="db.payments.details.row.execution_fee" ng-if="!details.isCyclic"><div ng-repeat="oneCharge in details.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;<span>{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.charge.gratis\'" count="oneCharge.bonusCount"></span>)</span></span></span></div></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsRepaymentFields.html",'<eb-responsive-row label="db.payments.details.row.loan_account_no">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}</eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsSepaFields.html",'<eb-responsive-row label="db.payments.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_account">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_bank_country" ng-show="details.paymentDetails.foreignCountryCode"><div db-pmt-country-details country-code="{{details.paymentDetails.foreignCountryCode}}"></div></eb-responsive-row><eb-responsive-row top label="db.payments.details.row.beneficiary_bank" ng-show="details.paymentDetails.recipientSwift || (details.paymentDetails.bankDetails && details.paymentDetails.bankDetails.length > 0)"><div ng-if="details.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{details.paymentDetails.recipientSwift}}"></div><div ng-if="details.paymentDetails.recipientSwift == null" ng-repeat="line in details.paymentDetails.bankDetails track by $index">{{line}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && modificationData.amount != details.amount" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_title"><div db-pmt-title eb-title="details.title" class="payment-details-title"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}</eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div><eb-responsive-row label="db.payments.details.row.delivery_date" ng-if="!details.isCyclic">{{details.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_fee" ng-if="!details.isCyclic"><div ng-repeat="oneCharge in details.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;<span>{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.charge.gratis\'" count="oneCharge.bonusCount"></span>)</span></span></span></div></eb-responsive-row><div class="sepa-payment"><eb-responsive-row label="db.payments.details.row.payment_id" ng-show="details.paymentDetails.adtTransferId || isSepaActive"><div ng-show="details.paymentDetails.adtTransferId">{{details.paymentDetails.adtTransferId}}</div><div ng-show="!details.paymentDetails.adtTransferId">{{\'db.payments.new.step2.row.payment_id.not_provided\' | translate}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_type" ng-show="details.paymentDetails.adtSenderType && adtSenderTypeIsOk"><div>{{\'db.payments.new.step2.row.sender_type.\' + details.paymentDetails.adtSenderType | translate}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_id_type" ng-show="details.paymentDetails.adtSenderIdentifierType"><div>{{details.paymentDetails.adtSenderIdentifierType}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_id_no" ng-show="details.paymentDetails.adtSenderIdentifier"><div>{{details.paymentDetails.adtSenderIdentifier}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.recipient_type" ng-show="details.paymentDetails.adtReceiverType && adtReceiverTypeIsOk"><div>{{\'db.payments.new.step2.row.sender_type.\' + details.paymentDetails.adtReceiverType | translate}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.recipient_id_type" ng-show="details.paymentDetails.adtReceiverIdentifierType"><div>{{details.paymentDetails.adtReceiverIdentifierType}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.recipient_id_no" ng-show="details.paymentDetails.adtReceiverIdentifier"><div>{{details.paymentDetails.adtReceiverIdentifier}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.category" ng-show="details.paymentDetails.adtTransferCategory && adtTransferCategoryIsOk"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.\' + details.paymentDetails.adtTransferCategory | translate}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.purpose" ng-show="details.paymentDetails.adtTransferDestination && adtTransferDestinationIsOk"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.\' + details.paymentDetails.adtTransferDestination | translate}}</div></eb-responsive-row></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsSwiftFields.html",'<eb-responsive-row label="db.payments.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_account">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_swift">{{details.paymentDetails.recipientSwift | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_bank_country"><div db-pmt-country-details country-code="{{details.paymentDetails.foreignCountryCode}}"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.beneficiary_bank"><div ng-if="details.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{details.paymentDetails.recipientSwift}}"></div><div ng-if="details.paymentDetails.recipientSwift == null" ng-repeat="line in details.paymentDetails.bankDetails track by $index">{{line}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && modificationData.amount != details.amount" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_title"><div db-pmt-title eb-title="details.title" class="payment-details-title"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_additional_info">{{details.paymentDetails.additionalInfo | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.cost_type">{{\'db.payments.details.row.cost_type.\' + details.paymentDetails.costTypeKey | translate}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}</eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div><eb-responsive-row label="db.payments.details.row.delivery_date" ng-if="!details.isCyclic">{{details.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_fee" ng-if="!details.isCyclic"><div ng-repeat="oneCharge in details.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;<span>{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.charge.gratis\'" count="oneCharge.bonusCount"></span>)</span></span></span></div></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsDetailsTaxFields.html",'<eb-responsive-row label="db.payments.details.row.tax_office"><div db-lines-join eb-lines="details.recipientName"></div><div db-lines-join eb-lines="details.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.tax_office_account">{{details.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.form_symbol">{{details.paymentDetails.formCode}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_period"><span ng-if="details.paymentDetails.periodType">{{::\'db.payments.details.row.period_type.\' + details.paymentDetails.periodType | translate}}</span> <span ng-if="!details.paymentDetails.periodType">{{::\'db.payments.details.row.liability_zero_period\' | translate}}</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_period_number">{{details.paymentDetails.periodNumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_period_year">{{details.paymentDetails.periodYear | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_id">{{details.paymentDetails.obligationId | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.additional_id_type">{{::\'db.payments.details.row.additional_id_type.\' + details.paymentDetails.idtype | translate}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.additional_id_number">{{details.paymentDetails.idnumber}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{details.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row top label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in details.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount><span ng-if="modificationDisposition && modificationData.amount != details.amount" class="modification-data">&nbsp;(<eb-amount amount="modificationData.amount" currency="{{modificationData.currency}}"></eb-amount>)</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.execution_date">{{details.realizationDate | date : \'dd.MM.yyyy\'}}&nbsp;<div ng-if="modificationDisposition && (modificationData.realizationDate != details.realizationDate)" class="modification-data">({{modificationData.realizationDate | date : \'dd.MM.yyyy\'}})</div></eb-responsive-row><div ng-if="details.isCyclic" ng-include="::pathPrefix + \'/views/paymentsDetailsCyclicFields.html\'"></div><eb-responsive-row label="db.payments.details.row.delivery_date" ng-if="!details.isCyclic">{{details.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row class="last-row" label="db.payments.details.row.execution_fee" ng-if="!details.isCyclic"><div ng-repeat="oneCharge in details.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;<span>{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.charge.gratis\'" count="oneCharge.bonusCount"></span>)</span></span></span></div></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsForm.html",'<div class="inner-payment-form center-app-header"><div eb-content-navigation></div><div style="position:relative"><div class="inner-form-padding center-form"><div eb-themable><eb-section-header eb-header="db.payments.new.step1.section_header.header" back-state="{{currentTabState.stateName}}"></eb-section-header><div class="form-main-select payment-type-select-content" ng-show="viewReady"><eb-responsive-row label="db.payments.new.step2.row.payment_type"><db-pmt-type-select ng-model="formData.formType"></db-pmt-type-select></eb-responsive-row></div><div class="form-body" eb-view-swap="viewLoaded" view-ready="viewReady"><form name="paymentAddForm" novalidate><div ui-view autoscroll="true"></div><eb-action-footer submit-label="db.payments.new.step1.action_footer.submit_label" submit-icon="eb-ico-widget-payments" submit-action="submit(paymentAddForm)"><div eb-cart-insert ng-if="formData.formType != \'OWN\'" eb-model="formData.formModel" eb-form="paymentAddForm" submit="submit(paymentAddForm)"></div></eb-action-footer></form></div><eb-preloader visible delay="10" class="eb-preloader-default"></eb-preloader></div></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsFormDomestic.html",'<div eb-responsive-row label="db.payments.new.step1.row.recipient_template"><div db-pmt-recipient-select eb-form="paymentAddForm" eb-name="templateSelect" ng-model="formData.formModel" ng-click="scrollTop()" eb-required="true" template-type="DOMESTIC" eb-placeholder="{{::\'db.payments.new.step1.row.recipient_template.placeholder\'|translate}}" eb-default-template="defaultTemplate" eb-template-active="formData.formModel.transferFromTemplate" controll-change-event="controllEvent.value" eb-max-length="70"></div><eb-validation-messages eb-name="templateSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.template_select.validate"></span></div><div eb-message-key="payments.templateId.template.not.found">{{::\'db.payments.new.step1.row.template.invalid.not_found\'|translate}}</div><div eb-message-key="payments.recipientName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="maxlength"><span eb-msg="db.payments.new.step1.row.template.invalid.maxlength"></span></div><div eb-message-key="transfer.recipientName.error.recipient.name.is.blank"><span eb-msg="db.payments.new.step1.row.template_select.validate"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.new.step1.row.beneficiary_account_number"><span eb-themable class="eb-input-nrb"><eb-input-nrb name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" ng-required="true" eb-placeholder="{{::\'db.payments.new.step1.row.beneficiary_account_number.placeholder\'|translate}}"></eb-input-nrb></span><div eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.component.nrb.required"></span></div><div eb-message-key="transfer.recipientAccountNo.error.bank_not_found"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate.error.bank_not_found"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"></span></div><div eb-message-key="transfer.recipientAccountNo.validate_recipient_account.is.tax.office.account"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate_recipient_account.is.tax.office.account"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.recipient.account_is.zus.account"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate.recipient.account_is.zus.account"></span></div><div eb-message-key="payments.recipientAccountNo.NRB"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="payments.recipientAccountNo.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.beneficiaryAccountId.error.recipient.account.is.the.same.as.the.sender"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate_recipient_account.is_the_same_as_the_sender"></span></div><div eb-message-key="transfer.recipientAccountNo.error.recipient.account.is.internal.for.sorbnet"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.error.recipient.account.is.internal.for.sorbnet"></span></div><div eb-message-key="transfer.recipientAccountNo.error.recipient.account.is.in.external.branch.in.our.bank.for.sorbnet"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.error.recipient.account.is.in.external.branch.in.our.bank.for.sorbnet"></span></div></div></div><div collapse="formData.formModel.recipientAccountNo.length != 26" class="close-section" ng-class="{\'collapse-fix\': collapseFix}"><div eb-responsive-row><div class="bank-info" ng-show="formData.formModel.recipientAccountNo.length == 26"><span eb-msg="db.payments.new.step1.row.bank_info"></span>&nbsp;<span eb-domestic-bank-details nrb="{{formData.formModel.recipientAccountNo}}"></span></div></div></div><div class="new-domestic-payment-collapse-label"><div db-pmt-collapse-label collapse-label="db.payments.new.step1.row.collapse.beneficiary_address" label="db.payments.new.step1.row.collapse.beneficiary_address" ng-model="typeAdres" eb-row="true"></div><div collapse="typeAdres" ng-init="typeAdres = true"><div eb-responsive-row><div db-pmt-simple-textarea class="one-line-address-area" placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.address.placeholder\'|translate}}" ng-model="formData.formModel.recipientAddress" eb-name="address" eb-required="false" eb-resizable="true" eb-maxlength="70" eb-form="paymentAddForm"></div></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sender_account"><div eb-account-select name="remitterAccountId" ng-model="formData.formModel.remitterAccountId" primary-account-number="primaryAccount" account="formData.remitterAccount" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.account_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="remitterAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.account_select.validate"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div></div></div><div eb-responsive-row center label="db.payments.new.step1.row.sender"><div eb-sender-select ng-model="formData.formModel.remitterId" account-id="{{formData.formModel.remitterAccountId}}" eb-required="true" placeholder="{{::\'db.payments.new.step1.row.sender_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="senderSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sender_select.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{formData.remitterAccount.currency}}" ng-model="formData.formModel.amount" eb-form="paymentAddForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_max"></span></div></div></div><div collapse="formData.exchangeMessageHidden" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="formData.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="!formData.exchangeMessageHidden" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="formData.exchange=!formData.exchange" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row top class="one-line-text-area" label="db.payments.new.step1.row.title" label-for="oneLineTextArea"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.description" eb-name="description" eb-form="paymentAddForm" invalid-elixir-characters-key="db.payments.new.step1.row.description.invalid_elixir_characters"></div><div eb-validation-messages eb-name="description"><div eb-message-key="payments.description.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.new.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.realization_date.validate.format"></span></div><div eb-message-key="transfer.paymentDate.error.payment.date.is.invalid.for.sorbnet"><span eb-msg="db.payments.new.step1.row.paymentDate.error.payment.date.is.invalid.for.sorbnet"></span></div><div eb-message-key="payments.realizationDate.Future"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div></div></div><div db-pmt-optional-section ng-model="formData.formModel.cyclicExecution" class="close-section" label="db.payments.cycle.row.repeat"><div eb-responsive-row label="db.payments.new.step1.row.realisation_cycle" label-for="count"><div db-pmt-execution-period period="formData.formModel.cyclicExecutionPeriodType" period-count="formData.formModel.cyclicExecutionPeriod" form-name="paymentAddForm" eb-required="formData.formModel.cyclicExecution"></div><div eb-validation-messages eb-name="count"><div eb-message-key="pattern"><span eb-msg="db.payments.new.step1.row.period.validate.pattern"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.period.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.end_date"><div db-pmt-end-date-input eb-form="paymentAddForm" end-date="formData.formModel.cyclicExecutionEndDate" start-date="formData.formModel.realizationDate" period-count="formData.formModel.cyclicExecutionPeriod" period-type="formData.formModel.cyclicExecutionPeriodType" eb-base-min-date="formData.formModel.realizationDate" eb-required="formData.formModel.cyclicExecution"></div></div></div><div eb-responsive-row class="sorbnet-row last-row" label="db.payments.new.step1.row.sorbnet.label"><div db-pmt-sorbnet-checkbox eb-cyclic="formData.formModel.cyclicExecution" eb-model="formData.formModel.sendBySorbnet" eb-name="sorbnet" eb-form="paymentAddForm" amount-model="formData.formModel.amount" recipient-account-no-model="formData.formModel.recipientAccountNo" eb-amount-field-name="amount" eb-date-field-name="paymentDate" eb-account-field-name="recipientAccountNo"></div><div eb-validation-messages eb-name="sorbnet"><div eb-message-key="sorbnet.required"><span eb-msg="db.payments.new.step1.row.sorbnet.validate.required"></span></div><div eb-message-key="sorbnet.cyclic"><span eb-msg="db.payments.new.step1.row.sorbnet.validate.cyclic"></span></div></div></div><!-- <div eb-responsive-row label=""> Deliever by SORBNET system Mittels SORBNET-System überweisen\n    <div db-pmt-add-to-shopping-order eb-name="addToShop" ng-model="formData.formModel.addToShop" eb-label="db.payments.new.add_to_shop"></div>\n</div> -->'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsFormInsurance.html",'<div eb-responsive-row class="no-padding"><div eb-insurance-template-link eb-form="paymentAddForm" eb-form-data="formData" eb-text="insuranceText" eb-default-template="defaultTemplate" eb-control-change-event="controllEvent.value"></div></div><div eb-responsive-row label="db.payments.new.step1.row.insurance_account_select.label"><div eb-insurance-account-select name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" monitor-value="formData.formModel.insuranceDestinationType" insurance-accounts-key="db.payments.new.step1.row.insurance_account_select." placeholder="{{::\'db.payments.new.step1.row.insurance_account_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.insurance_account_select.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.insurance_payment_type_select.label"><div eb-insurance-payment-type-select name="insurancePaymentType" ng-model="formData.formModel.paymentType" insurance-payment-types-key="db.payments.new.step1.row.insurance_payment_type_select." placeholder="{{::\'db.payments.new.step1.row.insurance_payment_type_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="insurancePaymentType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.insurance_payment_type_select.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.declaration.label"><div eb-themable eb-declaration-input declaration-validator name="declarationDate" ng-model="formData.formModel.declarationDate" max-length="6" placeholder="{{::\'db.payments.new.step1.row.declaration.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="declarationDate"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.declaration.validate.required"></span></div><div eb-message-key="payments.declarationDate.transfer_insurance_add.validate.invalid_declaration_date"><span eb-msg="db.payments.new.step1.row.declaration.validate.incorrect"></span></div><div eb-message-key="transfer.declarationDate.error.transfer.invalid.declaration_date"><span eb-msg="db.payments.new.step1.row.declaration.validate.incorrect"></span></div><div eb-message-key="payments.declarationDate.Size"><span eb-msg="db.payments.new.step1.row.declaration.validate.incorrect"></span></div><div eb-message-key="declarationValid"><span eb-msg="db.payments.new.step1.row.declaration.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.declaration_no.label"><div eb-themable eb-declaration-no-input declaration-no-validator name="declarationNo" ng-model="formData.formModel.declarationNo" insurance-payment-type="formData.formModel.paymentType" max-length="2" placeholder="{{::\'db.payments.new.step1.row.declaration_no.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="declarationNo"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.declaration_no.validate.required"></span></div><div eb-message-key="declarationNoValid"><span eb-msg="db.payments.new.step1.row.declaration_no.validate.incorrect"></span></div><div eb-message-key="transfer.declarationNo.error.transfer.invalid.declaration_no"><span eb-msg="db.payments.new.step1.row.declaration_no.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.nip.label"><div eb-themable><input type="text" class="simple-input" nip-validator maxlength="10" ng-model="formData.formModel.nip" ng-model-options="{ updateOn: \'blur\' }" name="nip" placeholder="{{::\'db.payments.new.step1.row.nip.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="nip"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.nip.validate.required"></span></div><div eb-message-key="payments.nip.transfer_insurance_add.validate.invalid_nip"><span eb-msg="db.payments.new.step1.row.nip.validate.incorrect"></span></div><div eb-message-key="nipValid"><span eb-msg="db.payments.new.step1.row.nip.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.complementary_id_type_select.label"><div eb-complementary-id-type-select name="secondaryIdType" ng-model="formData.formModel.secondaryIdType" monitor-value="formData.formModel.secondaryIdTypeModel" complementary-id-types-key="db.payments.new.step1.row.complementary_id_type_select." placeholder="{{::\'db.payments.new.step1.row.complementary_id_type_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="secondaryIdType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.complementary_id_type_select.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.complementary_id_type.label"><div eb-themable eb-complementary-id-input complementary-id-validator name="idNumber" ng-model="formData.formModel.secondaryIdNo" complementary-id-type="formData.formModel.secondaryIdTypeModel" max-length="14" placeholder="{{::\'db.payments.new.step1.row.complementary_id_type.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="idNumber"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.required"></span></div><div eb-message-key="complementaryValid"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.pesel"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.id_card"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.regon"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.passport"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sender_account"><div eb-account-select name="remitterAccountId" ng-model="formData.formModel.remitterAccountId" primary-account-number="primaryAccount" account="formData.remitterAccount" placeholder="{{::\'db.payments.new.step1.row.account_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="remitterAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.account_select.validate"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sender"><div eb-sender-select ng-model="formData.formModel.remitterId" account-id="{{formData.formModel.remitterAccountId}}" eb-required="true" placeholder="{{::\'db.payments.new.step1.row.sender_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="senderSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sender_select.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.decision_no.label"><div eb-themable eb-decision-no-input eb-name="decisionNo" ng-model="formData.formModel.decisionNo" insurance-payment-type="formData.formModel.paymentType" max-length="15" placeholder="{{::\'db.payments.new.step1.row.decision_no.placeholder\'|translate}}" eb-form="paymentAddForm"></div><div eb-validation-messages eb-name="decisionNo"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.decision_no.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="PLN" ng-model="formData.formModel.amount" eb-form="paymentAddForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_max"></span></div></div></div><div collapse="formData.remitterAccount.currency == \'PLN\'" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="formData.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="formData.remitterAccount.currency != \'PLN\'" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="formData.exchange=!formData.exchange" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row class="last-row" label="db.payments.new.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.new.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.realization_date.validate.format"></span></div><div eb-message-key="payments.realizationDate.Future"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsFormOwn.html",'<div eb-responsive-row label="db.payments.new.step1.row.sender_account"><div eb-account-select name="remitterAccountId" ng-model="formData.formModel.remitterAccountId" primary-account-number="primaryAccount" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.account_select.placeholder\'|translate}}" account="formData.remitterAccount"></div><div eb-validation-messages eb-name="remitterAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.account_select.validate"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.beneficiary_own_account_no"><div eb-account-select name="beneficiaryAccountId" ng-model="formData.formModel.beneficiaryAccountId" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.beneficiary_account_select.placeholder\'|translate}}" account="formData.beneficiaryAccount" eb-opposite-account="{{formData.formModel.remitterAccountId}}" self self-account-no="{{formData.formModel.recipientAccountNo}}"></div><div eb-validation-messages eb-name="beneficiaryAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.beneficiary_account_select.validate"></span></div></div></div><div eb-responsive-row top label="db.payments.new.step1.row.recipient" ng-show="formData.formModel.beneficiaryAccountId != null"><div class="new-payment-beneficiary-info"><div eb-beneficiary-name account-id="{{formData.formModel.beneficiaryAccountId}}"></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{formData.remitterAccount.currency}}" ng-model="formData.formModel.amount" eb-form="paymentAddForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_max"></span></div></div></div><div collapse="formData.exchangeMessageHidden" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="formData.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="!formData.exchangeMessageHidden" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="formData.exchange=!formData.exchange" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row top class="one-line-text-area" label="db.payments.new.step1.row.title" label-for="oneLineTextArea"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.description" eb-name="description" eb-form="paymentAddForm"></div><div eb-validation-messages eb-name="description"><div eb-message-key="transfer_order.description.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.new.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.realization_date.validate.format"></span></div><div eb-message-key="payments.realizationDate.Future"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div></div></div><div db-pmt-optional-section ng-model="formData.formModel.cyclicExecution" class="close-section" label="db.payments.cycle.row.repeat"><div eb-responsive-row label="db.payments.new.step1.row.realisation_cycle" label-for="count"><div db-pmt-execution-period period="formData.formModel.cyclicExecutionPeriodType" period-count="formData.formModel.cyclicExecutionPeriod" form-name="paymentAddForm" eb-required="formData.formModel.cyclicExecution"></div><div eb-validation-messages eb-name="count"><div eb-message-key="pattern"><span eb-msg="db.payments.new.step1.row.period.validate.pattern"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.period.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.end_date"><div db-pmt-end-date-input eb-form="paymentAddForm" end-date="formData.formModel.cyclicExecutionEndDate" period-count="formData.formModel.cyclicExecutionPeriod" period-type="formData.formModel.cyclicExecutionPeriodType" eb-base-min-date="formData.formModel.realizationDate" eb-required="formData.formModel.cyclicExecution"></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsFormSepa.html",'<div eb-responsive-row label="db.payments.new.step1.row.recipient_template"><div db-pmt-recipient-select eb-form="paymentAddForm" eb-name="templateSelect" ng-model="formData.formModel" ng-click="scrollTop()" eb-required="true" template-type="SEPA" eb-placeholder="{{::\'db.payments.new.step1.row.recipient_template.placeholder\'|translate}}" eb-default-template="defaultTemplate" eb-template-active="formData.formModel.transferFromTemplate" controll-change-event="controllEvent.value" eb-max-length="70"></div><div eb-validation-messages eb-name="templateSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.template_select.validate"></span></div><div eb-message-key="maxlength"><span eb-msg="db.payments.new.step1.row.template.invalid.maxlength"></span></div></div><eb-validation-messages eb-name="templateSelect"><div eb-message-key="payments.templateId.template.not.found">{{::\'db.payments.new.step1.row.template.invalid.not_found\'|translate}}</div><div eb-message-key="payments.recipientName.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.invalid_iso20022_characters"></span></div><div eb-message-key="transfer.recipientName.error.recipient.name.is.blank"><span eb-msg="db.payments.new.step1.row.template_select.validate"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.new.step1.row.collapse.beneficiary_address"><div db-pmt-simple-textarea class="one-line-address-area" placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.address.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.recipientAddress" eb-name="address" eb-form="paymentAddForm" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-required="false"></div><div eb-validation-messages eb-name="address"><div eb-message-key="payments.recipientAddress.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sepa_xml.country.label"><db-pmt-country-select name="beneficiaryCountryCode" eb-name="beneficiaryCountryCode" ng-model="formData.formModel.recipientBankCountryCode" eb-placeholder="{{::\'db.payments.new.step1.row.sepa_xml.country.placeholder\'|translate}}" eb-form="paymentAddForm" ng-required="true"></db-pmt-country-select><div eb-validation-messages eb-name="beneficiaryCountryCode"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.country.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.beneficiary_account_number"><span eb-themable class="eb-input-nrb"><eb-input-nrb name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" ng-required="true" eb-placeholder="{{::\'db.payments.new.step1.row.beneficiary_account_number.placeholder\'|translate}}"></eb-input-nrb></span><div eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.component.nrb.required"></span></div><div eb-message-key="nrb"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.error.invalid_account_iban"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="payments.recipientAccountNo.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.internal.account.is.not.possible"><span eb-msg="db.payments.new.step1.sepa.nrb.foreign_to_internal_account"></span></div><div eb-message-key="transfer.beneficiaryAccountId.error.recipient.account.is.the.same.as.the.sender"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate_recipient_account.is_the_same_as_the_sender"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.account.carried.in.the.same.bank.is.not.possible"><span eb-msg="db.payments.new.step1.component.nrb.error.same_bank"></span></div><div eb-message-key="transfer.recipientAccountNo.error.recipient.account.number.is.blank"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.swiftBicCode.error.invalid_swift_code"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="validate.country.code.swift.not.belong.to.sepa.system"><span eb-msg="db.payments.new.step1.country.validate"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.country.code.swift.not.belong.to.sepa.system"><span eb-msg="db.payments.new.step1.row.sepa_xml.country.validate.swift_not_belong_to_sepa_system"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sender_account"><div eb-account-select name="remitterAccountId" ng-model="formData.formModel.remitterAccountId" primary-account-number="primaryAccount" account="formData.remitterAccount" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.account_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="remitterAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.account_select.validate"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div></div></div><div eb-responsive-row center label="db.payments.new.step1.row.sender"><div eb-sender-select ng-model="formData.formModel.remitterId" account-id="{{formData.formModel.remitterAccountId}}" eb-required="true" placeholder="{{::\'db.payments.new.step1.row.sender_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="senderSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sender_select.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" account-id="{{formData.remitterAccount.accountId}}" eb-currency-model="EUR" ng-model="formData.formModel.amount" eb-form="paymentAddForm" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_max"></span></div></div></div><div collapse="formData.exchangeMessageHidden" class="close-section" ng-class="{\'collapse-fix\': collapseFix}"><div eb-responsive-row><div eb-checkbox eb-model="formData.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="!formData.exchangeMessageHidden" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="formData.exchange=!formData.exchange" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row top class="one-line-text-area" label="db.payments.new.step1.row.title" label-for="oneLineTextArea"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.description" eb-name="description" eb-form="paymentAddForm"></div><div eb-validation-messages eb-name="description"><div eb-message-key="payments.description.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.row.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.new.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.new.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.realization_date.validate.format"></span></div><div eb-message-key="payments.realizationDate.Future"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div></div></div><div eb-responsive-row class="sepa-payment"><div eb-checkbox eb-model="formData.additionalSepaParams" class="exchange-checkbox" eb-name="additionalSepaParams" eb-required="false" eb-disabled="false" ng-mouseenter="isSepaCheckboxHover = true" ng-mouseleave="isSepaCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isSepaCheckboxHover}"></div><span class="exchange-message" ng-click="formData.additionalSepaParams = !formData.additionalSepaParams" eb-msg="db.payments.new.step1.row.sepa_xml.additional_sepa_params.checkbox.label" ng-mouseenter="isSepaCheckboxHover = true" ng-mouseleave="isSepaCheckboxHover = false"></span></div><div collapse="!formData.additionalSepaParams" class="sepa-payment" ng-class="{\'collapse-fix\': sepaCollapseFix}"><db-pmt-additional-sepa-params eb-model="formData.formModel" eb-form="paymentAddForm" eb-visible="formData.additionalSepaParams"></db-pmt-additional-sepa-params></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsFormSwift.html",'<div eb-responsive-row ng-hide="sepaParameter"><div class="sepa-info"><span eb-msg="db.payments.new.step1.row.sepa_realization.info" prevent-orphans></span></div></div><div eb-responsive-row label="db.payments.new.step1.row.recipient_template"><div db-pmt-recipient-select eb-form="paymentAddForm" eb-name="templateSelect" ng-model="formData.formModel" ng-click="scrollTop()" eb-required="true" template-type="SWIFT" eb-placeholder="{{::\'db.payments.new.step1.row.recipient_template.placeholder\'|translate}}" eb-default-template="defaultTemplate" eb-template-active="formData.formModel.transferFromTemplate" controll-change-event="controllEvent.value" eb-max-length="70"></div><div eb-validation-messages eb-name="templateSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.template_select.validate"></span></div><div eb-message-key="maxlength"><span eb-msg="db.payments.new.step1.row.template.invalid.maxlength"></span></div></div><eb-validation-messages eb-name="templateSelect"><div eb-message-key="payments.templateId.template.not.found">{{::\'db.payments.new.step1.row.template.invalid.not_found\'|translate}}</div><div eb-message-key="payments.recipientName.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_swift_characters"></span></div><div eb-message-key="transfer.recipientName.error.recipient.name.is.blank"><span eb-msg="db.payments.new.step1.row.template_select.validate"></span></div></eb-validation-messages></div><div eb-responsive-row top label="db.payments.new.step1.row.collapse.beneficiary_address" class="multiline-textarea-label"><div db-pmt-simple-textarea class="one-line-address-area" placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.address.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.recipientAddress" eb-name="address" eb-form="paymentAddForm" eb-resizable="true" eb-maxlength="70" eb-rows="2" eb-required="false"></div><div eb-validation-messages eb-name="address"><div eb-message-key="transfer_order.description.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.beneficiary_account_number"><span eb-themable class="eb-input-nrb"><eb-input-nrb name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" ng-required="true" eb-placeholder="{{::\'db.payments.new.step1.row.beneficiary_account_number.placeholder\'|translate}}"></eb-input-nrb></span><div eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.component.nrb.required"></span></div><div eb-message-key="nrb"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.error.invalid_account_iban"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="payments.recipientAccountNo.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.internal.account.is.not.possible"><span eb-msg="db.payments.new.step1.component.nrb.foreign_to_internal_account"></span></div><div eb-message-key="transfer.beneficiaryAccountId.error.recipient.account.is.the.same.as.the.sender"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.validate_recipient_account.is_the_same_as_the_sender"></span></div><div eb-message-key="transfer.currencyTransfer.error.invalid_account_local_transfer_in_PLN"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.invalid_account_local_transfer_in_PLN"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.account.carried.in.the.same.bank.is.not.possible"><span eb-msg="db.payments.new.step1.component.nrb.error.same_bank"></span></div><div eb-message-key="transfer.recipientAccountNo.error.recipient.account.number.is.blank"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div></div></div><div eb-responsive-row class="recipient-bank-label" top label="db.payments.new.step1.recipient_bank"><div db-pmt-recipient-bank ng-model="formData.formModel" eb-is-template-active="formData.formModel.transferFromTemplate" eb-control-change-event="controllEvent.value" eb-form="paymentAddForm"></div></div><div eb-responsive-row label="db.payments.new.step1.row.sender_account"><div eb-account-select name="remitterAccountId" ng-model="formData.formModel.remitterAccountId" primary-account-number="primaryAccount" account="formData.remitterAccount" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.account_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="remitterAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.account_select.validate"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div></div></div><div eb-responsive-row center label="db.payments.new.step1.row.sender"><div eb-sender-select ng-model="formData.formModel.remitterId" account-id="{{formData.formModel.remitterAccountId}}" eb-required="true" placeholder="{{::\'db.payments.new.step1.row.sender_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="senderSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sender_select.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" currency ng-currency-model="formData.formModel.currency" ng-model="formData.formModel.amount" eb-form="paymentAddForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true" eb-currency-name="currency" eb-currency-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_max"></span></div><div eb-message-key="transfer.amount.error.swift.invalid.amount.for.jpy"><span eb-msg="db.payments.error.swift.invalid.amount.for.jpy"></span></div></div><div eb-validation-messages eb-name="currency"><div eb-message-key="payments.currency.NotNull"><span eb-msg="db.payments.new.step1.row.currency.validate.required"></span></div></div></div><div collapse="formData.exchangeMessageHidden" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="formData.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="!formData.exchangeMessageHidden" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="formData.exchange=!formData.exchange" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row top class="one-line-text-area" label="db.payments.new.step1.row.title" label-class="new-payment-title-label new-payment-label relaxed-label" label-for="oneLineTextArea"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.new.step1.row.one_line_text_area.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.description" eb-name="description" eb-form="paymentAddForm" invalid-elixir-characters-key="db.payments.new.step1.row.description.invalid_elixir_characters" invalid-swift-characters-key="db.payments.new.step1.row.description.invalid_swift_characters"></div><div eb-validation-messages eb-name="description"><div eb-message-key="transfer_order.description.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_swift_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.collapse.additional_info" class="new-payment-label relaxed-label"><div db-pmt-additional-info ng-model="formData.formModel.additionalInfo" eb-name="additionalInfo" eb-form="paymentAddForm" eb-placeholder="{{::\'db.payments.new.step1.additional_info.placeholder\' | translate}}"></div><div eb-validation-messages eb-name="additionalInfo"><div eb-message-key="payments.additionalInfo.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.row.additionalInfo.invalid_swift_characters"></span></div><div eb-message-key="maxlength"><span eb-msg="db.payments.new.step1.row.additionalInfo.maxlength"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.cost_type"><div class="new-payment-cost-type"><db-pmt-cost-type-select ng-model="formData.formModel.costType" name="costType" eb-currency="formData.formModel.currency" eb-form="paymentAddForm" ng-required="true" ng-disabled="isEditMode"></db-pmt-cost-type-select></div><div eb-validation-messages eb-name="costType"><div eb-message-key="transfer.costType.error.cost_type_must_be_sha_or_z"><span eb-msg="db.payments.new.step1.row.cost_type.validate.cost_type_must_be_sha_or_z"></span></div><div eb-message-key="transfer.costType.error.cost_type_must_be_sha"><span eb-msg="db.payments.new.step1.row.cost_type.validate.cost_type_must_be_sha"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.new.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.new.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.realization_date.validate.format"></span></div><div eb-message-key="payments.realizationDate.Future"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div></div></div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsFormTax.html",'<div eb-responsive-row class="no-padding"><div eb-insurance-template-link payment-type="TAX" eb-form="paymentAddForm" eb-form-data="formData" eb-text="taxText" eb-default-template="defaultTemplate"></div></div><div eb-responsive-row label="db.payments.new.step1.row.tax.city"><div db-pmt-tax-office-address-select name="recipientAddress" id="recipientAddress" ng-click="scrollTop()" ng-model="formData.formModel.recipientAddress" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.tax.city.placeholder\'|translate}}"></div><eb-validation-messages eb-name="recipientAddress"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.city.validate.required"></span></div><div eb-message-key="payments.tax.city.not.found">{{::\'db.payments.new.step1.row.tax.city.invalid.not_found\'|translate}}</div></eb-validation-messages></div><div eb-responsive-row label="db.payments.new.step1.row.tax.name"><div db-pmt-tax-office-select name="recipientName" id="recipientName" tax-offices-details-list="formData.taxOfficesDetailsList" tax-office="formData.selectedTaxOffice" ng-click="scrollTop()" ng-model="formData.formModel.recipientName" address="formData.formModel.recipientAddress" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.tax.name.placeholder\'|translate}}"></div><eb-validation-messages eb-name="recipientName"><div eb-message-key="payments.tax.office_name.not.found">{{::\'db.payments.new.step1.row.invalid.not_found\'|translate}}</div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.office_name.validate.required"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.new.step1.row.tax.tax_group"><div db-pmt-tax-account-group-select tax-office="formData.selectedTaxOffice" name="taxGroupId" ng-model="formData.taxGroupId" placeholder="{{::\'db.payments.new.step1.row.tax.tax_group.placeholder\'|translate}}" class="narrow-select"></div></div><div eb-responsive-row label="db.payments.new.step1.row.tax.us_nrb"><div db-pmt-tax-office-account-input id="recipientAccountNo" name="recipientAccountNo" model="formData.formModel.recipientAccountNo" form-code="formData.formCode" tax-office="formData.selectedTaxOffice" tax-group="formData.taxGroupId" tax-offices-details-list="formData.taxOfficesDetailsList" ng-required="true" placeholder="" update-on-tax-office-change="formData.resetAccountNoOnTaxOfficeChange"></div><div eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="transfer.recipientAccountNo.validate_recipient_account.is.not.tax.office.account">{{::\'db.payments.validate_recipient_account.is.not.tax.office.account\'|translate}}</div><div eb-message-key="nrb"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.bank_not_found"><span eb-msg="db.payments.new.step1.row.recipient_account_no.validate.bank_not_found"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax_account_no.validate.required"></span></div><div eb-message-key="payments.recipientAccountNo.validate.invalid_account_number"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="payments.recipientAccountNo.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.tax.form_code"><div db-pmt-tax-form-code-select name="formCode" eb-form="paymentAddForm" selected-tax-office="formData.selectedTaxOffice" form-code="formData.formCode" tax-group="formData.taxGroupId" id="formCode" ng-model="formData.formModel.formCode" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.tax.form_code.placeholder\'|translate}}" class="narrow-select"></div><div eb-validation-messages eb-name="formCode"><div eb-message-key="tax_period.form_code.error.tax.invalid.form_code">{{::\'db.payments.error.tax.invalid.form_code\'|translate}}</div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.form_code.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.tax.period_type"><div db-pmt-tax-period-type-select id="periodType" ng-model="formData.formModel.periodType" name="periodType" empty-string-required is-period-zero-available="!formData.formCode.periodRequired" prefix-label="db.payments.new.step1.row.tax.period_type." reset-on-period-zero-available="formData.resetPeriodOnZeroAvailableChange" eb-form="paymentAddForm" form-code="formData.formModel.formCode" placeholder="{{::\'db.payments.new.step1.row.tax.period_type.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="periodType"><div eb-message-key="tax_period.period_type.error.tax.invalid.period_type">{{::\'db.payments.error.tax.invalid.period_type\'|translate}}</div><div eb-message-key="emptyStringRequired"><span eb-msg="db.payments.new.step1.row.tax.period_type.validate.required"></span></div><div eb-message-key="tax_period.period_type.error.tax.period_type.required">{{::\'db.payments.error.tax.period_type.required\'|translate}}</div></div></div><div collapse="formData.formModel.periodType !== undefined &&\n                formData.formModel.periodType !== \'K\' && formData.formModel.periodType !== \'M\' &&\n                formData.formModel.periodType !== \'D\' && formData.formModel.periodType !== \'J\'"><div eb-responsive-row label="db.payments.new.step1.row.tax.period_no"><div db-pmt-tax-period-number-select id="periodNo" name="periodNo" ng-model="formData.formModel.periodNumber" period-type="formData.formModel.periodType" from-template="{{formData.formModel.transferFromTemplate}}" placeholder="{{\'db.payments.new.step1.row.tax.period_no.placeholder\' | translate}}" ng-required="formData.formModel.periodType === \'K\' ||\n                                    formData.formModel.periodType === \'M\' ||\n                                    formData.formModel.periodType === \'D\' ||\n                                    formData.formModel.periodType === \'J\'"></div><div eb-validation-messages eb-name="periodNo"><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number">{{::\'db.payments.error.tax.invalid.period_number\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.period_number.should.be.empty">{{::\'db.payments.error.tax.period_number.should.be.empty\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.half.year">{{::\'db.payments.error.tax.invalid.period_number.for.half.year\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.quarter">{{::\'db.payments.error.tax.invalid.period_number.for.quarter\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.month">{{::\'db.payments.error.tax.invalid.period_number.for.month\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.day">{{::\'db.payments.error.tax.invalid.period_number.for.day\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.first.part.period_number.for.decade">{{::\'db.payments.error.tax.invalid.first.part.period_number.for.decade\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.second.part.period_number.for.decade">{{::\'db.payments.error.tax.invalid.second.part.period_number.for.decade\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.first.part.period_number.for.day">{{::\'db.payments.error.tax.invalid.first.part.period_number.for.day\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.second.part.period_number.for.day">{{::\'db.payments.error.tax.invalid.second.part.period_number.for.day\'|translate}}</div><div eb-message-key="elixirCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.period_number.validate.required"></span></div></div></div></div><div collapse="formData.formModel.periodType !== undefined && formData.formModel.periodType !== \'D\' && formData.formModel.periodType !== \'J\'"><div eb-responsive-row label="db.payments.new.step1.row.tax.period_month"><div db-pmt-tax-period-month-select id="periodMonth" name="periodMonth" eb-form="paymentAddForm" db-perion-number-field-name="periodNo" period-type="formData.formModel.periodType" ng-model="formData.formModel.periodMonth" ng-required="formData.formModel.periodType === \'D\' || formData.formModel.periodType === \'J\'" placeholder="{{\'db.payments.new.step1.row.tax.period_month.placeholder\' | translate}}"></div><div eb-validation-messages eb-name="periodMonth"><div eb-message-key="tax_period.period_year.error.tax.invalid.period_month">{{::\'db.payments.error.tax.invalid.period_month\'|translate}}</div><div eb-message-key="tax_period.period_month.error.tax.year.is.not.allowed.year">{{::\'db.payments.error.tax.year.is.not.allowed.year\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_month.error.tax.year.less.than.allowed">{{::\'db.payments.error.tax.year.less.than.allowed\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_month.error.tax.year.greater.than.allowed">{{::\'db.payments.error.tax.year.greater.than.allowed\'|translate}} {{$parent.formData.formModel.formEndDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.period_month.validate.required"></span></div></div></div></div><div collapse="formData.formModel.periodType !== undefined && formData.formModel.periodType !== \'R\' &&\n                formData.formModel.periodType !== \'K\' && formData.formModel.periodType !== \'M\' &&\n                formData.formModel.periodType !== \'D\' && formData.formModel.periodType !== \'J\'"><div eb-responsive-row label="db.payments.new.step1.row.tax.period_year"><input ng-model="formData.formModel.periodYear" id="periodYear" name="periodYear" class="input-additional-info" type="text" maxlength="4" ng-required="formData.formCode.periodRequired || formData.formModel.periodType" placeholder="{{\'db.payments.new.step1.row.tax.period_year.placeholder\' | translate}}" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }"><div eb-validation-messages eb-name="periodYear"><div eb-message-key="tax_period.period_year.error.tax.invalid.period_year">{{::\'db.payments.error.tax.invalid.period_year\'|translate}}</div><div eb-message-key="tax_period.period_year.error.tax.year.is.not.allowed.year">{{::\'db.payments.error.tax.year.is.not.allowed.year\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_year.error.tax.year.less.than.allowed">{{::\'db.payments.error.tax.year.less.than.allowed\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_year.error.tax.year.greater.than.allowed">{{::\'db.payments.error.tax.year.greater.than.allowed\'|translate}} {{$parent.formData.formModel.formEndDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.period_year.validate.required"></span></div></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.tax.id_type"><div db-pmt-tax-id-type-select name="idType" id="idType" ng-model="formData.formModel.idType" key-model="formData.idType" prefix-label="db.payments.new.step1.row.tax.id_type." monitor-value="formData.formModel.idTypeModel" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.tax.id_type.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="idType"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.id_number_type.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.tax.id"><input required ng-model="formData.formModel.idNumber" eb-name="idNumber" name="idNumber" id="idNumber" type="text" maxlength="14" placeholder="{{\'db.payments.new.step1.row.tax.id.placeholder\' | translate}}" class="input-additional-info" ng-required="true" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }"><div eb-validation-messages eb-name="idNumber"><div eb-message-key="transfer.idNumber.error.invalid.nip">{{::\'db.payments.error.transfer.tax.invalid.nip\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.pesel">{{::\'db.payments.error.transfer.tax.invalid.pesel\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.regon">{{::\'db.payments.error.transfer.tax.invalid.regon\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.id_card">{{::\'db.payments.error.transfer.tax.invalid.id_card\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.passport">{{::\'db.payments.error.transfer.tax.invalid.passport\'|translate}}</div><div eb-message-key="elixirCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.id_number.validate"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.sender_account"><div eb-account-select name="remitterAccountId" id="remitterAccountId" ng-model="formData.formModel.remitterAccountId" primary-account-number="primaryAccount" account="formData.remitterAccount" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.account_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="remitterAccountId"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.account_select.validate"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.payments.new.step1.row.account_select.validate.passive_access"></span></div></div></div><div eb-responsive-row center label="db.payments.new.step1.row.sender"><div eb-sender-select ng-model="formData.formModel.remitterId" account-id="{{formData.formModel.remitterAccountId}}" eb-required="true" placeholder="{{::\'db.payments.new.step1.row.sender_select.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="senderSelect"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.sender_select.validate"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.obligation_id"><input ng-model="formData.formModel.obligationId" name="obligationId" id="obligationId" type="text" maxlength="40" elixir-validator placeholder="{{\'db.payments.templates.new.step1.row.tax.obligation_id.placeholder\' | translate}}" class="input-additional-info" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }"><div eb-validation-messages eb-name="obligationId"><div eb-message-key="payments.obligationId.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_obligation_id_characters"></span></div><div eb-message-key="elixirCharacters"><span eb-msg="db.payments.new.step1.row.description.invalid_obligation_id_characters"></span></div></div></div><div eb-responsive-row label="db.payments.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="PLN" ng-model="formData.formModel.amount" eb-form="paymentAddForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.new.step1.row.amount.validate.decimal_max"></span></div></div></div><div collapse="formData.exchangeMessageHidden" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="formData.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="!formData.exchangeMessageHidden" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="formData.exchange=!formData.exchange" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row class="last-row" label="db.payments.new.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.new.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" id="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.new.step1.row.realization_date.validate.format"></span></div><div eb-message-key="payments.realizationDate.Future"><span eb-msg="db.payments.new.step1.row.realization_date.validate.past"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyAcceptForm.html",'<div eb-themable class="step2 inner-form-padding center-form"><div class="panel-details"><div eb-section-header ng-if="!paymentDetails.isCyclic && !headerTitleKey" eb-header="db.payments.modify.step2.section_header.header" back-state="{{backState}}"></div><div eb-section-header ng-if="paymentDetails.isCyclic && !headerTitleKey" eb-header="db.payments.modify.cyclic.step2.section_header.header" back-state="{{backState}}"></div><div eb-section-header ng-if="headerTitleKey" eb-header="{{headerTitleKey}}" back-state="{{backState}}"></div><div ng-show="paymentPromise.$$state.status === 1"><div class="form-body payments-accept"><div ui-view></div></div><div class="shaded-section" ng-class="{\'with-data\': !paymentDetails.isCyclic}"><div ng-if="!paymentDetails.isCyclic"><div eb-responsive-row label="db.payments.new.step2.row.payment_date">{{paymentDetails.deliveryDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div eb-responsive-row ng-class="{\'last-row\' : !isAuthorization}" ng-show="paymentDetails.charges.length > 0" class="new-payment-step2-commission" label="db.payments.new.step2.row.charges"><div ng-repeat="charge in paymentDetails.charges track by $index"><div ng-show="$index > 0" style="padding-top: 10px"></div><span><eb-amount amount="charge.amount" currency="{{charge.currency}}" style="display: inline-block !important"></eb-amount></span>&nbsp;-&nbsp;<span>{{charge.description}}</span> <span ng-show="charge.bonusCount > 0"><br>({{charge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.payments.new.step2.row.charge.gratis\'" count="charge.bonusCount"></span>)</span></div></div><div eb-responsive-row ng-class="{\'last-row\' : !isAuthorization}" label="db.payments.new.step2.row.charges" ng-show="(paymentDetails.charges == null) || (paymentDetails.charges.length == 0)"><div eb-msg="db.payments.new.step2.row.info.costs_not_available"></div></div></div><form name="authForm" ng-if="!cancelAccept" novalidate><div ng-if="!isCartIntent" eb-authorization eb-model="auth" eb-disposition-id="paymentDetails.paymentDispositionId" eb-resource-type="payment_modifications" eb-relation="accept_payment_modification" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" is-shown="isAuthorization" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><div eb-action-footer ng-if="!isCartIntent && !fromCart" class="additional-option" cancel-label="db.payments.modify.step2.action_footer.cancel_label" submit-label="db.payments.modify.step2.action_footer.submit_label" cancel-action="change()" submit-action="accept(authForm)"></div><div eb-action-footer ng-if="isCartIntent && !fromCart" cancel-label="db.payments.modify.step2.action_footer.cart_cancel_label" submit-label="db.payments.modify.step2.action_footer.cart_submit_label" cancel-action="change()" submit-action="save()"></div><div eb-action-footer ng-if="fromCart" submit-label="db.payments.new.step2.action_footer.submit_label" submit-action="accept(authForm)"></div></form><eb-action-footer ng-if="cancelAccept" submit-label="db.payments.cancel.accept.submit_delete" submit-action="cancel()"></eb-action-footer></div></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyDomestic.html",'<eb-responsive-row center label="db.payments.details.row.beneficiary_name"><div ng-repeat="oneLineRecipientName in formData.recipientName track by $index">{{oneLineRecipientName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.modify.step1.row.beneficiary_account">{{formData.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.modify.step1.row.beneficiary_bank"><div eb-domestic-bank-details nrb="{{formData.recipientAccountNo}}"></div></eb-responsive-row><eb-responsive-row label="db.payments.modify.step1.row.beneficiary_address" ng-hide="formData.transferType == \'CARD_DEBT\'"><div ng-repeat="oneLineRecipientAddress in formData.recipientAddress track by $index">{{oneLineRecipientAddress}}</div></eb-responsive-row><eb-responsive-row label="db.payments.modify.step1.row.sender_account">{{formData.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row center label="db.payments.modify.step1.row.sender_name"><div ng-repeat="oneLineSenderName in formData.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><div eb-responsive-row label="db.payments.modify.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{formData.currency}}" ng-model="formData.formModel.amount" eb-form="paymentModificationForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.modify.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.modify.step1.row.amount.validate.decimal_max"></span></div></div></div><div eb-responsive-row top class="one-line-text-area" label="db.payments.modify.step1.row.title" label-for="oneLineTextArea"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.modify.step1.row.one_line_text_area.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.description" eb-name="description" eb-form="paymentModificationForm"></div><div eb-validation-messages eb-name="description"><div eb-message-key="payments.description.ELIXIRCharactersOnly"><span eb-msg="db.payments.modify.step1.row.description.invalid_elixir_characters"></span></div></div></div><div ng-if="!formData.isCyclic" ng-class="{\'last-row\' : !formData.isCyclic}" eb-responsive-row label="db.payments.modify.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.modify.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.format"></span></div><div eb-message-key="transfer.realizationDate.validate.wrong_date_before_today"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.past"></span></div></div></div><div ng-if="formData.isCyclic"><div eb-responsive-row center label="db.payments.modify.step1.row.day_of_next_realization" ng-if="formData.cyclicDefinition.periodType != \'DAY\'" label-for="executionDayInMonth"><div eb-simple-select ng-model="formData.formModel.executionDayInMonth" choice-list="daysArray"></div></div><div eb-responsive-row label="db.payments.modify.step1.row.realisation_cycle" label-for="count"><div db-pmt-execution-period static-period-type="true" period="formData.cyclicDefinition.periodType" static period-count="formData.formModel.cyclicExecutionPeriod" form-name="paymentModificationForm" eb-required="true"></div><div eb-validation-messages eb-name="count"><div eb-message-key="pattern"><span eb-msg="db.payments.new.step1.row.period.validate.pattern"></span></div><div eb-message-key="required"><span eb-msg="db.payments.modify.step1.row.period.validate.required"></span></div></div></div><div eb-responsive-row ng-class="{\'last-row\' : formData.isCyclic}" label="db.payments.modify.step1.row.end_date"><div db-pmt-end-date-input eb-form="paymentModificationForm" end-date="formData.formModel.cyclicExecutionEndDate" period-count="formData.formModel.cyclicExecutionPeriod" period-type="formData.cyclicExecution.periodType" eb-base-min-date="formData.formModel.realizationDate" eb-required="formData.isCyclic"></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyDomesticAccept.html",'<div eb-responsive-row label="db.payments.modify.step2.row.recipient_name"><div db-lines-join eb-lines="paymentDetails.recipientName"></div></div><div eb-responsive-row top label="db.payments.modify.step2.row.beneficiary_account_number"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.modify.step2.row.recipient_address" ng-hide="paymentDetails.transferType == \'CARD_DEBT\'"><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></div><div eb-responsive-row label="db.payments.modify.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.modify.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.modify.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row ng-show="exchange"><div eb-checkbox eb-model="true" class="exchange-checkbox" eb-name="exchange" eb-disabled="true" eb-required="false"></div><span class="exchange-message new-payment-step2" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans></span></div><div eb-responsive-row top label="db.payments.modify.step2.row.title"><div ng-repeat="line in paymentDetails.title track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.modify.step2.row.realisation_first_date" ng-if="!paymentDetails.isCyclic" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div ng-show="paymentDetails.isCyclic"><div eb-responsive-row center label="db.payments.modify.step2.row.day_of_next_realization" ng-if="paymentDetails.cyclicDefinition.periodType != \'DAY\' && paymentDetails.cyclicDefinition.executionDayInMonth" label-for="executionDayInMonth">{{paymentDetails.cyclicDefinition.executionDayInMonth}}</div><div eb-responsive-row label="db.payments.details.row.execution_every"><div>{{paymentDetails.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + paymentDetails.cyclicDefinition.periodType" count="paymentDetails.cyclicDefinition.period" ng-if="paymentDetails.cyclicDefinition.periodType"></span></div></div><div eb-responsive-row label="db.payments.details.row.execution_end_date"><span ng-show="paymentDetails.cyclicDefinition.endExecutionDate">{{paymentDetails.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</span> <span ng-show="!paymentDetails.cyclicDefinition.endExecutionDate" eb-msg="db.payments.modify.step2.row.indefinitely"></span></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyForm.html",'<div class="inner-payment-form center-app-header"><eb-content-navigation></eb-content-navigation><div style="position:relative"><div class="inner-form-padding center-form"><div eb-themable><eb-section-header ng-if="!formData.isCyclic" eb-header="db.payments.modify.step1.section_header.header" back-state="de.payments.content.active"></eb-section-header><eb-section-header ng-if="formData.isCyclic" eb-header="db.payments.modify.cyclic.step1.section_header.header" back-state="de.payments.content.active"></eb-section-header><div class="form-body" eb-view-swap="viewLoaded"><form name="paymentModificationForm" novalidate><div ui-view autoscroll="true"></div><eb-action-footer submit-label="db.payments.modify.step1.action_footer.submit_label" submit-icon="eb-ico-widget-payments" submit-action="submit(paymentModificationForm)"></eb-action-footer></form></div><eb-preloader visible class="eb-preloader-default"></eb-preloader></div></div></div></div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyInsurance.html",'<eb-responsive-row label="db.payments.details.row.zus_account">{{formData.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.payment_type"><div>{{\'db.payments.new.step1.row.insurance_payment_type_select.\' + formData.paymentDetails.paymentType | translate}}&nbsp;-&nbsp;{{formData.paymentDetails.paymentType}}</div></eb-responsive-row><eb-responsive-row label="db.payments.new.step1.row.declaration.label">{{formData.paymentDetails.declaration}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.declaration_number">{{formData.paymentDetails.declarationNo}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.payer_nip">{{formData.paymentDetails.nip}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step1.row.complementary_id_type_select.label">{{::\'db.payments.details.row.additional_id_type.\' + formData.paymentDetails.secondIDType | translate}}&nbsp;({{formData.paymentDetails.secondIDType}})</eb-responsive-row><eb-responsive-row label="db.payments.new.step1.row.complementary_id_type.label">{{formData.paymentDetails.secondIDNo}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{formData.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row center label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in formData.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.decision_no">{{formData.paymentDetails.decisionNo | emptyFilter}}</eb-responsive-row><div eb-responsive-row label="db.payments.modify.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{formData.currency}}" ng-model="formData.formModel.amount" eb-form="paymentModificationForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.modify.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.modify.step1.row.amount.validate.decimal_max"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.modify.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.modify.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.format"></span></div><div eb-message-key="transfer.realizationDate.validate.wrong_date_before_today"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.past"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyInsuranceAccept.html",'<div eb-responsive-row label="db.payments.new.step2.row.insurance.label.insurance_account_no"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.payment_type"><div>{{\'db.payments.new.step1.row.insurance_payment_type_select.\' + paymentDetails.paymentDetails.paymentType | translate}}&nbsp;-&nbsp;{{paymentDetails.paymentDetails.paymentType}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.declaration"><div>{{paymentDetails.paymentDetails.declaration}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.declaration_no"><div>{{paymentDetails.paymentDetails.declarationNo}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.nip"><div>{{paymentDetails.paymentDetails.nip}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.second_id_type"><div>{{\'db.payments.new.step1.row.complementary_id_type_select.\' + paymentDetails.paymentDetails.secondIDType | translate}}&nbsp;({{paymentDetails.paymentDetails.secondIDType}})</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.second_id_no"><div>{{paymentDetails.paymentDetails.secondIDNo}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.new.step2.row.insurance.label.decision_no" ng-show="paymentDetails.paymentDetails.decisionNo"><div>{{paymentDetails.paymentDetails.decisionNo}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.new.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row ng-show="exchange"><div eb-checkbox eb-model="true" class="exchange-checkbox" eb-name="exchange" eb-disabled="true" eb-required="false"></div><span class="exchange-message new-payment-step2" eb-msg="db.payments.new.step2.row.insurance.label.exchange_info" prevent-orphans></span></div><div eb-responsive-row class="last-row" label="db.payments.new.step2.row.realisation_date"><div>{{paymentDetails.realizationDate | dateFilter}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyOwnAccept.html",'<div eb-responsive-row label="db.payments.modify.step2.row.recipient_name"><div db-lines-join eb-lines="paymentDetails.recipientName"></div></div><div eb-responsive-row top label="db.payments.modify.step2.row.beneficiary_account_number"><div>{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.modify.step2.row.recipient_address"><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></div><div eb-responsive-row label="db.payments.modify.step2.row.sender_account"><div>{{paymentDetails.accountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.modify.step2.row.sender"><div ng-repeat="line in paymentDetails.senderName track by $index">{{line}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.modify.step2.row.amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></div><div eb-responsive-row ng-show="exchange"><div eb-checkbox eb-model="true" class="exchange-checkbox" eb-name="exchange" eb-disabled="true" eb-required="false"></div><span class="exchange-message new-payment-step2" eb-msg="db.payments.new.step1.row.exchange_info" prevent-orphans></span></div><div eb-responsive-row top label="db.payments.modify.step2.row.title"><div ng-repeat="line in paymentDetails.title track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.modify.step2.row.realisation_first_date" ng-if="!paymentDetails.isCyclic" ng-class="{\'new-payment-cycle-end\' : !payment.repeat}"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></div><div ng-show="paymentDetails.isCyclic"><div eb-responsive-row center label="db.payments.modify.step2.row.day_of_next_realization" ng-if="paymentDetails.cyclicDefinition.periodType != \'DAY\' && paymentDetails.cyclicDefinition.executionDayInMonth" label-for="executionDayInMonth">{{paymentDetails.cyclicDefinition.executionDayInMonth}}</div><div eb-responsive-row label="db.payments.details.row.execution_every"><div>{{paymentDetails.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + paymentDetails.cyclicDefinition.periodType" count="paymentDetails.cyclicDefinition.period" ng-if="paymentDetails.cyclicDefinition.periodType"></span></div></div><div eb-responsive-row label="db.payments.details.row.execution_end_date"><span ng-show="paymentDetails.cyclicDefinition.endExecutionDate">{{paymentDetails.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</span> <span ng-show="!paymentDetails.cyclicDefinition.endExecutionDate" eb-msg="db.payments.modify.step2.row.indefinitely"></span></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyTax.html",'<eb-responsive-row label="db.payments.details.row.tax_office"><div ng-repeat="oneLineRecipientName in formData.recipientName track by $index">{{oneLineRecipientName}}</div><div ng-repeat="oneLineRecipientAddress in formData.recipientAddress track by $index">{{oneLineRecipientAddress}}</div></eb-responsive-row><eb-responsive-row label="db.payments.details.row.tax_office_account">{{formData.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.form_symbol">{{formData.paymentDetails.formCode}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_period"><span ng-if="formData.paymentDetails.periodType">{{::\'db.payments.details.row.period_type.\' + formData.paymentDetails.periodType | translate}}</span> <span ng-if="!details.paymentDetails.periodType">{{::\'db.payments.details.row.liability_zero_period\' | translate}}</span></eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_period_number">{{formData.paymentDetails.periodNumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_period_year">{{formData.paymentDetails.periodYear | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.liability_id">{{formData.paymentDetails.obligationId | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.additional_id_type">{{::\'db.payments.details.row.additional_id_type.\' + formData.paymentDetails.idtype | translate}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.additional_id_number">{{formData.paymentDetails.idnumber}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_account">{{formData.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.details.row.sender_name"><div ng-repeat="oneLineSenderName in formData.senderName track by $index">{{oneLineSenderName}}</div></eb-responsive-row><div eb-responsive-row label="db.payments.modify.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{formData.currency}}" ng-model="formData.formModel.amount" eb-form="paymentModificationForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="true"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.modify.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.modify.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.modify.step1.row.amount.validate.decimal_max"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.modify.step1.row.realisation_date"><div eb-date-input ng-model="formData.formModel.realizationDate" eb-title="{{::\'db.payments.modify.step1.row.date_input.placeholder\'|translate}}" date-format="dd.MM.yyyy" name="paymentDate" eb-disable-weekend="false" eb-disable-past-dates="true" ng-required="true" date-input-validation-past></div><div eb-validation-messages eb-name="paymentDate"><div eb-message-key="past"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.past"></span></div><div eb-message-key="required"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.required"></span></div><div eb-message-key="format"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.format"></span></div><div eb-message-key="transfer.realizationDate.validate.wrong_date_before_today"><span eb-msg="db.payments.modify.step1.row.realization_date.validate.past"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsModifyTaxAccept.html",'<eb-responsive-row label="db.payments.new.step2.row.tax_office"><div db-lines-join eb-lines="paymentDetails.recipientName"></div><div db-lines-join eb-lines="paymentDetails.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.tax_office_account">{{paymentDetails.recipientAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.form_code">{{paymentDetails.paymentDetails.formCode}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.period_type"><span ng-if="paymentDetails.paymentDetails.periodType">{{::\'db.payments.new.step2.row.period_type.\' + paymentDetails.paymentDetails.periodType | translate}}</span> <span ng-if="!paymentDetails.paymentDetails.periodType">{{::\'db.payments.new.step2.row.period_type.zero\' | translate}}</span></eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.period_number">{{paymentDetails.paymentDetails.periodNumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.period_year">{{paymentDetails.paymentDetails.periodYear | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.additional_id_type">{{\'db.payments.new.step2.row.additional_id_type.\'+ paymentDetails.paymentDetails.idtype | translate | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.additional_id_number">{{paymentDetails.paymentDetails.idnumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.sender_account">{{paymentDetails.accountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.sender_name"><div eb-beneficiary-name account-id="{{paymentDetails.accountId}}"></div></eb-responsive-row><div eb-responsive-row label="db.payments.new.step2.row.obligation_id"><div>{{paymentDetails.paymentDetails.obligationId | emptyFilter}}</div></div><eb-responsive-row label="db.payments.new.step2.row.transfer_amount" class="payment-details-amount"><eb-amount amount="paymentDetails.amount" currency="{{paymentDetails.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.payments.new.step2.row.execution_date">{{paymentDetails.realizationDate | date : \'dd.MM.yyyy\'}}</eb-responsive-row><div eb-responsive-row class="new-payment-step2-repeat" ng-show="paymentDetails.isCyclic"><eb-checkbox eb-name="checkbox" eb-disabled="true" eb-model="paymentDetails.isCyclic" style="display: inline-block"></eb-checkbox><span style="display: inline-block; padding-left: 8px" eb-msg="db.payments.cycle.row.repeat"></span></div><div ng-show="paymentDetails.isCyclic"><div eb-responsive-row label="db.payments.details.row.execution_every"><div>{{paymentDetails.cyclicDefinition.period | emptyFilter}}&nbsp;<span eb-variety-msg key="\'db.payments.details.row.cyclic_period_type.\' + paymentDetails.cyclicDefinition.periodType" count="paymentDetails.cyclicDefinition.period" ng-if="paymentDetails.cyclicDefinition.periodType"></span></div></div><div eb-responsive-row label="db.payments.details.row.execution_end_date"><span ng-show="paymentDetails.cyclicDefinition.endExecutionDate">{{paymentDetails.cyclicDefinition.endExecutionDate | date : \'dd.MM.yyyy\' | emptyFilter}}</span> <span ng-show="!paymentDetails.cyclicDefinition.endExecutionDate" eb-msg="db.payments.new.step2.row.indefinitely"></span></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateAcceptForm.html",'<div eb-themable class="step2 inner-form-padding center-form"><div class="panel-details"><div eb-section-header ng-if="!isEdition" eb-header="db.payments.templates.new.step2.section_header.header" back-state="de.payments.templates"></div><div eb-section-header ng-if="isEdition" eb-header="db.payments.templates.edition.step2.section_header.header" back-state="de.payments.templates"></div><div ng-show="templatePromise.$$state.status === 1"><div class="form-main-select payment-type-select-content"><eb-responsive-row label="db.payments.templates.new.step2.row.payment_type"><div>{{\'db.payments.details.row.transfer_type.\' + templateDetails.paymentTemplates[0].templateType|lowercase|translate}}</div></eb-responsive-row></div><div class="form-body payments-accept"><div ui-view></div></div><div class="shaded-section"><form name="authForm" novalidate><div eb-authorization eb-model="auth" eb-disposition-id="templateDetails.templateOrderId" eb-resource-type="template_order" eb-relation="{{isEdition ? \'accept_modification_template\' : \'accept_creation_template\'}}" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><div eb-action-footer cancel-label="db.payments.templates.new.step2.action_footer.cancel_label" submit-label="db.payments.templates.new.step2.action_footer.submit_label" cancel-action="change()" submit-action="accept(authForm)"></div></form></div></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDelete.html",'<div class="step2 inner-form-padding center-form" ng-show="templateDeleteDispositionPromise.$$state.status === 1"><eb-section-header eb-header="{{\'db.payments.templates.delete.section_header.header\'|translate}}" back-state="de.payments.templates"></eb-section-header><div class="form-body form-body-step2"><eb-responsive-row label="db.payments.template.details.row.transfer_type"><div>{{\'db.payments.details.row.transfer_type.\' + details.templateType|lowercase|translate}}</div></eb-responsive-row><div ng-switch="details.templateType"><div ng-switch-when="DOMESTIC"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsDomesticFields.html\'"></span></div><div ng-switch-when="SWIFT"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsSwiftFields.html\'"></span></div><div ng-switch-when="TAX"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsTaxFields.html\'"></span></div><div ng-switch-when="INSURANCE"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsInsuranceFields.html\'"></span></div><div ng-switch-when="SEPA"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsSepaFields.html\'"></span></div></div></div><div class="shaded-section"><form name="authForm" novalidate><div eb-authorization eb-model="auth" eb-disposition-id="templateDeleteDispositionId" eb-resource-type="template_order" eb-relation="accept_removing_template" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><eb-action-footer cancel-label="db.payments.templates.delete.accept.back" submit-label="db.payments.templates.delete.accept.submit" cancel-action="back()" submit-action="accept()"></eb-action-footer></form></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDetails.html",'<div eb-themable><div ng-show="paymentTemplateDetailsPromise.$$state.status === 1"><eb-section-header eb-header="{{\'db.payments.templates.details.section_header.header\'|translate}}" back-state="de.payments.templates"></eb-section-header><div class="shaded-details-body" ng-if="details != null"><div class="template-type-content"><eb-responsive-row label="db.payments.template.details.row.transfer_type"><div>{{\'db.payments.details.row.transfer_type.\' + details.templateType|lowercase|translate}}</div></eb-responsive-row></div><div class="form-body" ng-switch="details.templateType"><div ng-switch-when="DOMESTIC"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsDomesticFields.html\'"></span></div><div ng-switch-when="SWIFT"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsSwiftFields.html\'"></span></div><div ng-switch-when="TAX"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsTaxFields.html\'"></span></div><div ng-switch-when="INSURANCE"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsInsuranceFields.html\'"></span></div><div ng-switch-when="SEPA"><span ng-include="::pathPrefix + \'/views/paymentsTemplateDetailsSepaFields.html\'"></span></div></div></div></div><eb-preloader eb-promise="paymentDetailsPromise" class="eb-preloader-default" eb-rejected-message="{{::\'db.payments.template.details.rejected_response\'|translate}}"></eb-preloader><div class="miniapp-empty-list" ng-if="details == null">{{::\'db.payments.list_data_error\'|translate}}</div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDetailsDomesticFields.html",'<eb-responsive-row label="db.payments.template.details.row.template_name">{{details.templateName}}</eb-responsive-row><eb-responsive-row top label="db.payments.template.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></eb-responsive-row><eb-responsive-row top label="db.payments.template.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.template.details.row.beneficiary_account">{{details.beneficiaryAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.template.details.row.bank_info"><div eb-domestic-bank-details nrb="{{details.beneficiaryAccountNo}}"></div></eb-responsive-row><eb-responsive-row label="db.payments.template.details.row.transfer_amount" class="payment-details-amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row class="last-row" top label="db.payments.template.details.row.transfer_title"><div db-pmt-title eb-title="details.title"></div></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDetailsInsuranceFields.html",'<eb-responsive-row label="db.payments.template.details.row.template_name">{{details.templateName}}</eb-responsive-row><div eb-responsive-row top label="db.payments.template.details.row.us_account"><div>{{details.beneficiaryAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row top label="db.payments.template.details.row.payment_type"><div>{{details.paymentDetails.paymentType}} - {{::\'db.payments.details.row.payment_type.\' + details.paymentDetails.paymentType | translate}}</div></div><div eb-responsive-row top label="db.payments.template.details.row.declaration_period">{{details.paymentDetails.declaration | emptyFilter}}</div><div eb-responsive-row top label="db.payments.template.details.row.declaration_numer">{{details.paymentDetails.declarationNo | emptyFilter}}</div><div eb-responsive-row top label="db.payments.template.details.row.nip">{{details.paymentDetails.nip}}</div><div eb-responsive-row top label="db.payments.template.details.row.complementary_id_type">{{\'db.payments.template.details.row.id_type.\' + details.paymentDetails.secondIDType | translate}}</div><div eb-responsive-row top label="db.payments.template.details.row.complementary_id">{{details.paymentDetails.secondIDNo}}</div><div eb-responsive-row top label="db.payments.template.details.row.decission_number">{{details.paymentDetails.decisionNo | emptyFilter}}</div><div eb-responsive-row class="new-payment-step2-amount last-row" label="db.payments.template.details.row.transfer_amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDetailsSepaFields.html",'<eb-responsive-row label="db.payments.template.details.row.template_name">{{details.templateName}}</eb-responsive-row><div eb-responsive-row top label="db.payments.template.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></div><div eb-responsive-row top center label="db.payments.template.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></div><div eb-responsive-row top label="db.payments.template.details.row.beneficiary_account"><div>{{details.beneficiaryAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.template.details.row.beneficiary_bank_country" ng-show="details.paymentDetails.foreignCountryCode"><div db-pmt-country-details country-code="{{details.paymentDetails.foreignCountryCode}}"></div></div><div eb-responsive-row top label="db.payments.templates.new.step2.row.beneficiary_bank" ng-show="details.paymentDetails.recipientSwift || (details.paymentDetails.bankDetails && details.paymentDetails.bankDetails.length > 0)"><div ng-if="details.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{details.paymentDetails.recipientSwift}}"></div><div ng-if="details.paymentDetails.recipientSwift == null" ng-repeat="line in details.paymentDetails.bankDetails track by $index">{{line}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.template.details.row.transfer_amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount></div><div eb-responsive-row class="last-row" top label="db.payments.template.details.row.transfer_title"><div db-pmt-title eb-title="details.title"></div><div ng-if="details.title.length == 0 ">—</div></div><div class="sepa-payment"><div eb-responsive-row label="db.payments.template.details.row.payment_id" ng-show="details.paymentDetails.adtTransferId || isSepaActive"><div ng-show="details.paymentDetails.adtTransferId">{{details.paymentDetails.adtTransferId}}</div><div ng-show="!details.paymentDetails.adtTransferId">{{\'db.payments.new.step2.row.payment_id.not_provided\' | translate}}</div></div><div eb-responsive-row label="db.payments.template.details.row.sender_type" ng-show="details.paymentDetails.adtSenderType && adtSenderTypeIsOk"><div>{{\'db.payments.new.step2.row.sender_type.\' + details.paymentDetails.adtSenderType | translate}}</div></div><div eb-responsive-row label="db.payments.template.details.row.sender_id_type" ng-show="details.paymentDetails.adtSenderIdentifierType"><div>{{details.paymentDetails.adtSenderIdentifierType}}</div></div><div eb-responsive-row label="db.payments.template.details.row.sender_id_no" ng-show="details.paymentDetails.adtSenderIdentifier"><div>{{details.paymentDetails.adtSenderIdentifier}}</div></div><div eb-responsive-row label="db.payments.template.details.row.recipient_type" ng-show="details.paymentDetails.adtReceiverType && adtReceiverTypeIsOk"><div>{{\'db.payments.new.step2.row.sender_type.\' + details.paymentDetails.adtReceiverType | translate}}</div></div><div eb-responsive-row label="db.payments.template.details.row.recipient_id_type" ng-show="details.paymentDetails.adtReceiverIdentifierType"><div>{{details.paymentDetails.adtReceiverIdentifierType}}</div></div><div eb-responsive-row label="db.payments.template.details.row.recipient_id_no" ng-show="details.paymentDetails.adtReceiverIdentifier"><div>{{details.paymentDetails.adtReceiverIdentifier}}</div></div><div eb-responsive-row label="db.payments.template.details.row.category" ng-show="details.paymentDetails.adtTransferCategory && adtTransferCategoryIsOk"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.\' + details.paymentDetails.adtTransferCategory | translate}}</div></div><div eb-responsive-row label="db.payments.template.details.row.purpose" ng-show="details.paymentDetails.adtTransferDestination && adtTransferDestinationIsOk"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.\' + details.paymentDetails.adtTransferDestination | translate}}</div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDetailsSwiftFields.html",'<eb-responsive-row label="db.payments.template.details.row.template_name">{{details.templateName}}</eb-responsive-row><div eb-responsive-row top label="db.payments.template.details.row.beneficiary_name"><div db-lines-join eb-lines="details.recipientName"></div></div><div eb-responsive-row top label="db.payments.template.details.row.beneficiary_address"><div db-lines-join eb-lines="details.recipientAddress"></div></div><div eb-responsive-row top label="db.payments.template.details.row.beneficiary_account"><div>{{details.beneficiaryAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.template.details.row.beneficiary_swift">{{details.paymentDetails.recipientSwift | emptyFilter}}</div><div eb-responsive-row label="db.payments.template.details.row.beneficiary_bank_country"><div db-pmt-country-details country-code="{{details.paymentDetails.foreignCountryCode}}"></div></div><div eb-responsive-row top label="db.payments.template.details.row.beneficiary_bank"><div ng-if="details.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{details.paymentDetails.recipientSwift}}"></div><div ng-if="details.paymentDetails.recipientSwift == null" ng-repeat="line in details.paymentDetails.bankDetails track by $index">{{line}}</div></div><div eb-responsive-row class="new-payment-step2-amount" label="db.payments.template.details.row.transfer_amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount></div><div eb-responsive-row top label="db.payments.template.details.row.transfer_title"><div db-pmt-title eb-title="details.title"></div><div ng-if="details.title.length == 0 ">—</div></div><div eb-responsive-row top label="db.payments.template.details.row.transfer_additional_info">{{details.paymentDetails.additionalInfo}}<div ng-if="details.paymentDetails.additionalInfo == null ">—</div></div><div eb-responsive-row class="last-row" top label="db.payments.template.details.row.cost_type">{{\'db.payments.template.details.row.cost_type.\' + details.paymentDetails.costsType | lowercase | translate}}</div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDetailsTaxFields.html",'<eb-responsive-row label="db.payments.template.details.row.template_name">{{details.templateName}}</eb-responsive-row><div eb-responsive-row label="db.payments.template.details.row.tax_office_city"><div db-lines-join eb-lines="details.recipientAddress"></div></div><div eb-responsive-row label="db.payments.template.details.row.tax_office"><div db-lines-join eb-lines="details.recipientName"></div></div><div eb-responsive-row top label="db.payments.template.details.row.tax_office_account"><div>{{details.beneficiaryAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row top label="db.payments.template.details.row.form_symbol">{{details.paymentDetails.formCode}}</div><div eb-responsive-row top label="db.payments.template.details.row.period_type">{{::\'db.payments.templates.new.step2.row.period_type.\' + (details.paymentDetails.periodType != null ? details.paymentDetails.periodType : \'zero\') | translate| emptyFilter}}</div><div eb-responsive-row top label="db.payments.template.details.row.period_number">{{details.paymentDetails.periodNumber | emptyFilter}}</div><div eb-responsive-row top label="db.payments.template.details.row.period_year">{{details.paymentDetails.periodYear | emptyFilter}}</div><div eb-responsive-row top label="db.payments.template.details.row.id_type">{{\'db.payments.template.details.row.id_type.\' + details.paymentDetails.idtype | translate}}</div><div eb-responsive-row top label="db.payments.template.details.row.id">{{details.paymentDetails.idnumber}}</div><div eb-responsive-row top label="db.payments.template.details.row.commitment_identification">{{details.paymentDetails.obligationId | emptyFilter}}</div><div eb-responsive-row class="new-payment-step2-amount last-row" label="db.payments.template.details.row.transfer_amount"><eb-amount amount="details.amount" currency="{{details.currency}}"></eb-amount></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDomesticAcceptForm.html",'<div eb-responsive-row label="db.payments.templates.new.step2.row.template_name">{{templateDetails.paymentTemplates[0].templateName}}</div><div eb-responsive-row label="db.payments.templates.new.step2.row.recipient_name"><div db-lines-join eb-lines="templateDetails.recipientName"></div></div><div eb-responsive-row center label="db.payments.templates.new.step2.row.recipient_address"><div db-lines-join eb-lines="templateDetails.recipientAddress"></div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_account_number">{{templateDetails.paymentTemplates[0].beneficiaryAccountNo | nrbIbanFilter}}</div><div eb-responsive-row top label="db.payments.new.step2.row.beneficiary_bank"><span eb-domestic-bank-details nrb="{{templateDetails.paymentTemplates[0].beneficiaryAccountNo}}"></span></div><div eb-responsive-row label="db.payments.templates.new.step2.row.amount"><eb-amount amount="templateDetails.paymentTemplates[0].amount" currency="{{templateDetails.paymentTemplates[0].currency}}"></eb-amount></div><div eb-responsive-row class="last-row" top label="db.payments.templates.new.step2.row.title"><div db-pmt-title eb-title="templateDetails.paymentTemplates[0].title"></div><div ng-if="templateDetails.paymentTemplates[0].title.length == 0 ">—</div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateDomesticForm.html",'<div eb-responsive-row label="db.payments.templates.new.step1.row.template_name"><div eb-template-name-input eb-name="templateName" ng-model="formData.formModel.templateName" placeholder="db.payments.templates.new.step1.row.template_name.placeholder"></div><eb-validation-messages eb-name="templateName"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.template_name.required"></span></div><div eb-message-key="transfer.recipientName.error.template_name_already_exist"><span eb-msg="db.payments.templates.new.step1.row.template_name.template_name_already_exist"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.templates.new.step1.row.recipient_name"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.templates.new.step1.row.recipient_name.placeholder\'|translate}}" ng-model="formData.formModel.recipientName" eb-name="recipientName" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-form="paymentTemplateAddForm" required-msg="{{\'db.payments.templates.new.step1.row.recipient_name.required\' | translate}}"></div><eb-validation-messages eb-name="recipientName"><div eb-message-key="template_order.recipientName.ELIXIRCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.templates.new.step1.row.recipient_address"><div db-pmt-simple-textarea class="one-line-address-area" placeholder="{{::\'db.payments.templates.new.step1.row.recipient_address.placeholder\'|translate}}" ng-model="formData.formModel.recipientAddress" eb-name="recipientAddress" eb-required="false" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-form="paymentTemplateAddForm"></div><eb-validation-messages eb-name="recipientAddress"><div eb-message-key="template_order.recipientAddress.ELIXIRCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.beneficiary_account_number"><span eb-themable class="eb-input-nrb"><eb-input-nrb name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" ng-required="true" eb-placeholder="{{::\'db.payments.templates.new.step1.row.beneficiary_account_number.placeholder\'|translate}}"></eb-input-nrb></span><eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.component.nrb.required"></span></div><div eb-message-key="transfer.recipientAccountNo.error.bank_not_found"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.error.bank_not_found"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"></span></div><div eb-message-key="transfer.recipientAccountNo.validate_recipient_account.is.tax.office.account"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate_recipient_account.is.tax.office.account"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.recipient.account_is.zus.account"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.recipient.account_is.zus.account"></span></div><div eb-message-key="template_order.recipientAccountNo.NRB"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="recipient.recipientAccountNo.NRB"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div></eb-validation-messages></div><div collapse="formData.formModel.recipientAccountNo.length != 26" class="close-section" ng-class="{\'collapse-fix\': collapseFix}"><div eb-responsive-row><div class="bank-info" ng-show="formData.formModel.recipientAccountNo.length == 26"><span eb-msg="db.payments.templates.new.step1.row.bank_info"></span>&nbsp;<span eb-domestic-bank-details nrb="{{formData.formModel.recipientAccountNo}}"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.amount"><div eb-input-amount eb-name="amount" ng-model="formData.formModel.amount" eb-form="paymentTemplateAddForm"></div></div><div eb-responsive-row class="last-row one-line-text-area" top label="db.payments.templates.new.step1.row.title"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.templates.new.step1.row.title.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.title" eb-name="title" eb-required="false" eb-form="paymentTemplateAddForm" invalid-elixir-characters-key="db.payments.new.step1.row.description.invalid_elixir_characters"></div><eb-validation-messages eb-name="title"><div eb-message-key="template_order.title.ELIXIRCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateForm.html",'<div class="inner-payment-form center-app-header"><div eb-content-navigation></div><div style="position:relative"><div class="inner-form-padding center-form"><div eb-themable><eb-section-header ng-if="!isEdition" eb-header="db.payments.templates.new.section_header.header" back-state="de.payments.templates"></eb-section-header><eb-section-header ng-if="isEdition" eb-header="db.payments.templates.edition.step1.section_header.header" back-state="de.payments.templates"></eb-section-header><div class="form-main-select payment-type-select-content" ng-show="modelLoaded"><eb-responsive-row label="db.payments.templates.new.step1.row.payment_type"><db-pmt-type-select ng-if="!isEdition && !isNew" ng-model="formData.formType" blocked-types="blockedTypes"></db-pmt-type-select><div ng-if="isEdition || isNew">{{\'db.payments.details.row.transfer_type.\' + formData.formType |lowercase|translate}}</div></eb-responsive-row></div><div class="form-body" eb-view-swap="viewLoaded" ng-show="modelLoaded"><form name="paymentTemplateAddForm" novalidate><div ui-view autoscroll="true"></div><eb-action-footer submit-label="db.payments.templates.new.action_footer.submit_label" submit-icon="eb-icon-template" submit-action="submit(paymentTemplateAddForm)"></eb-action-footer></form></div><eb-preloader visible class="eb-preloader-default"></eb-preloader></div></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateImportAcceptForm.html",""),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateImportForm.html",'<div class="eb-choice-dialog importTemplatesStep1Dialog" ng-if="step1"><div eb-dialog eb-title="{{ \'db.payments.templates.import.modal.step1.header.title\' | translate}}" eb-on-close="close()"><form name="importTemplatesForm" novalidate><div eb-file-upload upload-url="{{importUrl}}" eb-name="content" eb-form="importTemplatesForm" on-success-callback="onfileUploadSuccess(response)" form-data="uploadFormData" info-label="{{::\'db.payments.templates.import.modal.step1.body.row.chose_file_info\'|translate}}" file-name-label="{{::\'db.payments.templates.import.modal.step1.body.file\'|translate}}" change-button-label="{{::\'db.payments.templates.import.modal.step1.body.button.change\'|translate}}" upload-button-label="{{::\'db.payments.templates.import.modal.step1.body.button.chose\'|translate}}" next-button-label="{{::\'db.payments.templates.import.modal.step1.body.button.next\'|translate}}"></div><div eb-action-footer cancel-action="close()" cancel-label="{{\'db.payments.templates.import.modal.step1.body.button.cancel\' | translate }}"></div></form></div></div><div class="eb-choice-dialog importTemplatesStep2Dialog" ng-if="!step1"><div eb-dialog eb-title="{{ \'db.payments.templates.import.modal.step2.header.title\' | translate}}" eb-on-close="close()"><div class="step2-dialog-width"><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.quantity_correct_templates">{{importDetails.importData.validTemplates}}</div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.quantity_incorrect_templates">{{importDetails.importData.invalidTemplates}}</div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.quantity_duplicated_templates">{{importDetails.importData.duplicateTemplates}}</div><div eb-responsive-row label="db.payments.templates.import.modal.step2.body.row.action_duplicated_templates" ng-if="importDetails.importData.validTemplates > 0 && importDetails.importData.duplicateTemplates > 0"><div class="duplicated-option-radio-button"><eb-radio-button class="range-radio eb-bank-radio" eb-name="radionButton1" eb-model="formData.overwrite" eb-value="true"></eb-radio-button><div class="duplicated-option-label">{{\'db.payments.templates.import.modal.step2.body.row.action_duplicated_templates_override\' | translate}}</div></div><div class="duplicated-option-radio-button"><eb-radio-button class="range-radio eb-bank-radio" eb-name="radionButton2" eb-model="formData.overwrite" eb-value="false"></eb-radio-button><div class="duplicated-option-label">{{\'db.payments.templates.import.modal.step2.body.row.action_duplicated_templates_new_names\' | translate}}</div></div></div></div><div class="shaded-section" ng-class="{\'higher-popup-becouse-of-duplicates\': importDetails.importData.duplicateTemplates > 0}"><div ng-if="importDetails.importData.validTemplates > 0"><form name="authForm" novalidate><div eb-authorization eb-model="auth" eb-disposition-id="importDetails.importId" eb-resource-type="template_import" eb-relation="realize_import" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true" class="step2-dialog-auth-width"></div><div eb-action-footer class="step2-dialog-width" submit-action="acceptUpload(authForm)" submit-label="{{\'db.payments.templates.import.modal.step2.body.button.submit\' | translate }}" cancel-action="cancelUpload()" cancel-label="{{\'db.payments.templates.import.modal.step2.body.button.cancel\' | translate }}"></div></form></div><div ng-if="importDetails.importData.validTemplates == 0"><div eb-action-footer class="step2-dialog-width" cancel-action="cancelUpload()" cancel-label="{{\'db.payments.templates.import.modal.step2.body.button.cancel\' | translate }}"></div></div></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateInsuranceAcceptForm.html",'<div eb-responsive-row label="db.payments.templates.new.step2.row.template_name">{{templateDetails.paymentTemplates[0].templateName}}</div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.insurance_account_no"><div>{{templateDetails.paymentTemplates[0].beneficiaryAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.payment_type"><div>{{\'db.payments.templates.new.step1.row.insurance_payment_type_select.\' + templateDetails.paymentTemplates[0].paymentDetails.paymentType | translate}}&nbsp;-&nbsp;{{templateDetails.paymentTemplates[0].paymentDetails.paymentType}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.declaration"><div>{{templateDetails.paymentTemplates[0].paymentDetails.declaration | emptyFilter}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.declaration_no"><div>{{templateDetails.paymentTemplates[0].paymentDetails.declarationNo | emptyFilter}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.nip"><div>{{templateDetails.paymentTemplates[0].paymentDetails.nip}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.second_id_type"><div>{{\'db.payments.templates.new.step1.row.complementary_id_type_select.\' + templateDetails.paymentTemplates[0].paymentDetails.secondIDType | translate}}&nbsp;({{templateDetails.paymentTemplates[0].paymentDetails.secondIDType}})</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.second_id_no"><div>{{templateDetails.paymentTemplates[0].paymentDetails.secondIDNo}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.insurance.label.decision_no"><div>{{templateDetails.paymentTemplates[0].paymentDetails.decisionNo | emptyFilter}}</div></div><div eb-responsive-row class="new-payment-step2-amount last-row" label="db.payments.templates.new.step2.row.amount"><eb-amount amount="templateDetails.paymentTemplates[0].amount" currency="{{templateDetails.paymentTemplates[0].currency}}"></eb-amount></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateInsuranceForm.html",'<div eb-responsive-row label="db.payments.templates.new.step1.row.template_name"><div eb-template-name-input eb-name="templateName" ng-model="formData.formModel.templateName" placeholder="db.payments.templates.new.step1.row.template_name.placeholder"></div><eb-validation-messages eb-name="templateName"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.template_name.required"></span></div><div eb-message-key="transfer.recipientName.error.template_name_already_exist"><span eb-msg="db.payments.templates.new.step1.row.template_name.template_name_already_exist"></span></div><div eb-message-key="template_order.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="recipient.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.insurance_account_select.label"><div eb-insurance-account-select name="insuranceDestinationType" ng-model="formData.formModel.insurancePremiums.insuranceDestinationType" insurance-accounts-key="db.payments.templates.new.step1.row.insurance_account_select." placeholder="{{::\'db.payments.templates.new.step1.row.insurance_account_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="insuranceDestinationType"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.insurance_account_select.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.insurance_payment_type_select.label"><div eb-insurance-payment-type-select name="insurancePaymentType" ng-model="formData.formModel.paymentType" insurance-payment-types-key="db.payments.templates.new.step1.row.insurance_payment_type_select." placeholder="{{::\'db.payments.templates.new.step1.row.insurance_payment_type_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="insurancePaymentType"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.insurance_payment_type_select.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.declaration.label"><div eb-themable eb-declaration-input declaration-validator name="declarationDate" ng-model="formData.formModel.declarationDate" placeholder="{{::\'db.payments.templates.new.step1.row.declaration.placeholder\'|translate}}" ng-required="false"></div><div eb-validation-messages eb-name="declarationDate"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.declaration.validate.required"></span></div><div eb-message-key="template_order.declarationDate.Size"><span eb-msg="Niepoprawna deklaracja"></span></div><div eb-message-key="transfer.declarationDate.error.transfer.invalid.declaration_date"><span eb-msg="Niepoprawna deklaracja"></span></div><div eb-message-key="declarationValid"><span eb-msg="db.payments.new.step1.row.declaration.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.declaration_no.label"><div eb-themable eb-declaration-no-input declaration-no-validator name="declarationNo" ng-model="formData.formModel.declarationNo" insurance-payment-type="formData.formModel.paymentType" placeholder="{{::\'db.payments.templates.new.step1.row.declaration_no.placeholder\'|translate}}" ng-required="false"></div><div eb-validation-messages eb-name="declarationNo"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.declaration_no.validate.required"></span></div><div eb-message-key="template_order.declarationNo.Size"><span eb-msg="Niepoprawna deklaracja"></span></div><div eb-message-key="transfer.declarationNo.error.transfer.invalid.decision_no"><span eb-msg="Niepoprawna deklaracja"></span></div><div eb-message-key="declarationNoValid"><span eb-msg="db.payments.templates.new.step1.row.declaration_no.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.nip.label"><div eb-themable><input type="text" class="simple-input" nip-validator maxlength="10" ng-model="formData.formModel.nip" name="nip" placeholder="{{::\'db.payments.templates.new.step1.row.nip.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="nip"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.nip.validate.required"></span></div><div eb-message-key="template_order.nip.Size"><span eb-msg="db.payments.new.step1.row.nip.validate.incorrect"></span></div><div eb-message-key="nipValid"><span eb-msg="db.payments.new.step1.row.nip.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.complementary_id_type_select.label"><div eb-complementary-id-type-select name="secondaryIdType" ng-model="formData.formModel.secondaryIdType" complementary-id-types-key="db.payments.templates.new.step1.row.complementary_id_type_select." placeholder="{{::\'db.payments.templates.new.step1.row.complementary_id_type_select.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="secondaryIdType"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.complementary_id_type_select.validate.required"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.complementary_id_type.label"><div eb-themable eb-complementary-id-input complementary-id-validator name="idNumber" ng-model="formData.formModel.secondaryIdNo" complementary-id-type="formData.formModel.secondaryIdType" placeholder="{{::\'db.payments.templates.new.step1.row.complementary_id_type.placeholder\'|translate}}" ng-required="true"></div><div eb-validation-messages eb-name="idNumber"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.complementary_id_type.validate.required"></span></div><div eb-message-key="complementaryValid"><span eb-msg="db.payments.templates.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.pesel"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.id_card"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.regon"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div><div eb-message-key="transfer.idNumber.error.invalid.passport"><span eb-msg="db.payments.new.step1.row.complementary_id_type.validate.incorrect"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.decision_no.label"><div eb-themable eb-decision-no-input eb-name="decisionNo" ng-model="formData.formModel.decisionNo" insurance-payment-type="formData.formModel.paymentType" placeholder="{{::\'db.payments.templates.new.step1.row.decision_no.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="decisionNo"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.decision_no.validate.required"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.templates.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="PLN" ng-model="formData.formModel.insurancePremiums.amount" eb-form="paymentTemplateAddForm" account-id="{{formData.remitterAccount.accountId}}"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.decimal_max"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateSepaAcceptForm.html",'<div eb-responsive-row label="db.payments.templates.new.step2.row.template_name">{{templateDetails.paymentTemplates[0].templateName}}</div><div eb-responsive-row label="db.payments.templates.new.step2.row.recipient_name"><div db-lines-join eb-lines="templateDetails.recipientName"></div></div><div eb-responsive-row center label="db.payments.templates.new.step2.row.recipient_address"><div db-lines-join eb-lines="templateDetails.recipientAddress"></div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_account_number">{{templateDetails.paymentTemplates[0].beneficiaryAccountNo | nrbIbanFilter}}</div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_bank_country" ng-show="templateDetails.paymentTemplates[0].paymentDetails.foreignCountryCode"><div db-pmt-country-details country-code="{{templateDetails.paymentTemplates[0].paymentDetails.foreignCountryCode}}"></div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_bank" ng-show="templateDetails.paymentTemplates[0].paymentDetails.recipientSwift || (templateDetails.paymentTemplates[0].paymentDetails.bankDetails && templateDetails.paymentTemplates[0].paymentDetails.bankDetails.length > 0)"><div ng-if="templateDetails.paymentTemplates[0].paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{templateDetails.paymentTemplates[0].paymentDetails.recipientSwift}}"></div><div ng-if="templateDetails.paymentTemplates[0].paymentDetails.recipientSwift == null" ng-repeat="line in templateDetails.paymentTemplates[0].paymentDetails.bankDetails track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.amount"><eb-amount amount="templateDetails.paymentTemplates[0].amount" currency="{{templateDetails.paymentTemplates[0].currency}}"></eb-amount></div><div eb-responsive-row class="last-row" top label="db.payments.templates.new.step2.row.title"><div db-pmt-title eb-title="templateDetails.paymentTemplates[0].title"></div><div ng-if="templateDetails.paymentTemplates[0].title.length == 0 ">—</div></div><div class="sepa-payment"><div eb-responsive-row label="db.payments.templates.new.step2.row.payment_id" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtTransferId || isSepaActive"><div ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtTransferId">{{templateDetails.paymentTemplates[0].paymentDetails.adtTransferId}}</div><div ng-show="!templateDetails.paymentTemplates[0].paymentDetails.adtTransferId">{{\'db.payments.new.step2.row.payment_id.not_provided\' | translate}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.sender_type" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtSenderType"><div>{{\'db.payments.new.step2.row.sender_type.\' + templateDetails.paymentTemplates[0].paymentDetails.adtSenderType | translate}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.sender_id_type" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtSenderIdentifierType"><div>{{templateDetails.paymentTemplates[0].paymentDetails.adtSenderIdentifierType}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.sender_id_no" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtSenderIdentifier"><div>{{templateDetails.paymentTemplates[0].paymentDetails.adtSenderIdentifier}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.recipient_type" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtReceiverType"><div>{{\'db.payments.new.step2.row.sender_type.\' + templateDetails.paymentTemplates[0].paymentDetails.adtReceiverType | translate}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.recipient_id_type" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtReceiverIdentifierType"><div>{{templateDetails.paymentTemplates[0].paymentDetails.adtReceiverIdentifierType}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.recipient_id_no" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtReceiverIdentifier"><div>{{templateDetails.paymentTemplates[0].paymentDetails.adtReceiverIdentifier}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.category" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtTransferCategory"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_category_select.\' + templateDetails.paymentTemplates[0].paymentDetails.adtTransferCategory | translate}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.purpose" ng-show="templateDetails.paymentTemplates[0].paymentDetails.adtTransferDestination"><div>{{\'db.payments.new.step1.row.sepa_xml.additional_sepa_params.sepa_purpose_select.\' + templateDetails.paymentTemplates[0].paymentDetails.adtTransferDestination | translate}}</div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateSepaForm.html",'<div eb-responsive-row label="db.payments.templates.new.step1.row.template_name"><div eb-template-name-input eb-name="templateName" ng-model="formData.formModel.templateName" placeholder="db.payments.templates.new.step1.row.template_name.placeholder"></div><eb-validation-messages eb-name="templateName"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.template_name.required"></span></div><div eb-message-key="transfer.recipientName.error.template_name_already_exist"><span eb-msg="db.payments.templates.new.step1.row.template_name.template_name_already_exist"></span></div><div eb-message-key="template_order.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="recipient.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.templates.new.step1.row.recipient_name"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.templates.new.step1.row.recipient_name.placeholder\'|translate}}" ng-model="formData.formModel.recipientName" eb-name="recipientName" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-form="paymentTemplateAddForm" required-msg="{{\'db.payments.templates.new.step1.row.recipient_name.required\' | translate}}"></div><eb-validation-messages eb-name="recipientName"><div eb-message-key="template_order.recipientName.ISO20022CharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.recipientName.ISO20022CharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.invalid_iso20022_characters"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.templates.new.step1.row.recipient_address"><div db-pmt-simple-textarea class="one-line-address-area" placeholder="{{::\'db.payments.templates.new.step1.row.recipient_address.placeholder\'|translate}}" ng-model="formData.formModel.recipientAddress" eb-name="recipientAddress" eb-required="false" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-form="paymentTemplateAddForm"></div><eb-validation-messages eb-name="recipientAddress"><div eb-message-key="template_order.recipientAddress.ISO20022CharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.invalid_iso20022_characters"></span></div><div eb-message-key="recipient.recipientAddress.ISO20022CharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.invalid_iso20022_characters"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.country.label"><db-pmt-country-select name="recipientBankCountryCode" eb-name="recipientBankCountryCode" ng-model="formData.formModel.recipientBankCountryCode" eb-placeholder="{{::\'db.payments.templates.new.step1.row.country.placeholder\'|translate}}" ng-required="true"></db-pmt-country-select><div eb-validation-messages eb-name="recipientBankCountryCode"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.country.validate"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.beneficiary_account_number"><span eb-themable class="eb-input-nrb"><eb-input-nrb name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" ng-required="true" eb-placeholder="{{::\'db.payments.templates.new.step1.row.beneficiary_account_number.placeholder\'|translate}}"></eb-input-nrb></span><eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.component.nrb.required"></span></div><div eb-message-key="nrb"><span eb-msg="db.payments.templates.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.error.bank_not_found"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.error.bank_not_found"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.validate_recipient_account.is.tax.office.account"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate_recipient_account.is.tax.office.account"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.validate.recipient.account_is.zus.account"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.recipient.account_is.zus.account"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.error.invalid_account_iban"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.internal.account.is.not.possible"><span eb-msg="db.payments.new.step1.sepa.nrb.foreign_to_internal_account"></span></div><div eb-message-key="payments.recipientAccountNo.ISO20022CharactersOnly"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.account.carried.in.the.same.bank.is.not.possible"><span eb-msg="db.payments.new.step1.row.beneficiaryAccountNo.error.foreign.european.transfer.to.account.carried.in.the.same.bank.is.not.possible"></span></div><div eb-message-key="transfer.recipientAccountNo.error.recipient.account.number.is.blank"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.swiftBicCode.error.invalid_swift_code"><span eb-msg="db.payments.templates.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="validate.country.code.swift.not.belong.to.sepa.system"><span eb-msg="db.payments.templates.new.step1.row.country.validate"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.country.code.swift.not.belong.to.sepa.system"><span eb-msg="db.payments.templates.new.step1.swift.not_belong_to_sepa"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.amount"><div eb-input-amount eb-name="amount" ng-model="formData.formModel.amount" eb-currency-model="EUR" eb-form="paymentTemplateAddForm"></div></div><div eb-responsive-row class="last-row one-line-text-area" top label="db.payments.templates.new.step1.row.title"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.templates.new.step1.row.title.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.title" eb-name="title" eb-required="false" eb-form="paymentTemplateAddForm"></div><div eb-validation-messages eb-name="title"><div eb-message-key="recipient.title.ISO20022CharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.invalid_iso20022_characters"></span></div><div eb-message-key="template_order.title.ISO20022CharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.invalid_iso20022_characters"></span></div></div></div><div eb-responsive-row class="sepa-payment"><div eb-checkbox eb-model="formData.additionalSepaParams" class="exchange-checkbox" eb-name="additionalSepaParams" eb-required="false" eb-disabled="false" ng-mouseenter="isSepaCheckboxHover = true" ng-mouseleave="isSepaCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isSepaCheckboxHover}"></div><span class="exchange-message" ng-click="formData.additionalSepaParams = !formData.additionalSepaParams" eb-msg="db.payments.templates.new.step1.row.sepa_xml.additional_sepa_params.checkbox.label" ng-mouseenter="isSepaCheckboxHover = true" ng-mouseleave="isSepaCheckboxHover = false"></span></div><div collapse="!formData.additionalSepaParams" class="sepa-payment" ng-class="{\'collapse-fix\': sepaCollapseFix}"><db-pmt-additional-sepa-params eb-model="formData.formModel" eb-form="paymentTemplateAddForm" eb-visible="formData.additionalSepaParams"></db-pmt-additional-sepa-params></div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateSwiftAcceptForm.html",'<div eb-responsive-row label="db.payments.templates.new.step2.row.template_name">{{templateDetails.paymentTemplates[0].templateName}}</div><div eb-responsive-row label="db.payments.templates.new.step2.row.recipient_name"><div db-lines-join eb-lines="templateDetails.recipientName"></div></div><div eb-responsive-row center label="db.payments.templates.new.step2.row.recipient_address"><div db-lines-join eb-lines="templateDetails.recipientAddress"></div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_account_number">{{templateDetails.paymentTemplates[0].beneficiaryAccountNo | nrbIbanFilter}}</div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_swift"><div>{{templateDetails.paymentTemplates[0].paymentDetails.recipientSwift | emptyFilter}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_bank_country"><div db-pmt-country-details country-code="{{templateDetails.paymentTemplates[0].paymentDetails.foreignCountryCode}}"></div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.beneficiary_bank"><div ng-if="templateDetails.paymentDetails.recipientSwift != null" db-pmt-foreign-bank-details swift="{{templateDetails.paymentTemplates[0].paymentDetails.recipientSwift}}"></div><div ng-if="templateDetails.paymentDetails.recipientSwift == null" ng-repeat="line in templateDetails.paymentTemplates[0].paymentDetails.bankDetails track by $index">{{line}}</div></div><div eb-responsive-row label="db.payments.templates.new.step2.row.amount"><eb-amount amount="templateDetails.paymentTemplates[0].amount" currency="{{templateDetails.paymentTemplates[0].currency}}"></eb-amount></div><div eb-responsive-row top label="db.payments.templates.new.step2.row.title"><div db-pmt-title eb-title="templateDetails.paymentTemplates[0].title"></div><div ng-if="templateDetails.paymentTemplates[0].title.length == 0 ">—</div></div><div eb-responsive-row top label="db.payments.templates.new.step2.row.transfer_additional_info">{{templateDetails.paymentTemplates[0].paymentDetails.additionalInfo | emptyFilter}}</div><div eb-responsive-row class="last-row" top label="db.payments.templates.new.step2.row.cost_type">{{\'db.payments.templates.new.step2.row.cost_type.\' + templateDetails.paymentTemplates[0].paymentDetails.costsType | lowercase | translate}}</div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateSwiftForm.html",'<div eb-responsive-row ng-hide="sepaParameter"><div class="sepa-info"><span eb-msg="db.payments.templates.new.step1.row.sepa_realization.info" prevent-orphans></span></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.template_name"><div eb-template-name-input eb-name="templateName" ng-model="formData.formModel.templateName" placeholder="db.payments.templates.new.step1.row.template_name.placeholder"></div><eb-validation-messages eb-name="templateName"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.template_name.required"></span></div><div eb-message-key="transfer.recipientName.error.template_name_already_exist"><span eb-msg="db.payments.templates.new.step1.row.template_name.template_name_already_exist"></span></div><div eb-message-key="template_order.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="recipient.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.templates.new.step1.row.recipient_name"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.templates.new.step1.row.recipient_name.placeholder\'|translate}}" ng-model="formData.formModel.recipientName" eb-name="recipientName" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-form="paymentTemplateAddForm" required-msg="{{\'db.payments.templates.new.step1.row.recipient_name.required\' | translate}}"></div><eb-validation-messages eb-name="recipientName"><div eb-message-key="template_order.recipientName.SWIFTCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.recipient_name.invalid_swift_characters"></span></div></eb-validation-messages></div><div eb-responsive-row center label="db.payments.templates.new.step1.row.recipient_address"><div db-pmt-simple-textarea class="one-line-address-area" placeholder="{{::\'db.payments.templates.new.step1.row.recipient_address.placeholder\'|translate}}" ng-model="formData.formModel.recipientAddress" eb-name="recipientAddress" eb-required="false" eb-resizable="true" eb-rows="2" eb-maxlength="70" eb-form="paymentTemplateAddForm"></div><eb-validation-messages eb-name="recipientAddress"><div eb-message-key="template_order.recipientAddress.SWIFTCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.recipient_address.invalid_swift_characters"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.beneficiary_account_number"><span eb-themable class="eb-input-nrb"><eb-input-nrb name="recipientAccountNo" ng-model="formData.formModel.recipientAccountNo" ng-required="true" eb-placeholder="{{::\'db.payments.templates.new.step1.row.beneficiary_account_number.placeholder\'|translate}}"></eb-input-nrb></span><eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.component.nrb.required"></span></div><div eb-message-key="nrb"><span eb-msg="db.payments.templates.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.bank_not_found"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.error.bank_not_found"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.bank.not.participate.in.elixir.system.for.execution.date"></span></div><div eb-message-key="transfer.recipientAccountNo.validate_recipient_account.is.tax.office.account"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate_recipient_account.is.tax.office.account"></span></div><div eb-message-key="transfer.recipientAccountNo.validate.recipient.account_is.zus.account"><span eb-msg="db.payments.templates.new.step1.row.beneficaryAccountNo.validate.recipient.account_is.zus.account"></span></div><div eb-message-key="payments.recipientAccountNo.validate.invalid_account_number"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.internal.account.is.not.possible"><span eb-msg="db.payments.new.step1.component.nrb.foreign_to_internal_account"></span></div><div eb-message-key="transfer.beneficiaryAccountNo.error.invalid_account_iban"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="payments.recipientAccountNo.SWIFTCharactersOnly"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.currencyTransfer.error.invalid_account_local_transfer_in_PLN"><span eb-msg="db.payments.new.step1.row.beneficaryAccountNo.invalid_account_local_transfer_in_PLN"></span></div><div eb-message-key="transfer.recipientAccountNo.error.foreign.european.transfer.to.account.carried.in.the.same.bank.is.not.possible"><span eb-msg="db.payments.new.step1.row.beneficiaryAccountNo.error.foreign.european.transfer.to.account.carried.in.the.same.bank.is.not.possible"></span></div><div eb-message-key="transfer.recipientAccountNo.error.recipient.account.number.is.blank"><span eb-msg="db.payments.templates.new.step1.component.nrb.invalid_number"></span></div></eb-validation-messages></div><div eb-responsive-row top class="recipient-bank-label" label="db.payments.templates.new.step1.recipient_bank"><div db-pmt-recipient-bank ng-model="formData.formModel" eb-is-template-active="formData.isEdition" eb-form="paymentTemplateAddForm"></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.amount"><div eb-input-amount eb-name="amount" ng-model="formData.formModel.amount" currency ng-currency-model="formData.formModel.currency" eb-form="paymentTemplateAddForm"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.swift.invalid.amount.for.jpy"><span eb-msg="db.payments.error.swift.invalid.amount.for.jpy"></span></div></div></div><div eb-responsive-row top class="one-line-text-area" label="db.payments.templates.new.step1.row.title"><div db-pmt-simple-textarea placeholder="{{::\'db.payments.templates.new.step1.row.title.placeholder\'|translate}}" form-data="form" ng-model="formData.formModel.title" eb-name="title" eb-required="false" eb-form="paymentTemplateAddForm" invalid-elixir-characters-key="db.payments.new.step1.row.description.invalid_elixir_characters" invalid-swift-characters-key="db.payments.new.step1.row.description.invalid_swift_characters"></div><div eb-validation-messages eb-name="title"><div eb-message-key="recipient.title.SWIFTCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.title.invalid_swift_characters"></span></div><div eb-message-key="template_order.title.SWIFTCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.title.invalid_swift_characters"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.additional_info" class="new-payment-label relaxed-label"><div db-pmt-additional-info ng-model="formData.formModel.additionalInfo" name="additionalInfo" eb-placeholder="{{::\'db.payments.templates.new.step1.additional_info.placeholder\' | translate}}"></div><div eb-validation-messages eb-name="additionalInfo"><div eb-message-key="template_order.additionalInfo.SWIFTCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.additionalInfo.invalid_swift_characters"></span></div><div eb-message-key="maxlength"><span eb-msg="db.payments.new.step1.row.additionalInfo.maxlength"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.templates.new.step1.row.cost_type"><div class="new-payment-cost-type"><db-pmt-cost-type-select name="costType" ng-model="formData.formModel.costType" ng-required="true"></db-pmt-cost-type-select></div><div eb-validation-messages eb-name="costType"><div eb-message-key="transfer.costType.error.cost_type_must_be_sha_or_z"><span eb-msg="db.payments.templates.new.step1.row.cost_type.validate.cost_type_must_be_sha_or_z"></span></div><div eb-message-key="transfer.costType.error.cost_type_must_be_sha"><span eb-msg="db.payments.templates.new.step1.row.cost_type.validate.cost_type_must_be_sha"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateTaxAcceptForm.html",'<div eb-responsive-row label="db.payments.templates.new.step2.row.template_name">{{templateDetails.paymentTemplates[0].templateName}}</div><eb-responsive-row label="db.payments.templates.new.step2.row.tax_office"><div db-lines-join eb-lines="templateDetails.recipientName"></div><div db-lines-join eb-lines="templateDetails.recipientAddress"></div></eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.tax_office_account">{{templateDetails.paymentTemplates[0].beneficiaryAccountNo | nrbIbanFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.form_code">{{templateDetails.paymentTemplates[0].paymentDetails.formCode}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.period_type"><span ng-if="templateDetails.paymentTemplates[0].paymentDetails.periodType">{{::\'db.payments.templates.new.step2.row.period_type.\' + templateDetails.paymentTemplates[0].paymentDetails.periodType | translate}}</span> <span ng-if="!templateDetails.paymentTemplates[0].paymentDetails.periodType">{{::\'db.payments.templates.new.step2.row.period_type.zero\' | translate}}</span></eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.period_number">{{templateDetails.paymentTemplates[0].paymentDetails.periodNumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.period_year">{{templateDetails.paymentTemplates[0].paymentDetails.periodYear | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.obligation_id">{{templateDetails.paymentTemplates[0].paymentDetails.obligationId | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.additional_id_type">{{\'db.payments.templates.new.step2.row.additional_id_type.\'+ templateDetails.paymentTemplates[0].paymentDetails.idtype | translate | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.additional_id_number">{{templateDetails.paymentTemplates[0].paymentDetails.idnumber | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.payments.templates.new.step2.row.amount" class="payment-details-amount last-row"><eb-amount amount="templateDetails.paymentTemplates[0].amount" currency="{{templateDetails.paymentTemplates[0].currency}}"></eb-amount></eb-responsive-row>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplateTaxForm.html",'<div eb-responsive-row label="db.payments.templates.new.step1.row.template_name"><div eb-template-name-input eb-name="templateName" ng-model="formData.formModel.templateName" placeholder="db.payments.templates.new.step1.row.template_name.placeholder"></div><eb-validation-messages eb-name="templateName"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.template_name.required"></span></div><div eb-message-key="transfer.recipientName.error.template_name_already_exist"><span eb-msg="db.payments.templates.new.step1.row.template_name.template_name_already_exist"></span></div><div eb-message-key="recipient.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="template_order.templateName.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_elixir_characters"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.new.step1.row.tax.city"><div db-pmt-tax-office-address-select name="recipientAddress" id="recipientAddress" ng-click="scrollTop()" ng-model="formData.formModel.recipientAddress" ng-required="true" placeholder="{{::\'db.payments.new.step1.row.tax.city.placeholder\'|translate}}"></div><eb-validation-messages eb-name="recipientAddress"><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.city.validate.required"></span></div><div eb-message-key="payments.tax.city.not.found">{{::\'db.payments.new.step1.row.tax.city.invalid.not_found\'|translate}}</div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.name"><div db-pmt-tax-office-select name="recipientName" id="recipientName" tax-offices-details-list="formData.taxOfficesDetailsList" tax-office="formData.selectedTaxOffice" ng-click="scrollTop()" ng-model="formData.formModel.recipientName" address="formData.formModel.recipientAddress" ng-required="true" placeholder="{{::\'db.payments.templates.new.step1.row.tax.name.placeholder\'|translate}}"></div><eb-validation-messages eb-name="recipientName"><div eb-message-key="payments.tax.office_name.not.found">{{::\'db.payments.new.step1.row.invalid.not_found\'|translate}}</div><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.tax.office_name.validate.required"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.tax_group"><div db-pmt-tax-account-group-select tax-office="formData.selectedTaxOffice" name="taxGroupId" ng-model="formData.taxGroupId" prefix-label="db.payments.templates.new.step1.row.tax.tax_group." placeholder="{{::\'db.payments.templates.new.step1.row.tax.tax_group.placeholder\'|translate}}" class="narrow-select"></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.us_nrb"><div db-pmt-tax-office-account-input id="recipientAccountNo" name="recipientAccountNo" model="formData.formModel.recipientAccountNo" form-code="formData.formCode" tax-group="formData.taxGroupId" tax-office="formData.selectedTaxOffice" tax-offices-details-list="formData.taxOfficesDetailsList" ng-required="true" placeholder="" update-on-tax-office-change="!isEditInit"></div><div eb-validation-messages eb-name="recipientAccountNo"><div eb-message-key="transfer.recipientAccountNo.validate_recipient_account.is.not.tax.office.account">{{::\'db.payments.validate_recipient_account.is.not.tax.office.account\'|translate}}</div><div eb-message-key="nrb"><span eb-msg="db.payments.templates.new.step1.component.nrb.invalid_number"></span></div><div eb-message-key="transfer.recipientAccountNo.error.bank_not_found"><span eb-msg="db.payments.templates.new.step1.row.recipient_account_no.validate.bank_not_found"></span></div><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.tax_account_no.validate.required"></span></div><div eb-message-key="payments.recipientAccountNo.validate.invalid_account_number"><span eb-msg="db.payments.new.step1.component.nrb.invalid_number"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.form_code"><div db-pmt-tax-form-code-select name="formCode" eb-form="paymentTemplateAddForm" selected-tax-office="formData.selectedTaxOffice" form-code="formData.formCode" tax-group="formData.taxGroupId" id="formCode" ng-model="formData.formModel.formCode" ng-required="true" placeholder="{{::\'db.payments.templates.new.step1.row.tax.form_code.placeholder\'|translate}}" class="narrow-select"></div><div eb-validation-messages eb-name="formCode"><div eb-message-key="tax_period.form_code.error.tax.invalid.form_code">{{::\'db.payments.error.tax.period_type.required\'|translate}}</div><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.form_code.validate"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.period_type"><div db-pmt-tax-period-type-select id="periodType" ng-model="formData.formModel.periodType" name="periodType" empty-string-required is-period-zero-available="!formData.formCode.periodRequired" prefix-label="db.payments.templates.new.step1.row.tax.period_type." reset-on-period-zero-available="false" eb-form="paymentTemplateAddForm" form-code="formData.formModel.formCode" placeholder="{{::\'db.payments.templates.new.step1.row.tax.period_type.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="periodType"><div eb-message-key="tax_period.period_type.error.tax.invalid.period_type">{{::\'db.payments.error.tax.period_type.required\'|translate}}</div><div eb-message-key="emptyStringRequired"><span eb-msg="db.payments.templates.new.step1.row.tax.period_type.validate.required"></span></div><div eb-message-key="tax_period.period_type.error.tax.period_type.required">{{::\'db.payments.error.tax.period_type.required\'|translate}}</div></div></div><div ng-if="!collapseFix" collapse="formData.formModel.periodType !== undefined &&\n                                    formData.formModel.periodType !== \'K\' && formData.formModel.periodType !== \'M\' &&\n                                    formData.formModel.periodType !== \'D\' && formData.formModel.periodType !== \'J\'"><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.period_no"><div db-pmt-tax-period-number-select id="periodNo" name="periodNo" ng-model="formData.formModel.periodNumber" period-type="formData.formModel.periodType" from-template="true" placeholder="{{\'db.payments.templates.new.step1.row.tax.period_no.placeholder\' | translate}}" ng-required="formData.formModel.periodType === \'K\' ||\n                                    formData.formModel.periodType === \'M\' ||\n                                    formData.formModel.periodType === \'D\' ||\n                                    formData.formModel.periodType === \'J\'"></div><div eb-validation-messages eb-name="periodNo"><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number">{{::\'db.payments.error.tax.invalid.period_number\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.period_number.should.be.empty">{{::\'db.payments.error.tax.period_number.should.be.empty\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.half.year">{{::\'db.payments.error.tax.invalid.period_number.for.half.year\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.quarter">{{::\'db.payments.error.tax.invalid.period_number.for.quarter\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.month">{{::\'db.payments.error.tax.invalid.period_number.for.month\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.period_number.for.day">{{::\'db.payments.error.tax.invalid.period_number.for.day\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.first.part.period_number.for.decade">{{::\'db.payments.error.tax.invalid.first.part.period_number.for.decade\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.second.part.period_number.for.decade">{{::\'db.payments.error.tax.invalid.second.part.period_number.for.decade\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.first.part.period_number.for.day">{{::\'db.payments.error.tax.invalid.first.part.period_number.for.day\'|translate}}</div><div eb-message-key="tax_period.period_number.error.tax.invalid.second.part.period_number.for.day">{{::\'db.payments.error.tax.invalid.second.part.period_number.for.day\'|translate}}</div><div eb-message-key="elixirCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.period_number.validate.required"></span></div></div></div></div><div ng-if="!collapseFix" collapse="formData.formModel.periodType !== undefined &&\n                                    formData.formModel.periodType !== \'D\' &&\n                                    formData.formModel.periodType !== \'J\'"><div eb-responsive-row label="db.payments.new.step1.row.tax.period_month"><div db-pmt-tax-period-month-select id="periodMonth" name="periodMonth" eb-form="paymentTemplateAddForm" db-perion-number-field-name="periodNo" period-type="formData.formModel.periodType" ng-model="formData.formModel.periodMonth" ng-required="formData.formModel.periodType === \'D\' || formData.formModel.periodType === \'J\'" placeholder="{{\'db.payments.new.step1.row.tax.period_month.placeholder\' | translate}}"></div><div eb-validation-messages eb-name="periodMonth"><div eb-message-key="tax_period.period_year.error.tax.invalid.period_month">{{::\'db.payments.error.tax.invalid.period_month\'|translate}}</div><div eb-message-key="tax_period.period_month.error.tax.year.is.not.allowed.year">{{::\'db.payments.error.tax.year.is.not.allowed.year\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_month.error.tax.year.less.than.allowed">{{::\'db.payments.error.tax.year.less.than.allowed\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_month.error.tax.year.greater.than.allowed">{{::\'db.payments.error.tax.year.greater.than.allowed\'|translate}} {{$parent.formData.formModel.formEndDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="required"><span eb-msg="db.payments.new.step1.row.tax.period_month.validate.required"></span></div></div></div></div><div ng-if="!collapseFix" collapse="formData.formModel.periodType !== undefined && formData.formModel.periodType !== \'R\' &&\n                                    formData.formModel.periodType !== \'K\' && formData.formModel.periodType !== \'M\' &&\n                                    formData.formModel.periodType !== \'D\' && formData.formModel.periodType !== \'J\'"><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.period_year"><input ng-model="formData.formModel.periodYear" id="periodYear" name="periodYear" class="input-additional-info" type="text" maxlength="4" ng-required="formData.formCode.periodRequired" placeholder="{{\'db.payments.templates.new.step1.row.tax.period_year.placeholder\' | translate}}" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }"><div eb-validation-messages eb-name="periodYear"><div eb-message-key="tax_period.period_year.error.tax.invalid.period_year">{{::\'db.payments.error.tax.invalid.period_year\'|translate}}</div><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.tax.period_year.validate.required"></span></div><div eb-message-key="tax_period.period_year.error.tax.year.less.than.allowed">{{::\'db.payments.error.tax.year.less.than.allowed\'|translate}} {{$parent.formData.formModel.formStartDate | date:\'dd/MM/yyyy\'}}</div><div eb-message-key="tax_period.period_year.error.tax.year.greater.than.allowed">{{::\'db.payments.error.tax.year.greater.than.allowed\'|translate}} {{$parent.formData.formModel.formEndDate | date:\'dd/MM/yyyy\'}}</div></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.id_type"><div db-pmt-tax-id-type-select -select name="idType" id="idType" ng-model="formData.formModel.idType" key-model="formData.idType" prefix-label="db.payments.templates.new.step1.row.tax.id_type." ng-required="true" placeholder="{{::\'db.payments.templates.new.step1.row.tax.id_type.placeholder\'|translate}}"></div><div eb-validation-messages eb-name="idType"><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.id_number_type.validate"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.id"><input required ng-model="formData.formModel.idNumber" eb-name="idNumber" name="idNumber" id="idNumber" type="text" maxlength="14" placeholder="{{\'db.payments.templates.new.step1.row.tax.id.placeholder\' | translate}}" class="input-additional-info" ng-required="true" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }"><div eb-validation-messages eb-name="idNumber"><div eb-message-key="transfer.idNumber.error.invalid.nip">{{::\'db.payments.error.transfer.tax.invalid.nip\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.pesel">{{::\'db.payments.error.transfer.tax.invalid.pesel\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.regon">{{::\'db.payments.error.transfer.tax.invalid.regon\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.id_card">{{::\'db.payments.error.transfer.tax.invalid.id_card\'|translate}}</div><div eb-message-key="transfer.idNumber.error.invalid.passport">{{::\'db.payments.error.transfer.tax.invalid.passport\'|translate}}</div><div eb-message-key="elixirCharactersOnly"><span eb-msg="db.payments.templates.new.step1.row.description.invalid_elixir_characters"></span></div><div eb-message-key="required"><span eb-msg="db.payments.templates.new.step1.row.id_number.validate"></span></div></div></div><div eb-responsive-row label="db.payments.templates.new.step1.row.tax.obligation_id"><input ng-model="formData.formModel.obligationId" name="obligationId" id="obligationId" type="text" maxlength="40" elixir-validator placeholder="{{\'db.payments.templates.new.step1.row.tax.obligation_id.placeholder\' | translate}}" class="input-additional-info" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }"><div eb-validation-messages eb-name="obligationId"><div eb-message-key="template_order.obligationId.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_obligation_id_characters"></span></div><div eb-message-key="recipient.obligationId.ELIXIRCharactersOnly"><span eb-msg="db.payments.new.step1.row.description.invalid_obligation_id_characters"></span></div><div eb-message-key="elixirCharacters"><span eb-msg="db.payments.new.step1.row.description.invalid_obligation_id_characters"></span></div></div></div><div eb-responsive-row class="last-row" label="db.payments.templates.new.step1.row.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="PLN" ng-model="formData.formModel.amount" eb-form="paymentTemplateAddForm" account-id="{{formData.remitterAccount.accountId}}" eb-required="false"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.payments.templates.new.step1.row.amount.validate.decimal_max"></span></div></div></div>'),a.put("templates/dbnext-payments/0.0.12/views/paymentsTemplates.html",'<div eb-themable><div ng-show="activeAccessChecked"><eb-section-header eb-header="db.payments.templates.label.header" back-state="{{currentTabState.stateName}}"></eb-section-header><eb-mini-bar ng-hide="details" search-text="filterOptions.searchFilter" eb-disable-more="true" eb-search-placeholder="{{::\'db.payments.content.mini_bar.placeholder\'|translate}}" add-icon-name="eb-icon-template" add-url="de.payments.templateForm.domestic" add-title="{{::\'db.payments.templates.mini_bar.title\'|translate}}" click-callback="newTemplateClickCallback"></eb-mini-bar><eb-list id="paymentsTemplatesList" class="template-based-list" eb-promise="templatesPromise"><eb-list-item class="row" ng-repeat="template in templatesList | filter: filterOptions.searchFilter "><eb-list-item-content class="item-content-with-actions"><div class="transfer-type-cell cell_1_in_3"><span>{{::\'db.payments.content.list.collapse.transfer_type.\' + template.templateType|lowercase|translate}}</span></div><!-- no whitespace fix--><div class="actions-cell"><div class="default-desktop-option"><a ng-click="newTransfer(template)"><span eb-msg="db.payments.templates.list.options.new_transfer"></span></a></div><div class="options"><div eb-list-options><li><a class="option-row" ui-sref="^.templateDetails" store-context="template"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.details"></span></a></li><li><a class="option-row" ng-click="prepareEdit(template)"><span eb-themable class="eb-icon eb-ico-edit options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.edit"></span></a></li><li><a class="option-row" ng-click="prepareDelete(template)"><span eb-themable class="eb-icon eb-ico-close options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.delete"></span></a></li><li class="option-hidden-when-desktop"><a class="option-row" ng-click="newTransfer(template)"><span eb-themable class="eb-icon eb-ico-new-payment options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.new_transfer"></span></a></li></div></div></div><!-- no whitespace fix--><div class="amount-property-cell cell_3_in_3"><db-pmt-template-amount amount="template.amount" currency="{{template.currency}}"></db-pmt-template-amount></div><!-- no whitespace fix--><div class="info-cell cell_2_in_3"><div class="template-name">{{template.templateName}}</div><div class="beneficiary-account-no">{{template.beneficiaryAccountNo | nrbIbanFilter}}</div></div></eb-list-item-content><eb-collapse is-collapsed="template.isCollapsed"><eb-list-details><eb-list-details-item key="db.payments.templates.list.collapse.recipient"><div>{{template.recipientName[0]}}</div></eb-list-details-item><div ng-switch="template.templateType"><div ng-switch-when="TAX"><eb-list-details-item key="db.payments.templates.list.collapse.title"><div>{{template.title[1]}}</div></eb-list-details-item></div><div ng-switch-default><eb-list-details-item ng-if="template.templateType != \'INSURANCE\'" key="db.payments.templates.list.collapse.title"><div>{{template.title[0]}}</div></eb-list-details-item></div></div></eb-list-details></eb-collapse></eb-list-item><div class="miniapp-empty-list" ng-if="(templatesList | filter: filterOptions.searchFilter ).length == 0">{{::"db.payments.templates.content.empty"|translate}}</div></eb-list><eb-options-under-list ng-show="templatesPromise.$$state.status === 1"><div class="under-list-option second-option" ng-hide="!optionsAvailable || templatesList.length == 0"><a href="{{downloadTemplate.link}}" target="{{downloadTemplate.target}}"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.downloadList"></span></a></div><div class="under-list-option first-option" ng-hide="!optionsAvailable"><a ng-click="importTemplates()"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="db.payments.templates.list.options.importList"></span></a></div></eb-options-under-list></div><eb-preloader visible class="eb-preloader-default"></eb-preloader></div>'),
a.put("templates/dbnext-payments/0.0.12/views/paymentsView.html",'<eb-full-screen-widget miniapp-name="payments"><div class="payments"><div><div><eb-screen-content><div ui-view autoscroll="true"></div></eb-screen-content></div></div></div></eb-full-screen-widget>')}]);