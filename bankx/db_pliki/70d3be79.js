var dbnextLayoutModule=angular.module("dbnext-layout",["platform"]).config(["layoutServiceProvider","guiProvider",function(a,b){a.registerLayout(webComponentRegistry["dbnext-layout"]),webComponentRegistry["dbnext-layout"].simpleName="layout",b.registerElement("dbnext-layout","header")}]).run(function(){});dbnextLayoutModule.controller("dbnext.layout.MainController",["$scope","$rootScope","pathService","layoutService",function(a,b,c,d){a.isStateActive=b.isStateActive,a.leftMenu=d.leftMenuOptions,a.rightMenu=d.rightMenuOptions,a.closeDrawers=function(){a.leftMenu.opened=!1,a.rightMenu.opened=!1},a.toggleLeftMenu=function(){a.leftMenu.opened?a.leftMenu.opened=!1:(a.leftMenu.opened=!0,a.rightMenu.opened=!1)},a.toggleRightMenu=function(){a.rightMenu.opened?a.rightMenu.opened=!1:(a.rightMenu.opened=!0,a.leftMenu.opened=!1)}}]),dbnextLayoutModule.directive("dbLayMenu",["pathService","userService",function(a,b){return{restrict:"EA",replace:!0,scope:{externalData:"=?"},templateUrl:a.generateTemplatePath("dbnext-layout")+"/directives/dbLayMenu/dbLayMenu.html",controller:["$scope",function(a){a.correctLogonDate=!0,a.waitForData=!1,angular.isDefined(a.externalData)&&(a.waitForData=a.externalData),b.getUserDetails().then(function(b){a.userDetails=b,a.lastCorrectLogonDate=a.userDetails.lastCorrectLogonDate,a.lastIncorrectLogonDate=a.userDetails.lastIncorrectLogonDate}),a.closeMenu=function(){a.$parent.leftMenu.opened=!1},a.$on("externalDataReady",function(b,c){a.userDetails.firstName=c.firstName,a.userDetails.lastName=c.lastName,a.waitForData=!1})}]}}]),dbnextLayoutModule.controller("dbnext.layout.IconController",["$scope","viewStateService","logoutService",function(a,b,c){a.logout=function(){b.resetAllStates(),c.logout()}}]),angular.module("dbnext-layout").run(["$templateCache",function(a){a.put("templates/dbnext-layout/0.0.16/directives/dbLayMenu/dbLayMenu.html",'<div class="eb-left-menu"><ul class="item-list"><div eb-gui-section="menu" class="menu-section" ng-click="closeMenu()"></div></ul><div class="login-info"><div class="logged-as-name"><span ng-bind="(userDetails.firstName + \' \' + userDetails.lastName)"></span></div><div class="last-login-date"><div><span eb-msg="db.layout.left_menu.last_logon_correct"></span>:</div><span ng-if="lastCorrectLogonDate" ng-bind="(lastCorrectLogonDate | longDateFilter)"></span> <span ng-if="!lastCorrectLogonDate">—</span></div><div class="last-login-date"><div><span eb-msg="db.layout.left_menu.last_logon_incorrect"></span>:</div><span ng-if="lastIncorrectLogonDate" ng-bind="(lastIncorrectLogonDate | longDateFilter)"></span> <span ng-if="!lastIncorrectLogonDate">—</span></div></div></div>'),a.put("templates/dbnext-layout/0.0.16/elements/header/layout-headerElementView.html",'<span ng-controller="dbnext.layout.IconController"><eb-button ng-click="logout()" class="logout-container"><i eb-themable class="eb-icon eb-ico-menu-logout"></i> <span class="header-item-title" eb-msg="db.layout.left_menu.logout"></span></eb-button></span>'),a.put("templates/dbnext-layout/0.0.16/layouts/layout.html",'<div class="dbnext-layout" ng-controller="dbnext.layout.MainController" ng-class="{\'desktop-view\': isStateActive(\'dashboard\')}"><eb-view-drawer><eb-drawer-view eb-side="left" eb-is-open="leftMenu.opened" eb-hide-when-closed="true" ng-if="leftMenu.enabled"><db-lay-menu></db-lay-menu></eb-drawer-view><eb-drawer-view eb-side="center" eb-is-open="!leftMenu.opened"><div class="db-aut-header-wrapper" eb-header-show-hide="{{ !leftMenu.opened }}"><div class="db-aut-header-content"><div class="left-menu-trigger" ng-if="leftMenu.enabled"><eb-button class="eb-icon eb-ico-menu" ng-class="{ \'eb-menu-btn-active\' : leftMenu.opened }" ng-click="toggleLeftMenu()"></eb-button></div><div class="db-logo" ui-sref="de.dashboard" ng-click="closeDrawers()"><span class="db-logo-top">Deutsche Bank</span> <span class="db-logo-bottom">db easyNET</span></div><div style="float:right; display: inline-block; height: 45px; margin-top: 11px"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="height:35px;width:35px"><g id="Logo_DB"><path fill-rule="evenodd" clip-rule="evenodd" fill="#0018A8" d="M7.7,26.6L21,8.4h6.3L14,26.6H7.7z M0,0h35v35H0V0z M4.9,4.9v25.2 h25.2V4.9H4.9z"></g></svg></div><div eb-gui-section="header"></div><eb-clock></eb-clock></div></div><div style="position: relative" id="main"><eb-drawer-view ng-click="closeDrawers()" eb-side="center" eb-is-open="!rightMenu.opened"><div ui-view autoscroll="true" class="animate-on am-fade-and-scale drawer-content"></div></eb-drawer-view></div></eb-drawer-view></eb-view-drawer></div>')}]);