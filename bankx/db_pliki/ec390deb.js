;var dbnextDepositsModule=angular.module("dbnext-deposits",["ebanking-shared"]).config(["translationsLoaderProvider","$urlRouterProvider","guiProvider","pathServiceProvider","stateServiceProvider","resourceViewServiceProvider",function(a,b,c,d,e,f){var g="de",h="dbnext",i="deposits",j=h+"."+i,k=h+"-"+i,l=g+"."+i;webComponentRegistry[k].simpleName=i,webComponentRegistry[k].startState=l+".content",c.registerElement(k),c.registerElement(k,"product"),c.registerElement(k,"menu");var m={resourceType:"deposit",linkTextKey:"db.deposits.external_link.details",linkEntryState:l+".details"};f.registerResourceView(m),a.addTranslationsPath(d.generateRootPath(k)+"/i18n/messages_{{language}}.json"),e.state(g,{url:"/"+g,"abstract":!0,template:"<div ui-view></div>"}).state(l,{url:"/"+i,"abstract":!0,templateUrl:d.generateTemplatePath(k)+"/views/depositsView.html",controller:j+".ViewController"}).state(l+".content",{url:"/content",templateUrl:d.generateTemplatePath(k)+"/views/depositsContent.html",controller:j+".ContentController"}).state(l+".details",{url:"/:id/details",templateUrl:d.generateTemplatePath(k)+"/views/depositsDetails.html",controller:j+".DetailsController"}).state(l+".new",{url:"/new",templateUrl:d.generateTemplatePath(k)+"/views/depositsNew.html","abstract":!0}).state(l+".new.step1",{url:"/form",templateUrl:d.generateTemplatePath(k)+"/views/depositsNewStep1.html",controller:j+".NewStep1Controller"}).state(l+".new.step2",{url:"/:depositDispositionId/accept",templateUrl:d.generateTemplatePath(k)+"/views/depositsNewStep2.html",controller:j+".NewStep2Controller",previous:[l+".new.step1"]}).state(l+".terminate",{url:"/terminate",templateUrl:d.generateTemplatePath(k)+"/views/depositsTerminate.html","abstract":!0}).state(l+".terminate.step1",{url:"/form",templateUrl:d.generateTemplatePath(k)+"/views/depositsTerminateStep1.html",controller:j+".TerminateStep1Controller",previous:[l+".content",l+".details",l+".terminate.step2"]}).state(l+".terminate.step2",{url:"/:depositDispositionId/accept",templateUrl:d.generateTemplatePath(k)+"/views/depositsTerminateStep2.html",controller:j+".TerminateStep2Controller",previous:[l+".terminate.step1"]}).state(l+".transactions",{url:"/transactions","abstract":!0,template:"<div ui-view></div>",previous:[l+".content"]}).state(l+".transactions.list",{url:"/:id/list",templateUrl:d.generateTemplatePath(k)+"/views/depositsTransactionList.html",controller:j+".TransactionsController"}).state(l+".transactions.details",{url:"/:id/details",controller:j+".TransactionDetailsController",templateUrl:d.generateTemplatePath(k)+"/views/depositsTransactionDetails.html"})}]).run(["$rootScope","$state",function(a,b){a.$on("$stateChangeStart",function(a,c,d,e,f){var g=e.name,h=c.name;""!=g&&angular.isDefined(c.previous)&&-1==c.previous.indexOf(g)&&(a.preventDefault(),-1!=h.indexOf(webComponentRegistry["dbnext-deposits"].simpleName)&&b.go(webComponentRegistry["dbnext-deposits"].startState))})}]);dbnextDepositsModule.controller("dbnext.deposits.ContentController",["$scope","$filter","$log","depositsService","searchWrapperService","viewStateService","translate",function(a,b,c,d,e,f,g){a.depositsList=null,a.filterOptions={depositName:""},f.resetAllStates();var h=function(){if(null!=a.depositsList){a.depositsList.summary=[];for(var c=b("filter")(a.depositsList.content,{wrappedText:a.filterOptions.depositName}),d={},e=0,f=c.length-1;f>=0;f--){var g=c[f];if(void 0!=d[g.currency]){var h=d[g.currency];a.depositsList.summary[h].depositBalance+=g.depositBalance}else{d[g.currency]=e,e++;var i={};i.depositBalance=g.depositBalance,i.currency=g.currency,a.depositsList.summary.push(i)}}}},i=function(){a.depositsList.content=a.depositsList.content.map(function(a){return angular.extend(a,e.wrapDepositsFields(a))})};a.depositsListPromise=d.search({pageSize:1e4}).then(function(b){a.depositsList=b,i(),h()},function(b){c.error("Error getting deposit list"),a.depositsList=[]}),a.$watch("filterOptions.depositName",function(a,b){""==a&&""==b||(i(),h())}),a.urlOption1=g.property("db.deposits.content.list.underlist_option_1.url")}]),dbnextDepositsModule.controller("dbnext.deposits.DetailsController",["$scope","$filter","$state","depositsService","viewStateService","domService",function(a,b,c,d,e,f){var g=e.getInitialState(c.current.name);if(angular.isDefined(g)&&null!=g&&null!=g.depositId)a.details=g;else{if(null==g.id)return void c.go("de.deposits.content");d.get(g.id).then(function(b){a.details=b})}a.setCaretPosition=f.setCaretPosition}]),dbnextDepositsModule.controller("dbnext.deposits.NewStep1Controller",["$scope","$rootScope","$timeout","$log","$filter","toaster","$state","$stateParams","depositsService","initialState","viewStateService",function(a,b,c,d,e,f,g,h,i,j,k){a.depositForm={},null!=k.getInitialState(g.current.name)&&(a.depositForm=k.getFormData("depositForm"),a.depositForm.exchange=!1,k.resetInitialState(g.current.name)),a.selectDeposit=function(b){null!=b?(a.depositForm.selectedDeposit=b,a.depositForm.formModel.currency=a.depositForm.selectedDeposit.currency,a.depositForm.formModel.period=a.depositForm.selectedDeposit.period||1,a.depositAddForm&&a.depositForm.formModel.amount>=a.depositForm.selectedDeposit.amountMin&&(a.depositAddForm.amount.$setPristine(),a.depositAddForm.amount.$setValidity("deposit.amount.validate.opening.amount.of.deposits.less.than.minimum",!0))):(a.depositForm.selectedDeposit=void 0,a.depositForm.formModel.period=void 0,a.depositForm.formModel.currency=void 0)},a.$watch("depositForm.selectedAccount",function(b,c){b&&b.accessibleAssets>=a.depositForm.formModel.amount&&(a.depositAddForm.amount.$setPristine(),a.depositAddForm.amount.$setValidity("deposit.amount.error.exceeds.available.funds.for.agreement",!0))}),a.$watch("depositForm.formModel.depositTypeId",function(b,c){angular.isDefined(a.depositForm.selectedDeposit)&&a.depositForm.formModel.currency==a.depositForm.selectedDeposit.currency&&(a.depositForm.exchange=!1)});var l=function(a){for(var b in a)b&&angular.isDefined(a[b])&&angular.isDefined(a[b].$setDirty)&&a[b].$setDirty();a.$setDirty()};a.submit=function(b){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),console.log(b),b.$valid?(k.setInitialState(g.current.name,{}),k.appendFormData("depositForm",a.depositForm),i.action(a.depositForm.formModel,"create_deposit").then(function(b){b&&(k.setInitialState("de.deposits.new.step2",a.depositForm),g.go("de.deposits.new.step2",{depositDispositionId:b.content}))})):void l(b)}}]),dbnextDepositsModule.controller("dbnext.deposits.NewStep2Controller",["$scope","initialState","viewStateService","$modal","$state","$stateParams","dbDepNotificationService","staticFind","accountsService","depositsService",function(a,b,c,d,e,f,g,h,i,j){a.depositPromise=j.getOrder(f.depositDispositionId).then(function(b){a.depositDetails=b,a.auth={},a.text={auth_method:"db.deposits.new.step2.row.auth.label.",no_auth_required:"db.deposits.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.deposits.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.deposits.new.step2.row.auth.sms.validate.required",token_validate_required:"db.deposits.new.step2.row.auth.token.validate.required",error_code_validate:"db.config.auth.error_code.validate"},"INTRODUCED"!=a.depositDetails.status&&e.go("de.deposits.content")}),null!=c.getInitialState(e.current.name)&&(a.depositForm=c.getInitialState(e.current.name)),a.params={fields:"id,status,reason"},a.accept=function(){return j.action({depositDispositionId:a.depositDetails.id,authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials},"accept_create_deposit",a.depositDetails).then(function(b){return j.getOrder(f.depositDispositionId,a.params).then(function(a){c.resetInitialState("de.deposits.new.step1"),e.go("de.deposits.content"),g.showDepositsAcceptedDialog(a)})})},a.change=function(b){return j.action({depositDispositionId:a.depositDetails.id},"cancel_deposit",a.depositDetails).then(function(a){e.go("de.deposits.new.step1")})}}]),dbnextDepositsModule.controller("dbnext.deposits.TerminateStep1Controller",["$scope","$rootScope","$timeout","$log","$filter","toaster","$state","$stateParams","depositsService","viewStateService","formService",function(a,b,c,d,e,f,g,h,i,j,k){a.depositForm={},null!=j.getInitialState(g.current.name)?(a.deposit=j.getInitialState(g.current.name),a.deposit.exchange=!1,a.depositForm.depositId=a.deposit.depositId,j.getFormData("depositForm")&&(a.depositForm=j.getFormData("depositForm"))):g.go("de.deposits.content"),a.submit=function(b){return console.log(b),angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid?(j.setInitialState(g.current.name,{}),j.appendFormData("depositForm",a.depositForm),a.depositForm.selectedAccount.currency==a.deposit.currency&&(a.deposit.exchange=!1),i.action(a.depositForm,"break_deposit",a.deposit).then(function(b){j.setInitialState("de.deposits.terminate.step2",a.deposit),g.go("de.deposits.terminate.step2",{depositDispositionId:b.content})},function(a){null!=a&&null!=a.errors&&k.dirtyFields(b)})):void k.dirtyFields(b)}}]),dbnextDepositsModule.controller("dbnext.deposits.TerminateStep2Controller",["$scope","initialState","viewStateService","$modal","$state","$stateParams","dbDepNotificationService","depositsService",function(a,b,c,d,e,f,g,h){null!=b?a.deposit=b:e.go("de.deposits.content"),a.depositPromise=h.getBreakOrder(f.depositDispositionId).then(function(b){a.depositDetails=b,"INTRODUCED"!=a.depositDetails.status&&e.go("de.deposits.content")}),a.params={fields:"id,status,reason"},a.accept=function(){return h.action({depositDispositionId:f.depositDispositionId},"accept_break_deposit",a.depositDetails).then(function(b){return h.getBreakOrder(f.depositDispositionId,a.params).then(function(a){c.resetInitialState("de.deposits.terminate.step1"),e.go("de.deposits.content"),g.showDepositsAcceptedTerminatedDialog(a)})})},a.change=function(b){return h.action({depositDispositionId:f.depositDispositionId},"cancel_break_deposit",a.depositDetails).then(function(b){e.go("de.deposits.terminate.step1",{currentObject:a.deposits})})}}]),dbnextDepositsModule.controller("dbnext.deposits.TransactionDetailsController",["$scope","$log","initialState","viewStateService","$stateParams","pathService","transactionService","$state",function(a,b,c,d,e,f,g,h){a.pathPrefix=f.generateTemplatePath("dbnext-accounts"),angular.isDefined(c)&&null!=c&&angular.isDefined(c.id)?a.accountDetailsPromise=g.get(c.id).then(function(b){a.details=b},function(c){b.error("Error getting account transaction details"),a.details=null}):h.go("de.accounts.content")}]),dbnextDepositsModule.controller("dbnext.deposits.TransactionsController",["initialState","$stateParams","viewStateService","$rootScope","language","accountsService","$scope","translate","$state","transactionService","transactionFilterCriteria","pathService","$filter","formService","$timeout","$log","userService","gate","httpService","domService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(g.showFilter=!1,g.showClearFilter=!1,g.exportParams={},!angular.isDefined(a))return void i.go("de.deposits.content");g.deposit=a,angular.isDefined(c.getInitialState(i.current.name))&&(g.filterParams=c.getFormData("transactionFilterParams"));var u=function(a){if("last"==a.periodDefinitionType&&"days"==a.periodUnitType){var b=new Date;return b.setDate(b.getDate()-a.periodCount),b}return a.dateFrom},v=function(a){return"last"==a.periodDefinitionType&&"days"==a.periodUnitType?m("dateParam")((new Date).setDate((new Date).getDate()+30)):a.dateTo};if(angular.isDefined(g.deposit)&&null==g.filterParams&&(g.filterParams=k.getTransactionFilterInitValues(g.deposit.lastTransactionBookingDate,!0)),g.transactionService=j,g.showFilterWindow=function(){g.showFilter=!g.showFilter},g.clearFilter=function(){g.filterParams={},g.filterParams=k.getTransactionFilterInitValues(g.deposit.lastTransactionBookingDate,!0),g.filterParams.isClearing=!0,g.showClearFilter=!1},g.submit=function(a,b,d){if(angular.isDefined(a)){g.loading=!0;var e={accountId:g.deposit.depositId,dateTo:v(b),operationType:b.operationType,operationAmountFrom:b.operationAmountFrom,operationAmountTo:b.operationAmountTo,operationTitle:b.operationTitle};return angular.extend(e,b),e.dateFrom=u(b),e.dateTo=v(b),g.depositHistoryPromise=j.relationSearch(a,e,d).then(function(a){z(a,e),A(a),g.depositHistoryList=a,g.loading=!1,g.filterParams.pageNumber=a.pageNumber,g.filterParams.pageSize=a.pageSize,c.appendFormData("transactionFilterParams",g.filterParams),n.scrollTo("depositTransactionListId")},function(a){p.error("Error getting deposit history list"),g.depositHistoryList=[]}),g.depositHistoryPromise}},angular.isDefined(a)){var w=angular.extend({accountId:g.deposit.depositId},g.filterParams);w.dateTo=v(g.filterParams)}g.depositHistoryPromise=j.search(w).then(function(a){z(a,w),A(a),g.depositHistoryList=a,g.loading=!1,g.filterParams.pageNumber=a.pageNumber,g.filterParams.pageSize=a.pageSize,c.appendFormData("transactionFilterParams",g.filterParams)},function(a){p.error("Error getting account history list"),g.depositHistoryList=[]});var x=function(a){for(var b=angular.copy(a),c=0;c<a.length;c++)a[c]instanceof Date&&(b[c]=m("date")(a[c],"yyyy-MM-dd"));return b},y=k.getTransactionFilterInitValues(g.deposit.lastTransactionBookingDate,!0);y=[y.dateFrom,y.dateTo,y.operationType,y.periodCount,y.periodDefinitionType,y.periodUnitType,y.operationTitle,y.operationAmountFrom,y.operationAmountTo],g.$watchGroup(["filterParams.dateFrom","filterParams.dateTo","filterParams.operationType","filterParams.periodCount","filterParams.periodDefinitionType","filterParams.periodUnitType","filterParams.operationTitle","filterParams.operationAmountFrom","filterParams.operationAmountTo"],function(a,b){g.filterParams.isClearing=!1,JSON.stringify(x(a))===JSON.stringify(y)?g.showClearFilter=!1:g.showClearFilter=!0},!0);var z=function(a,b){var c={accountId:b.accountId,dateFrom:m("date")(b.dateFrom,"yyyy-MM-dd"),dateTo:m("date")(b.dateTo,"yyyy-MM-dd"),formatType:"pdf",language:e.get(),operationType:b.operationType,operationAmountFrom:b.operationAmountFrom,operationAmountTo:b.operationAmountTo,operationTitle:b.operationTitle};g.exportParams=c,r.getHref("download_transaction_list_report",a).then(function(b){q.getIdentityDetails().then(function(d){a.link=s.appContext+b+s.serializeParams(angular.extend({customerId:d.id,accessProfileId:d.accessProfileId},c),!0),a.target=t.isIE()?"":"_blank"})})},A=function(a){angular.forEach(a.content,function(a){var b={resourceId:a.resourceId,formatType:"pdf",language:e.get()};r.getHref("download_transaction_report",a).then(function(c){q.getIdentityDetails().then(function(d){a.link=s.appContext+c+s.serializeParams(angular.extend({customerId:d.id,accessProfileId:d.accessProfileId},b),!0),a.target=t.isIE()?"":"_blank"})})})}}]),dbnextDepositsModule.controller("dbnext.deposits.ViewController",["$scope",function(a){a.selected={}}]),dbnextDepositsModule.directive("dbDepDispositionAfterSelect",["pathService","dispositionWayDictionary",function(a,b){return{restrict:"EA",replace:!0,require:"ngModel",scope:{placeholder:"@",depositType:"="},templateUrl:a.generateTemplatePath("dbnext-deposits")+"/directives/dbDepDispositionAfterSelect/dbDepDispositionAfterSelect.html",link:function(a,c,d,e){a.dispositionList=b,a.$watch("depositType",function(c,d){if(c!=d)switch(e.$setViewValue(null),e.$setPristine(),e.$setUntouched(),e.$setValidity("required",!0),c){case"NO_RENEWAL":a.dispositionList=[],a.dispositionList.push(b[2]);break;case"RENEWAL_WITH_INTEREST":a.dispositionList=[],a.dispositionList.push(b[2]),a.dispositionList.push(b[0]);break;case"RENEWAL_NO_INTEREST":a.dispositionList=[],a.dispositionList.push(b[2]),a.dispositionList.push(b[1]);break;default:a.dispositionList=b}}),a.selectDeposit=function(a,b){}}}}]),dbnextDepositsModule.directive("dbDepOfferSelect",["pathService","depositsService",function(a,b){return{restrict:"EA",replace:!0,require:"ngModel",scope:{placeholder:"@",ebSelect:"&?",accountId:"=?"},templateUrl:a.generateTemplatePath("dbnext-deposits")+"/directives/dbDepOfferSelect/dbDepOfferSelect.html",link:function(a,c,d,e){a.depositsList=[],a.$watch("accountId",function(c,d){if(c){var f={fields:"depositTypeId,depositName,period,interest,currency,depositPeriodType,amountMin,interestRateType,renewalOptionType",pageSize:9999,openingAccountId:a.accountId};a.depositOfferPromise=b.searchOffers(f).then(function(b){a.depositsList=b.content;var c=a.getDepositFromListById(e.$modelValue);c?a.ebSelect({item:c}):(e.$setViewValue(""),e.$setPristine(),e.$setUntouched(),a.ebSelect({item:null}))})}}),a.$watch("depositsOffer",function(b){a.depositsList=b}),a.selectDeposit=function(b,c){a.ebSelect({item:b})},a.getDepositFromListById=function(b){if(angular.isDefined(b))for(var c=0;c<a.depositsList.length;c++)if(b==a.depositsList[c].depositTypeId)return a.depositsList[c];return null}}}}]),dbnextDepositsModule.directive("dbDepTransactionFilter",["$compile","ebTheming","accountTransactionType","commonService","$rootScope","$timeout","$log","$http","$templateCache","pathService","accountsService","$state","$filter","$window","formService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){return{restrict:"EA",replace:!0,transclude:!0,scope:{ngModel:"=",context:"=",callback:"&"},templateUrl:j.generateTemplatePath("dbnext-deposits")+"/directives/dbDepTransactionFilter/dbDepTransactionFilter.html",link:function(a,d,e){b.applyTheme(d),a.transactionTypeCriteria=c.getTransactionTypes(),a.submitFilter=function(b){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),b.$valid?(o.scrollTo("accountTransactionListId"),a.ngModel.pageNumber=1,angular.isUndefined(a.ngModel.operationAmountTo)&&(a.ngModel.operationAmountTo=b.amountTo.$modelValue),angular.isUndefined(a.ngModel.operationAmountFrom)&&(a.ngModel.operationAmountFrom=b.amountFrom.$modelValue),isNaN(a.ngModel.operationAmountTo)&&(a.ngModel.operationAmountTo=void 0),isNaN(a.ngModel.operationAmountFrom)&&(a.ngModel.operationAmountFrom=void 0),a.callback({ctx:a.context,params:a.ngModel})):void 0},a.formatAmount=function(a){}}}}]),dbnextDepositsModule.controller("dbnext.deposits.MenuElementController",["$scope","$rootScope",function(a,b){a.isStateActive=b.isStateActive}]),dbnextDepositsModule.controller("dbnext.deposits.ProductElementController",["$scope","depositsService","$log","events","$q","translate","viewStateService","$state",function(a,b,c,d,e,f,g,h){var i={sortOrder:"MATURITY_DATE",pageNumber:1,pageSize:1};a.chartReady=!1,a.goTo=function(b){g.setInitialState("de.deposits.details",a.depositProduct),h.go("de.deposits.details")},a.depositProductPromise=b.search(i).then(function(b){if(a.depositProduct=b.content[0],void 0==a.depositProduct)d.emit("de.product.noData","deposits",a);else{switch(a.depositProduct.depositPeriodType){case"DAY":var c=864e5;a.periodLeft=Math.floor((a.depositProduct.maturityDate-new Date)/c);break;case"MONTH":var e=2592e6;a.periodLeft=Math.floor((a.depositProduct.maturityDate-new Date)/e)}a.periodLeft<0&&(a.periodLeft=0),a.periodText=a.depositProduct.period+f.property("db.deposits.product.chart.label.period."+a.depositProduct.depositPeriodType),a.chartReady=!0}},function(a){return c.error("Error getting deposit product"),e.reject()})}]),dbnextDepositsModule.controller("dbnext.deposits.WidgetElementController",["$scope","pathService","depositsService",function(a,b,c){a.params={pageNumber:1,pageSize:5},a.depositsPromise=c.search().then(function(b){a.depositList=b,a.$broadcast("dataLoaded")}),a.widgetContent=b.generateTemplatePath("dbnext-deposits")+"/elements/widget/deposits-widgetElementViewContent.html",a.submit=function(a,b,d){return angular.isDefined(a)?c.relationSearch(a,b,d).then(function(a){return a}):void 0}}]),dbnextDepositsModule.service("dbDepNotificationService",["$modal","$state","translate",function(a,b,c){return{showDepositsAcceptedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="{{icoClass}}" eb-title="{{::\'db.deposits.new.notification.title\'|translate}}" eb-message="{{::confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){var f="eb-icon-confirm-success success",g="";switch(d.status){case"REJECTED":f="eb-icon-confirm-error error",g=c.property("db.deposits.new.notification.rejected")+d.reason;break;case"REALIZED":f="eb-icon-confirm-success success",g=c.property("db.deposits.new.notification.realized");break;case"INTRODUCED":f="eb-icon-confirm-success success",g=c.property("db.deposits.new.notification.introduced");break;default:f="eb-icon-confirm-success success",g=c.property("db.deposits.notification.default")}angular.extend(a,{cancel:function(){e.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property("db.deposits.new.notification.new"),make:function(){e.dismiss(),b.go("de.deposits.new.step1",{currentObject:null})}},{type:"full-text",name:c.property("db.deposits.notification.back"),make:function(){e.dismiss(),b.go("de.dashboard")}}],icoClass:f,confirmationText:g})}]})},showDepositsAcceptedTerminatedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="{{icoClass}}" eb-title="{{::\'db.deposits.new.notification.title\'|translate}}" eb-message="{{::confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){var f="eb-icon-confirm-success success",g="";switch(d.status){case"REJECTED":f="eb-icon-confirm-error error",g=c.property("db.deposits.terminate.notification.rejected")+d.reason;break;case"REALIZED":f="eb-icon-confirm-success success",g=c.property("db.deposits.terminate.notification.realized");break;case"WAITING":f="eb-icon-confirm-success success",g=c.property("db.deposits.terminate.notification.default");break;default:f="eb-icon-confirm-success success",g=c.property("db.deposits.terminate.notification.default")}angular.extend(a,{cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property("db.deposits.notification.back"),make:function(){e.dismiss(),b.go("de.dashboard")}}],icoClass:f,confirmationText:g})}]})}}}]),angular.module("dbnext-deposits").run(["$templateCache",function(a){a.put("templates/dbnext-deposits/0.0.12/directives/dbDepDispositionAfterSelect/dbDepDispositionAfterSelect.html",'<div><ui-select class="eb-sender-select" eb-themable search-enabled="false" theme="select2" ng-disabled="disabled" on-select="selectDeposit($item, $model)"><ui-select-match placeholder="{{::placeholder|translate}}">{{$select.selected.label | translate}}</ui-select-match><ui-select-choices class="block-choices" repeat="disposition.key as disposition in dispositionList"><div>{{disposition.label | translate}}</div></ui-select-choices></ui-select></div>'),a.put("templates/dbnext-deposits/0.0.12/directives/dbDepOfferSelect/dbDepOfferSelect.html",'<div><ui-select class="eb-sender-select" eb-themable search-enabled="false" theme="select2" on-select="selectDeposit($item, $model)" ng-disabled="depositsList.length == 0"><ui-select-match placeholder="{{(depositOfferPromise && depositOfferPromise.$$state.status === 0) && (\'platform.component.account_select.placeholder.loading\' | translate) || (depositsList.length == 0) && (\'db.deposits.component.select.offer.empty\' | translate) || (placeholder|translate)}}">{{$select.selected.depositName}}</ui-select-match><ui-select-choices class="block-choices" repeat="deposit.depositTypeId as deposit in depositsList"><div>{{deposit.depositName}}</div><div><span eb-msg-var key="db.deposits.deposit_rate_type" variable="deposit.interestRateType"></span>|<span>{{::\'db.deposit.deposit_select.min_amount\'|translate}}&nbsp;<eb-amount amount="deposit.amountMin" currency="{{ deposit.currency}}" class="db-dep-select-amount"></eb-amount></span>|{{deposit.period || 1}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + deposit.depositPeriodType" count="deposit.period"></span></div></ui-select-choices></ui-select></div>'),a.put("templates/dbnext-deposits/0.0.12/directives/dbDepTransactionFilter/dbDepTransactionFilter.html",'<div class="db-acc-transaction-filter"><form name="transactionFilterForm" novalidate><div><div eb-themable class="list-filter"><div class="transaction-filter-container"><eb-responsive-row center label="transaction.filter.label.period" class="period-label"><div eb-themable class="date-range"><eb-date-range-select ng-model="ngModel" eb-form="transactionFilterForm"></eb-date-range-select></div></eb-responsive-row><div class="account-filter-padding-detail"><eb-responsive-row label="transaction.filter.label.transaction_name" label-for="title"><input type="text" class="title-input" placeholder="{{::\'transaction.filter.placeholder.transaction_name\'|translate}}" id="title" ng-model="ngModel.operationTitle" maxlength="35"></eb-responsive-row><eb-responsive-row label="transaction.filter.label.transaction_type"><eb-select-type placeholder-key="transaction.filter.placeholder.type" list="transactionTypeCriteria" ng-model="ngModel.operationType"></eb-select-type></eb-responsive-row><eb-responsive-row center label="transaction.filter.label.amount" label-for="amountFrom"><eb-amount-range-select eb-form="transactionFilterForm" amount-from="ngModel.operationAmountFrom" amount-to="ngModel.operationAmountTo" eb-fault-amount-msg="{{:: \'db.deposits.transactions.filter.amount_range_select.validation.amount_to_bigger_than_from\' | translate}}"></eb-amount-range-select></eb-responsive-row><eb-action-footer submit-label="transaction.filter.label.button" submit-action="submitFilter(transactionFilterForm)"></eb-action-footer></div></div></div></div></form></div>'),a.put("templates/dbnext-deposits/0.0.12/elements/menu/deposits-menuElementView.html",'<li ng-class="{\'active\': isStateActive(\'de.deposits\')}" ng-controller="dbnext.deposits.MenuElementController" ui-sref="de.deposits.content"><span eb-themable class="eb-icon eb-ico-widget-deposits"></span> <span eb-msg="deposits.title"></span></li>'),a.put("templates/dbnext-deposits/0.0.12/elements/product/deposits-productElementView.html",'<span eb-column-size-class-change-event="column-1"><div ng-controller="dbnext.deposits.ProductElementController" class="deposit-product" ng-class="{\'product-content\': !!depositProduct}" ng-click="goTo()"><div class="deposit-product-content" ng-show="depositProductPromise.$$state.status === 1 && depositProduct != undefined"><div class="deposit-product-data"><div class="deposit-product-header"><span ng-bind="(depositProduct.customerProductData.customName || depositProduct.depositName)"></span></div><div class="deposit-product-amount"><eb-amount amount="depositProduct.depositBalance" currency="{{depositProduct.currency}}"></eb-amount></div></div><div class="deposit-product-chart" ng-if="chartReady"><eb-donut-chart eb-filled="{{depositProduct.period - periodLeft}}" eb-total="{{depositProduct.period}}" eb-size="50" eb-start-angle="0" eb-text="{{periodText}}"></eb-donut-chart></div></div><eb-preloader class="deposit-product-preloader" eb-promise="depositProductPromise" eb-rejected-message="{{::\'platform.component.slide_widget.rejected_response\'|translate}}"></eb-preloader></div></span>'),a.put("templates/dbnext-deposits/0.0.12/elements/widget/deposits-widgetElementView.html",'<span ng-controller="dbnext.deposits.WidgetElementController" class="widget-main" ng-cloak><span db-lay-tile miniapp-name="dbnext-deposits" product-count="{{depositList.totalElements}}"><eb-slide-widget class="deposit-widget" content="{{widgetContent}}" items="depositList" max-indicators="10" eb-items-promise="depositsPromise" eb-update="submit(ctx, params, rel)"></eb-slide-widget><div ng-if="depositsPromise.$$state.status === 1 && depositList.content.length == 0" class="widget-content"><div class="widget-content-inner info-text"><span ng-bind="::\'db.deposits.widget.empty_list.marketing_info\'|translate"></span><br><a href="{{::\'db.deposits.widget.empty_list.link_url\'|translate}}" target="_blank" ng-click="$event.stopPropagation()"><span ng-bind="::\'db.deposits.widget.empty_list.link_name\'|translate"></span></a></div></div><div class="box-action-panel" ng-click="$event.stopPropagation()"><div class="action-button"><eb-button ui-sref="de.deposits.new.step1" class="primary icon-right eb-icon eb-ico-plus"><i eb-themable class="eb-icon eb-ico-widget-deposits deposit-widget-action-icon"></i><span eb-msg="db.deposits.dashboard.widget.button.new_deposit"></span></eb-button></div></div></span></span>'),a.put("templates/dbnext-deposits/0.0.12/elements/widget/deposits-widgetElementViewContent.html",'<div class="widget-content"><span class="widget-name" ng-bind="::(item.customerProductData.customName || item.depositName)"></span><div><eb-item-property label="db.deposits.dashboard.widget.balance" class="widget-summary value-left"><eb-amount amount="item.depositBalance" currency="{{::item.currency}}"></eb-amount></eb-item-property><eb-item-property label="db.deposits.dashboard.widget.maturity_date" class="widget-summary big-value value-right"><span ng-bind="::(item.maturityDate | amDateFormat : \'DD.MM.YYYY\' | emptyFilter)"></span></eb-item-property></div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsContent.html",'<eb-mini-bar class="eb-container-padding-off" search-text="filterOptions.depositName" eb-search-placeholder="{{::\'db.deposits.content.filter.placecholder\'|translate}}" eb-disable-more="true" add-url="de.deposits.new.step1" add-icon-name="eb-ico-widget-deposits" add-title="{{::\'db.deposits.content.button.new_deposit\'|translate}}" add-widget-name="deposits"></eb-mini-bar><eb-list eb-themable class="deposits product-list" eb-promise="depositsListPromise"><eb-list-item class="deposits-row" ng-repeat="deposit in depositsList.content | filter: {wrappedText : filterOptions.depositName}"><eb-list-item-content eb-list-item-collapse-trigger is-collapsed="deposit.isCollapsed"><div class="identification-cell" ng-class="{\'edit-mode\': deposit.visible}"><div id="editableDiv" class="productName" eb-editable-name eb-editable-model="deposit" customer-product-data="deposit.customerProductData" placeholder-text="{{deposit.depositName}}" ng-click="setCaretPosition(deposit.visible, $index); $event.stopPropagation()"></div><div class="productNo">{{deposit.accountNo | nrbIbanFilter}}</div></div><!-- no whitespace fix--><div class="actions-cell" ng-class="{\'edit-mode\': deposit.visible}"><div class="default-desktop-option"><a ui-sref="^.details" store-context="deposit" ng-click="$event.stopPropagation()"><span eb-msg="accounts.options.label.details"></span></a></div><div class="options" ng-click="$event.stopPropagation()"><div eb-list-options><li class="option-hidden-when-desktop"><a class="option-row" ui-sref="^.details" store-context="deposit"><span eb-themable class="eb-icon eb-ico-details options-icon"></span><span class="option-label" eb-msg="db.deposits.contetnt.list.options.details"></span></a></li><li><a class="option-row" ui-sref="de.deposits.transactions.list" store-context="deposit"><span eb-themable class="eb-icon eb-ico-transaction-history options-icon"></span><span class="option-label" eb-msg="db.deposits.content.list.options.transactions"></span></a></li><li ng-if="deposit._links.break_deposit"><a class="option-row" ui-sref="de.deposits.terminate.step1" store-context="deposit"><span eb-themable class="eb-icon eb-ico-close options-icon"></span><span class="option-label" eb-msg="db.deposits.contetnt.list.options.terminate"></span></a></li></div></div></div><!-- no whitespace fix--><div class="properties-group-cell"><div class="secondary-property-cell"><eb-item-property label="db.deposits.content.list.maturity_date"><span>{{deposit.maturityDate | dateFilter | emptyFilter}}</span></eb-item-property></div><!-- no whitespace to fix 2 x 50%--><div class="primary-property-cell"><eb-item-property label="db.deposits.content.list.balance"><eb-amount amount="deposit.depositBalance" currency="{{deposit.currency}}"></eb-amount></eb-item-property></div></div></eb-list-item-content><eb-collapse class="deposit-list-details" is-collapsed="deposit.isCollapsed" ng-click="$event.stopPropagation()"><div eb-list-details><div eb-list-details-item key="db.deposits.content.list.collapse.interest" class="collapse-details-item"><eb-percentage value="deposit.interest"></eb-percentage></div><div eb-list-details-item key="db.deposits.content.list.collapse.capit_date" class="collapse-details-item">{{deposit.nextCapitalizationDate | dateFilter | emptyFilter}}</div><div eb-list-details-item key="db.deposits.content.list.collapse.settlement_period_type" class="collapse-details-item">{{deposit.period}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + deposit.depositPeriodType" count="deposit.period" class="list-value-small"></span></div></div></eb-collapse></eb-list-item><div ng-show="depositsList.summary.length > 0" class="product-list-summary-item"><div class="product-list-summary-label"><span eb-msg="db.deposits.content.summary"></span></div><!-- no whitespace fix--><div class="actions-cell"><div class="default-desktop-option"><a><span eb-msg="accounts.options.label.details"></span></a></div><div class="options"><div></div></div></div><!-- no whitespace to fix 2 x 50%--><div class="product-list-summary"><div class="primary-property-cell property-summary-cell" style="float: right"><span ng-repeat="depositsSummary in depositsList.summary"><span ng-if="$index == 0"><eb-item-property label="db.deposits.content.summary.amount"><eb-amount amount="depositsSummary.depositBalance" currency="{{depositsSummary.currency}}" highlight-negative></eb-amount></eb-item-property></span> <span ng-if="$index != 0"><eb-amount amount="depositsSummary.depositBalance" currency="{{depositsSummary.currency}}" highlight-negative></eb-amount></span></span></div></div></div><div class="miniapp-empty-list" ng-if="depositsList.length == 0">{{::"db.deposits.list_data_error"|translate}}</div><div class="miniapp-empty-list" ng-if="depositsList.summary.length == 0">{{::"db.deposits.content.list.empty"|translate}}</div></eb-list><eb-options-under-list ng-show="depositsListPromise.$$state.status === 1"><div class="under-list-option first-option"><a ng-href="{{::urlOption1}}" target="_blank"><span class="option-label" eb-msg="db.deposits.content.list.underlist_option_1"></span></a></div></eb-options-under-list>'),
a.put("templates/dbnext-deposits/0.0.12/views/depositsDetails.html",'<div eb-themable><div><eb-section-header eb-header="db.deposits.details.header" eb-description="{{::details.customerProductData.customName || details.depositName}}" back-state="de.deposits.content"></eb-section-header><div class="details-body" ng-if="details != null"><eb-responsive-row label="db.deposits.details.account_no">{{details.accountNo | nrbIbanFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.deposits.details.account_currency">{{details.currency | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.deposits.details.opening_account_no">{{details.openingAccountNo | nrbIbanFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row top label="db.deposits.details.deposit_type">{{details.depositName | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.deposits.details.custom_name"><div id="editableDiv" class="creditName" eb-editable-name customer-product-data="details.customerProductData" eb-editable-model="details" placeholder-text="{{ details.depositName}}" ng-click="setCaretPosition(details.visible)"></div></eb-responsive-row><eb-responsive-row label="db.deposits.details.balance"><eb-amount amount="details.depositBalance" currency="{{ details.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.deposits.details.interest"><eb-percentage value="details.interest"></eb-percentage></eb-responsive-row><eb-responsive-row label="db.deposits.details.interest_type"><span eb-msg-var key="db.deposits.deposit_rate_type" variable="details.interestRateType"></span></eb-responsive-row><eb-responsive-row label="db.deposits.details.start_date">{{details.openDate | dateFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.deposits.details.capit_date">{{details.nextCapitalizationDate | dateFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.deposits.details.maturity_date">{{details.maturityDate | dateFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row label="db.deposits.details.dep_period">{{details.period}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + details.depositPeriodType" count="details.period"></span></eb-responsive-row><eb-responsive-row top label="db.deposits.details.ordering_type"><span eb-msg-var key="db.deposits.details.deposit_distribution_type" variable="details.renewalOptionType"></span><!-- no whitespace fix\n             --><span ng-if="details.renewalOptionType == \'RENEWAL_NO_INTEREST\'">,&nbsp;{{::\'db.deposit.details.renevel_no_interest_disposition\'|translate}}:&nbsp;{{details.openingAccountNo | nrbIbanFilter | emptyFilter}}</span><!-- no whitespace fix\n             --><span ng-if="details.renewalOptionType == \'NO_RENEWAL\'">&nbsp;{{details.openingAccountNo | nrbIbanFilter | emptyFilter}}</span></eb-responsive-row><div ng-if="details.isSurcharge"><eb-responsive-row label="db.deposits.details.last_amount"><eb-amount amount="details.lastSurchargeAmount" currency="{{ details.currency }}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.deposits.details.next_amount"><eb-amount amount="details.nextSurchargeAmount" currency="{{ details.currency }}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.deposits.details.next_date">{{details.nextSurchargeDate | dateFilter | emptyFilter}}</eb-responsive-row></div></div></div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsNew.html",'<div class="inner-payment-form center-app-header"><eb-content-navigation></eb-content-navigation><div><div id="form-views" ui-view autoscroll="true"></div></div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsNewStep1.html",'<form name="depositAddForm" novalidate><div><div class="inner-form-padding center-form"><div eb-themable><eb-section-header eb-header="db.deposits.new.step1.header" back-state="de.deposits.content"></eb-section-header><div class="form-body"><div eb-responsive-row label="db.deposits.new.step1.from_account"><eb-account-select name="openingAccountId" ng-model="depositForm.formModel.openingAccountId" ng-required="true" placeholder="{{::\'db.deposits.new.step1.select.account\'|translate}}" account="depositForm.selectedAccount"></eb-account-select><eb-validation-messages eb-name="openingAccountId"><div eb-message-key="required"><span eb-msg="db.deposits.new.step1.validation.account"></span></div><div eb-message-key="deposit_order.openingAccountId.NotNull"><span eb-msg="db.deposits.new.step1.validation.account"></span></div><div eb-message-key="deposit.openingAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.deposits.new.step1.account_select.validate.passive_access"></span></div></eb-validation-messages></div><div eb-responsive-row label="db.deposits.new.step1.deposit_type"><db-dep-offer-select name="depositTypeId" ng-model="depositForm.formModel.depositTypeId" ng-required="true" placeholder="{{::\'db.deposits.new.step1.select.select_deposit\'|translate}}" eb-select="selectDeposit(item)" account-id="depositForm.formModel.openingAccountId" ebdeposit-offer-id="depositForm.formModel.depositTypeId"></db-dep-offer-select><eb-validation-messages eb-name="depositTypeId"><div eb-message-key="required"><span eb-msg="db.deposits.new.step1.validation.select_deposit"></span></div><div eb-message-key="deposit_order.depositTypeId.NotNull"><span eb-msg="db.deposits.new.step1.validation.select_deposit"></span></div></eb-validation-messages></div><div collapse="depositForm.selectedDeposit == null"><div eb-responsive-row top label="db.deposits.new.step1.selected_period"><div ng-show="depositForm.formModel.period != null && depositForm.selectedDeposit.depositPeriodType != null" class="details-smaller-value">{{depositForm.formModel.period}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + depositForm.selectedDeposit.depositPeriodType" count="depositForm.formModel.period"></span></div></div></div><div eb-responsive-row label="db.deposits.new.step1.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{depositForm.selectedDeposit.currency}}" ng-model="depositForm.formModel.amount" eb-required="true" eb-min-amount="depositForm.selectedDeposit.amountMin" eb-missing-amount-msg="{{::\'db.deposits.new.step1.amount.empty\'|translate}}" eb-form="depositAddForm" eb-min-amount-msg="{{::\'db.deposits.new.step1.amount.less_than_minimum\'|translate}}"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="deposit.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.deposits.new.step1.row.amount.validate.exceeds_available_funds"></span></div><div eb-message-key="deposit.amount.validate.opening.amount.of.deposits.less.than.minimum"><span eb-msg="db.deposits.new.step1.amount.less_than_minimum"></span></div><div eb-message-key="deposit_order.amount.DecimalMin"><span eb-msg="db.deposits.new.step1.amount.invalid"></span></div><div eb-message-key="deposit_order.amount.NotNull"><span eb-msg="db.deposits.new.step1.amount.empty"></span></div></div></div><div collapse="!(depositForm.selectedAccount.currency && depositForm.selectedDeposit.currency && depositForm.selectedAccount.currency != depositForm.selectedDeposit.currency)" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="depositForm.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="depositForm.selectedAccount.currency != depositForm.selectedDeposit.currency" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="depositForm.exchange=!depositForm.exchange" eb-msg="db.deposits.new.step1.row.exchange_info" prevent-orphans ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.deposits.new.step1.row.exchange.validate.required"></span></div></div></div></div><div eb-responsive-row center label="db.deposits.new.step1.disposition_after"><db-dep-disposition-after-select name="renewalOptionType" ng-model="depositForm.formModel.renewalOptionType" ng-required="true" placeholder="{{::\'db.deposits.new.step1.select.select_disposition\'|translate}}" deposit-type="depositForm.selectedDeposit.renewalOptionType"></db-dep-disposition-after-select><eb-validation-messages eb-name="renewalOptionType"><div eb-message-key="required"><span eb-msg="db.deposits.new.step1.validation.select_disposition"></span></div><div eb-message-key="deposit_order.renewalOptionType.NotNull"><span eb-msg="db.deposits.new.step1.validation.select_disposition"></span></div></eb-validation-messages></div><eb-action-footer submit-label="db.deposits.new.step1.submit" submit-icon="eb-ico-widget-deposits" submit-action="submit(depositAddForm)"></eb-action-footer></div></div></div></div></form>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsNewStep2.html",'<div><div eb-preloader-content promise="depositPromise"><div class="step2 inner-form-padding center-form"><div class="panel-details"><eb-section-header eb-header="db.deposits.new.step2.header" back-state="de.deposits.content"></eb-section-header><div class="form-body form-body-step2"><div eb-responsive-row label="db.deposits.new.step2.from_account"><div>{{::depositDetails.openingAccountNo | nrbIbanFilter}}</div></div><div eb-responsive-row label="db.deposits.new.step2.deposit_type"><div>{{::depositDetails.depositName}}</div></div><div eb-responsive-row label="db.deposits.new.step2.selected_period"><div>{{depositDetails.period || 1}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + depositDetails.depositPeriodType" count="depositDetails.period"></span></div></div><div eb-responsive-row class="details-item-amount" label="db.deposits.new.step2.amount"><eb-amount amount="depositDetails.amount" currency="{{depositDetails.currency}}"></eb-amount></div><div eb-responsive-row ng-class="{\'last-row\' : !isAuthorization}" label="db.deposits.new.step2.disposition"><span eb-msg-var key="db.deposits.details.deposit_distribution_type" variable="depositDetails.renewalOptionType"></span></div></div><div class="shaded-section"><form name="authForm" novalidate><div eb-authorization eb-model="auth" eb-disposition-id="depositDetails.id" eb-resource-type="deposit_order" eb-relation="accept_create_deposit" eb-text="text" eb-form="authForm" is-shown="isAuthorization" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><eb-action-footer cancel-label="db.deposits.new.step2.correct" submit-label="db.deposits.new.step2.accept" cancel-action="change(depositDetails)" submit-action="accept()"></eb-action-footer></form></div></div></div></div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsTerminate.html",'<div class="inner-payment-form center-app-header"><eb-content-navigation></eb-content-navigation><form name="depositTerminateForm" novalidate ng-submit="submit(depositTerminateForm)"><div><div id="form-views" ui-view autoscroll="true"></div></div></form></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsTerminateStep1.html",'<div><div><div class="step2 inner-form-padding center-form"><div class="panel-details"><eb-section-header eb-header="db.deposits.terminate.header" back-state="de.deposits.content"></eb-section-header><div class="form-body form-body-step2" style="padding-bottom:0"><eb-responsive-row label="db.deposits.terminate.account_number"><div class="details-smaller-value">{{deposit.accountNo | nrbIbanFilter | emptyFilter}}</div><input type="hidden" ng-model="depositForm.depositId" name="depositId"><div eb-validation-messages eb-name="depositId"><div eb-message-key="deposit.depositId.error.lack.of.access.in.active.mode"><span eb-msg="db.deposits.terminate.deposit.validate.passive_access"></span></div></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.account_currency"><div class="details-smaller-value">{{deposit.currency | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.opening_account_no"><div class="details-smaller-value">{{deposit.openingAccountNo | nrbIbanFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.deposit_type"><div class="details-smaller-value">{{deposit.depositName | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.deposit"><div class="details-smaller-value">{{deposit.customerProductData.customName || deposit.depositName | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.balance"><eb-amount amount="deposit.depositBalance" currency="{{ deposit.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.interest"><div class="details-smaller-value"><eb-percentage value="deposit.interest"></eb-percentage></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.interest_type"><div class="details-smaller-value"><span eb-msg-var key="db.deposits.deposit_rate_type" variable="deposit.interestRateType"></span></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.start_date"><div class="details-smaller-value">{{deposit.openDate | dateFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.capit_date"><div class="details-smaller-value">{{deposit.nextCapitalizationDate | dateFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.maturity_date"><div class="details-smaller-value">{{deposit.maturityDate | dateFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.dep_period"><div class="details-smaller-value"> {{deposit.period}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + deposit.depositPeriodType" count="deposit.period"></span></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.disposition_after"><div class="details-smaller-value"><span eb-msg-var key="db.deposits.terminate.deposit_distribution_type" variable="deposit.renewalOptionType"></span></div></eb-responsive-row><div ng-if="deposit.isSurcharge"><eb-responsive-row label="db.deposits.terminate.last_amount"><div class="details-smaller-value"><eb-amount amount="deposit.lastSurchargeAmount" currency="{{ deposit.currency }}"></eb-amount></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.next_amount"><div class="details-smaller-value"><eb-amount amount="deposit.nextSurchargeAmount" currency="{{ deposit.currency }}"></eb-amount></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.next_date"><div class="details-smaller-value">{{deposit.nextSurchargeDate | dateFilter | emptyFilter}}</div></eb-responsive-row></div></div></div><div class="form-body form-body-step1" style="padding-top:0"><eb-responsive-row label="db.deposits.terminate.to_account" label-for="settlementAccountId"><eb-account-select name="settlementAccountId" ng-model="depositForm.settlementAccountId" ng-required="true" placeholder="{{::\'db.deposits.terminate.select.account\'|translate}}" account="depositForm.selectedAccount" primary-account-number="deposit.openingAccountNo"></eb-account-select><eb-validation-messages eb-name="settlementAccountId"><div eb-message-key="required"><span eb-msg="db.deposits.terminate.validation.account"></span></div><div eb-message-key="break_deposit.settlementAccountId.NotNull"><span eb-msg="db.deposits.terminate.validation.account"></span></div></eb-validation-messages></eb-responsive-row><div collapse="!(depositForm.selectedAccount.currency && deposit.currency && depositForm.selectedAccount.currency != deposit.currency)" class="close-section"><div eb-responsive-row><div eb-checkbox eb-model="deposit.exchange" class="exchange-checkbox" eb-name="exchange" eb-required="depositForm.selectedAccount.currency != deposit.currency" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></div><span class="exchange-message" ng-click="deposit.exchange=!deposit.exchange" eb-msg="db.deposits.new.step1.row.exchange_info" prevent-orphans ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><div eb-validation-messages eb-name="exchange"><div eb-message-key="required"><span eb-msg="db.deposits.new.step1.row.exchange.validate.required"></span></div></div></div></div><eb-action-footer submit-label="db.deposits.terminate.submit" submit-icon="eb-ico-new-deposit" submit-action="submit(depositTerminateForm)"></eb-action-footer></div></div></div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsTerminateStep2.html",'<div><div eb-preloader-content promise="depositPromise"><div class="step2 inner-form-padding center-form"><div class="panel-details"><eb-section-header eb-header="db.deposits.terminate.header" back-state="de.deposits.content"></eb-section-header><div class="form-body form-body-step2"><eb-responsive-row label="db.deposits.terminate.account_number"><div>{{deposit.accountNo | nrbIbanFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.account_currency"><div>{{deposit.currency | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.opening_account_no"><div>{{deposit.openingAccountNo | nrbIbanFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.deposit_type"><div>{{deposit.depositName | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.deposit"><div>{{deposit.customerProductData.customName || deposit.depositName | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.balance"><eb-amount amount="deposit.depositBalance" currency="{{ deposit.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.interest"><div><eb-percentage value="deposit.interest"></eb-percentage></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.interest_type"><div><span eb-msg-var key="db.deposits.deposit_rate_type" variable="deposit.interestRateType"></span></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.start_date"><div>{{deposit.openDate | dateFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.capit_date"><div>{{deposit.nextCapitalizationDate | dateFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.maturity_date"><div>{{deposit.maturityDate | dateFilter | emptyFilter}}</div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.dep_period"><div> {{deposit.period}} <span eb-variety-msg key="\'db.deposits.settlement_period_type.\' + deposit.depositPeriodType" count="deposit.period"></span></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.disposition_after"><div><span eb-msg-var key="db.deposits.terminate.deposit_distribution_type" variable="deposit.renewalOptionType"></span></div></eb-responsive-row><div ng-if="deposit.isSurcharge"><eb-responsive-row label="db.deposits.terminate.last_amount"><div><eb-amount amount="deposit.lastSurchargeAmount" currency="{{ deposit.currency }}"></eb-amount></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.next_amount"><div><eb-amount amount="deposit.nextSurchargeAmount" currency="{{ deposit.currency }}"></eb-amount></div></eb-responsive-row><eb-responsive-row label="db.deposits.terminate.next_date"><div>{{deposit.nextSurchargeDate | dateFilter | emptyFilter}}</div></eb-responsive-row></div><eb-responsive-row label="db.deposits.terminate.to_account" label-class="new-payment-label"><div>{{depositDetails.settlementAccountNo | nrbIbanFilter}}</div></eb-responsive-row></div><div class="shaded-section"><eb-action-footer cancel-label="db.deposits.terminate.correct" submit-label="db.deposits.terminate.accept" cancel-action="change(details)" submit-action="accept(details)"></eb-action-footer></div></div></div></div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsTransactionDetails.html",'<div eb-themable><eb-section-header eb-header="transaction.details.label.header" eb-description="{{::\'transaction.details.label.ref_no\' | translate}}:&nbsp;{{details.referenceNumber}}" back-state="de.deposits.transactions.list"></eb-section-header><div class="details-body" ng-if="details != null"><!-- dane transakcji --><eb-responsive-row label="transaction.details.label.transaction_date">{{details.transactionDate | dateFilter}}</eb-responsive-row><eb-responsive-row label="transaction.details.label.booking_date">{{details.bookingDate | dateFilter}}</eb-responsive-row><eb-responsive-row label="transaction.details.label.amount"><eb-amount amount="details.displayAmount" currency="{{details.currency}}" highlight-negative></eb-amount></eb-responsive-row><eb-responsive-row label="transaction.details.label.amount_in_account_currency" ng-show="details.currency != details.accountCurrency"><eb-amount amount="details.displayAmountInAccountCurrency" currency="{{details.accountCurrency}}" highlight-negative></eb-amount></eb-responsive-row><!-- end dane transakcji --><div ng-show="details.side === \'CREDIT\' && details.oppositeAccountNo != null"><eb-responsive-row top label="transaction.details.label.sender"><div ng-repeat="row in ::details.remitter track by $index">{{row}}</div></eb-responsive-row><eb-responsive-row top label="transaction.details.label.sender_account">{{details.side.toUpperCase() === \'DEBIT\' ? details.accountNo : details.oppositeAccountNo | nrbIbanFilter}} <span ng-show="details.remitterBank != null" class="eb-responsive-row-sublabel"><br>{{::\'transaction.details.label.sender_bank\'|translate}}:</span>&nbsp;{{details.remitterBank}}</eb-responsive-row></div><div ng-show="details.side === \'DEBIT\' && details.oppositeAccountNo != null"><eb-responsive-row ng-hide="details.transactionZusDetails != null" key top label="transaction.details.label.recipient"><div ng-repeat="row in ::details.beneficiary track by $index">{{row}}</div></eb-responsive-row><eb-responsive-row top label="transaction.details.label.recipient_account">{{details.side.toUpperCase() === \'CREDIT\' ? details.accountNo : details.oppositeAccountNo | nrbIbanFilter}} <span ng-show="details.beneficiaryBank != null" class="eb-responsive-row-sublabel"><br>{{::\'transaction.details.label.recipient_bank\'|translate}}:</span>&nbsp;{{details.beneficiaryBank}}</eb-responsive-row></div><eb-responsive-row ng-hide="details.transactionUsDetails != null || details.transactionZusDetails != null" key top label="transaction.details.label.transaction_description"><div ng-repeat="row in ::details.description track by $index">{{row}}</div></eb-responsive-row><eb-responsive-row label="transaction.details.label.transaction_type">{{details.transactionTypeDesc}}</eb-responsive-row><div ng-if="details.transactionUsDetails != null" ng-include="::pathPrefix + \'/views/accountsTransactionUsFields.html\'"></div><div ng-if="details.transactionZusDetails != null" ng-include="::pathPrefix + \'/views/accountsTransactionZusFields.html\'"></div><div ng-if="details.oppositeAccountNo != null"><div ng-show="details.side != \'CREDIT\'"><eb-responsive-row top label="transaction.details.label.sender"><div ng-repeat="row in ::details.remitter track by $index">{{row}}</div></eb-responsive-row><eb-responsive-row top label="transaction.details.label.sender_account">{{details.side.toUpperCase() === \'DEBIT\' ? details.accountNo : details.oppositeAccountNo | nrbIbanFilter}} <span ng-show="details.remitterBank != null" class="eb-responsive-row-sublabel"><br>{{::\'transaction.details.label.sender_bank\'|translate}}:</span>&nbsp;{{details.remitterBank}}</eb-responsive-row></div><div ng-show="details.side != \'DEBIT\'"><eb-responsive-row ng-hide="details.transactionZusDetails != null" key top label="transaction.details.label.recipient"><div ng-repeat="row in ::details.beneficiary track by $index">{{row}}</div></eb-responsive-row><eb-responsive-row top label="transaction.details.label.recipient_account">{{details.side.toUpperCase() === \'CREDIT\' ? details.accountNo : details.oppositeAccountNo | nrbIbanFilter}} <span ng-show="details.beneficiaryBank != null" class="eb-responsive-row-sublabel"><br>{{::\'transaction.details.label.recipient_bank\'|translate}}:</span>&nbsp;{{details.beneficiaryBank}}</eb-responsive-row></div></div><div ng-if="details.oppositeAccountNo == null"><div ng-show="details.side != \'CREDIT\'"><eb-responsive-row top label="transaction.details.label.debit_account">{{details.side.toUpperCase() === \'DEBIT\' ? details.accountNo : details.oppositeAccountNo | nrbIbanFilter}} <span ng-show="details.remitterBank != null" class="eb-responsive-row-sublabel"><br>{{::\'transaction.details.label.sender_bank\'|translate}}:</span>&nbsp;{{details.remitterBank}}</eb-responsive-row></div><div ng-show="details.side != \'DEBIT\'"><eb-responsive-row top label="transaction.details.label.credit_account">{{details.side.toUpperCase() === \'CREDIT\' ? details.accountNo : details.oppositeAccountNo | nrbIbanFilter}} <span ng-show="details.beneficiaryBank != null" class="eb-responsive-row-sublabel"><br>{{::\'transaction.details.label.recipient_bank\'|translate}}:</span>&nbsp;{{details.beneficiaryBank}}</eb-responsive-row></div></div><eb-responsive-row label="transaction.details.label.balance_after"><eb-amount amount="details.balanceAfterOperation" currency="{{details.accountCurrency}}" highlight-negative></eb-amount></eb-responsive-row></div><div class="miniapp-empty-list" ng-if="details == null && accountDetailsPromise.$$state.status != 0">{{::\'db.accounts.list_data_error\'|translate}}</div></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsTransactionList.html",'<div eb-themable><eb-section-header eb-header="db.deposits.transactions.label.header" eb-description="{{deposit.customerProductData.customName || deposit.accountName}}" back-state="de.deposits.content"></eb-section-header><div class="eb-filter-header-container"><div class="row eb-filter-header"><span eb-container class="padding small"><div class="col-xs-6 col-md-6 text-left eb-filter-clean"><span ng-show="showClearFilter" ng-click="clearFilter()" style="cursor: pointer" eb-msg="transaction.filter.label.clear"></span></div><div class="col-xs-6 col-md-6 text-right eb-filter-switch" ng-class="{\'pull-right\': !showFilter}"><div ng-click="showFilterWindow()" style="cursor: pointer"><i eb-themable class="eb-icon" style="font-size: 1.3em" ng-class="{\'eb-ico-filter-applied\': showFilter == true , \'eb-ico-filter-show\': showFilter == false}"></i> <span ng-if="showFilter" class="link" eb-msg="transaction.filter.label.hide"></span> <span ng-if="!showFilter" class="link" eb-msg="transaction.filter.label.show"></span></div></div></span></div></div><div ng-show="showFilter"><db-dep-transaction-filter ng-model="filterParams" context="depositHistoryList" callback="submit(ctx, params)"></db-dep-transaction-filter></div><eb-list id="depositTransactionListId" class="account-history time-based-list" ng-class="{\'filter-displayed\':showFilter}" eb-promise="depositHistoryPromise"><eb-list-item class="row" ng-repeat="transaction in depositHistoryList.content | filter:searchFilter"><eb-list-item-content class="item-content-with-actions"><div class="date-cell cell_1_in_3"><span>{{transaction.bookingDate | date : \'dd.MM.yyyy\'}}</span></div><!-- no whitespace fix--><div class="actions-cell"><div class="default-desktop-option"><a ui-sref="^.details" store-context="transaction"><span eb-msg="accounts.options.label.details"></span></a></div><div class="options"><div eb-list-options><li class="option-hidden-when-desktop"><a class="option-row" ui-sref="^.details" store-context="transaction"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="accounts.options.label.details"></span></a></li><li><a href="{{transaction.link}}" target="{{transaction.target}}"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="accounts.options.label.download"></span></a></li></div></div></div><!-- no whitespace fix--><div class="amount-property-cell cell_3_in_3"><eb-amount amount="transaction.displayAmountInAccountCurrency" currency="{{transaction.accountCurrency}}" highlight-negative></eb-amount></div><!-- no whitespace fix--><div class="description-property-cell cell_2_in_3"><div><div ng-switch="transaction.side"><span ng-switch-when="DEBIT">{{transaction.beneficiary[0]}}</span> <span ng-switch-when="CREDIT">{{transaction.remitter[0]}}</span></div><div class="collapsed-description" ng-class="{\'expanded\' : !transaction.isCollapsed}"><span>{{transaction.title[0]}}</span><span ng-show="transaction.title[0] == null">{{transaction.description[0]}}</span> <span ng-show="transaction.title[0] != null && transaction.transactionUsDetails.formCode != null">&nbsp;{{transaction.transactionUsDetails.formCode}}</span></div></div></div></eb-list-item-content><eb-collapse is-collapsed="transaction.isCollapsed"><eb-list-details><eb-list-details-item key="transaction.label.transaction_type" class="transaction-type-label transaction-type-label-top">{{transaction.transactionTypeDesc}}</eb-list-details-item><eb-list-details-item key="transaction.label.account_balance" class="transaction-type-label"><eb-amount amount="transaction.balanceAfterOperation" currency="{{transaction.accountCurrency}}" highlight-negative></eb-amount></eb-list-details-item></eb-list-details></eb-collapse></eb-list-item><div class="miniapp-empty-list" ng-if="depositHistoryList.length == 0">{{::"db.accounts.list_data_error"|translate}}</div><div class="miniapp-empty-list" ng-if="depositHistoryList.content.length == 0">{{::"transaction.list.empty_list"|translate}}</div></eb-list><div class="eb-pagination-container" ng-show="depositHistoryPromise.$$state.status === 1"><eb-pagination eb-data="depositHistoryList" eb-params="filterParams" eb-loading="loading" eb-pagination-count="5" scroll-to="depositTransactionListId" callback="submit(ctx, params, rel)"></eb-pagination></div><eb-options-under-list ng-if="depositHistoryList.content.length > 0" ng-show="depositHistoryPromise.$$state.status === 1"><!--<div class="under-list-option second-option">--><!--<a href="{{depositHistoryList.link}}" target="{{depositHistoryList.target}}" style="color: #0098db">--><!--<span eb-themable class="eb-icon eb-icon-print options-icon" style="font-size: 1.3em"></span>--><!--<span class="option-label" eb-msg="db.deposits.list.options.downloadList" ></span>--><!--</a>--><!--</div>--><div class="under-list-option first-option"><a href="{{depositHistoryList.link}}" target="{{depositHistoryList.target}}" style="color: #0098db"><span eb-themable class="eb-icon eb-icon-print options-icon" style="font-size: 1.3em"></span> <span class="option-label" eb-msg="db.deposits.list.options.downloadList"></span></a></div></eb-options-under-list></div>'),a.put("templates/dbnext-deposits/0.0.12/views/depositsView.html",'<eb-full-screen-widget miniapp-name="deposits"><div class="deposits"><div><div><eb-screen-content><div ui-view autoscroll="true"></div></eb-screen-content></div></div></div></eb-full-screen-widget>')}]);