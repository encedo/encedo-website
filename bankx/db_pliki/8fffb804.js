;var ebankingSharedModule=angular.module("ebanking-shared",["platform"]).config(["translationsLoaderProvider","pathServiceProvider",function(a,b){}]).run(function(){});ebankingSharedModule.directive("ebAccountSelect",["$rootScope","$filter","pathService","accountsService",function(a,b,c,d){return{restrict:"EA",replace:!0,require:"ngModel",scope:{ebOppositeAccount:"@",account:"=?",accountForPrepaid:"@",accountForInsuranceAndTax:"@",accountForPaybylink:"@",currency:"@",model:"=ngModel",primaryAccountNumber:"=?",minAccessibleAssets:"@",selfAccountNo:"@"},templateUrl:c.generateTemplatePath("ebanking-shared")+"/directives/ebAccountSelect/ebAccountSelect.html",link:function(c,e,f,g){c.params={currency:c.currency,fields:"accountId,accountName,accountNo,accessibleAssets,currency",accountForPrepaid:c.accountForPrepaid,accountForInsuranceAndTax:c.accountForInsuranceAndTax,accountForPaybylink:c.accountForPaybylink,pageSize:1e4},c.placeholder=f.placeholder,c.currency=f.currency,c.accountList=[],c.adjustAccountsToMinAccessibleAssets=function(){c.minAccessibleAssets&&(c.accountList=b("filter")(c.accountList,function(a){return!c.minAccessibleAssets||a.accessibleAssets>=c.minAccessibleAssets}),null==a.getObjectFromListBy("accountId",c.account.accountId,c.accountList)&&c.accountList.length>0&&(c.model=c.accountList[0].accountId))},c.$watch("minAccessibleAssets",c.adjustAccountsToMinAccessibleAssets),c.accountsPromise=d.search(c.params).then(function(a){if(c.accountList=a.content,c.adjustAccountsToMinAccessibleAssets(),null==f.ebOppositeAccount&&null==c.account){if(c.primaryAccountNumber)for(var b=c.accountList.length-1;b>=0;b--)c.accountList[b].accountNo==c.primaryAccountNumber&&(c.account=c.accountList[b]);else for(var b=c.accountList.length-1;b>=0;b--)c.accountList[b].customerProductData.defaultForDispositions&&null==g.$viewValue?c.account=c.accountList[b]:c.accountList[b].accountId==g.$viewValue&&(c.account=c.accountList[b]);null==c.account&&(c.account=c.accountList[0]),c.model=c.account.accountId}else if(null==c.account&&angular.isDefined(f.self)&&angular.isDefined(c.selfAccountNo))for(var b=c.accountList.length-1;b>=0;b--)c.accountList[b].accountNo==c.selfAccountNo&&(c.account=c.accountList[b],c.model=c.account.accountId)}),c.$watch("ebOppositeAccount",function(a,b){(null==c.account&&null!=a&&a!=b||null!=a&&a!=b&&a==c.account.accountId)&&c.accountsPromise.then(function(){for(var b=c.accountList.length-1;b>=0;b--)if(c.accountList[b].accountId!=a&&null!=a&&""!=a){c.account=c.accountList[b],c.model=c.account.accountId;break}})}),c.selectAccount=function(a,b){c.account=a}}}}]),ebankingSharedModule.directive("ebAccountsCurrencySelect",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService","accountsService",function(a,b,c,d,e,f,g,h){return{restrict:"EA",replace:!0,scope:{placeholder:"@"},templateUrl:g.generateTemplatePath("ebanking-shared")+"/directives/ebAccountsCurrencySelect/ebAccountsCurrencySelect.html",link:function(a,b,c,d){a.params={fields:"currency",pageSize:1e4},a.currenciesList=[],a.currenciesPromise=h.search(a.params).then(function(b){angular.forEach(b.content,function(b){a.currenciesList.indexOf(b.currency)==-1&&a.currenciesList.push(b.currency)})}),a.selectCurrency=function(a,b){}}}}]),ebankingSharedModule.directive("ebAuthorization",["pathService","ebTheming","authorizationRequestsService","formService","$q","domService",function(a,b,c,d,e,f){return{restrict:"EA",replace:!0,transclude:!0,scope:{ebModel:"=",ebDispositionId:"=?",ebResourceType:"@?",ebRelation:"@?",ebErrorCode:"@",ebText:"=",ebForm:"=",ebRequired:"=",ebDisabled:"=",ebShowSmsAuthNo:"=",isShown:"=?"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebAuthorization/ebAuthorization.html",link:function(a,d,g){b.applyTheme(d),a.ngModel={},a.$watch("ebDispositionId",function(b){b?a.authPromise=c.action({resourceId:b,resourceType:a.ebResourceType,relation:a.ebRelation},"create").then(function(b){a.authPromise=c.get(b.content,{resourceId:b.content,authorizationRequestId:b.content}).then(function(b){if(a.authData=b,a.ebModel.authenticationAttemptId=a.authData.authenticationAttemptId,a.isShown=a.authData.twoFactorAuthenticationRequired,a.ebShowSmsAuthNo&&"SMS"==a.authData.authenticationMethod){var c=/(\d{2})(\d{2})(\d{4})/,d=a.authData.authenticationAttributes.authDate;a.authDateValue=new Date(d.replace(c,"$3-$2-$1"))}},function(b){var c=/([a-zA-Z])/;return a.ebErrorCode=c.test(b.text)?"":b.text,e.reject()})},function(b){var c=/([a-zA-Z])/;return a.ebErrorCode=c.test(b.text)?"":b.text,e.reject()}):(a.authData=a.ebModel,a.authPromise={$$state:{status:1}})}),a.numpad={},a.clicked={};var h=function(b){var c=d.querySelectorAll("#"+b)[0],e=f.getSelectionStart(c),g=f.getSelectionEnd(c),h=[e,g];a.numpad.caret=h,a.numpad.name=b};a.setNumpadModel=function(b){a.numpad.show=a.numpad.show&&a.numpad.name!=b?a.numpad.show:!a.numpad.show,a.numpad.maxlength=document.getElementsByName(b)[0].maxLength,h(b)},a.mouseLeave=function(b){a.clicked[b]&&h(b)},a.mouseUp=function(b){angular.forEach(a.clicked,function(b,c){a.clicked[c]=!1}),h(b)},a.setTanErrors=function(){a.tanErrors=angular.extend({},a.ebForm.tanX.$error,a.ebForm.tanY.$error)},a.$watch("ebForm.$submitted",function(b){1==b&&a.authData&&"TAN"==a.authData.authenticationMethod&&a.setTanErrors()},!0),a.$watchGroup(["ngModel.tanX","ngModel.tanY"],function(b){(b[0]||b[1])&&(a.ebModel&&(a.ebModel.credentials=b[0]+""+b[1],a.ebForm.tanX.$setValidity("errorCode",!0),a.ebForm.tanY.$setValidity("errorCode",!0)),a.setTanErrors())},!0),a.$watch("ngModel.sms",function(b){b&&a.ebModel&&(a.ebModel.credentials=b,a.ebForm.sms.$setValidity("errorCode",!0))},!0),a.$watch("ngModel.token",function(b){b&&a.ebModel&&(a.ebModel.credentials=b,a.ebForm.token.$setValidity("errorCode",!0))},!0),a.$watch("ebErrorCode",function(b){b&&(a.ebForm.sms&&(a.ngModel.sms=null,a.ebForm.sms.$setValidity("errorCode",!1),a.ebForm.sms.$setValidity("required",!0)),a.ebForm.token&&(a.ngModel.token=null,a.ebForm.token.$setValidity("errorCode",!1),a.ebForm.token.$setValidity("required",!0)),a.ebForm.tanX&&(a.ngModel.tanX=null,a.ebForm.tanX.$setValidity("errorCode",!1),a.ebForm.tanX.$setValidity("required",!0)),a.ebForm.tanY&&(a.ngModel.tanY=null,a.ebForm.tanY.$setValidity("errorCode",!1),a.ebForm.tanY.$setValidity("required",!0)),a.authData&&"TAN"==a.authData.authenticationMethod&&a.setTanErrors())},!0)}}}]),ebankingSharedModule.directive("ebBeneficiaryName",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService","accountsService","$location","$state",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"EA",replace:!0,transclude:!0,scope:{accountId:"@"},templateUrl:g.generateTemplatePath("ebanking-shared")+"/directives/ebBeneficiaryName/ebBeneficiaryName.html",link:function(a,b,c,d){a.$watch("accountId",function(b,c){null!=b&&b.length>0&&(a.senderPromise=h.get(a.accountId,{fields:"ownerName,ownersList"}).then(function(b){a.owner=b.ownerName}))})}}}]),ebankingSharedModule.directive("ebCartInsert",["pathService","cartCountService","notificationService","$state","viewStateService","paymentsService","formService","cartProtectedValidationRules",function(a,b,c,d,e,f,g,h){return{restrict:"EA",replace:!1,scope:{submit:"&",ebModel:"=?",ebForm:"=?"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebCartInsert/ebCartInsert.html",link:function(a,c,d){a.cartProtectedValidationRules=h,a.addToBasket=function(){return null!=a.ebForm&&g.removeNotRequiredValidityRules(a.ebForm,a.cartProtectedValidationRules),null!=a.ebModel&&(a.ebModel.intent="add_to_cart",b.refreshCartItemsCount()),a.submit().then(function(a){},function(){a.ebModel.intent="realize",console.error("Error adding to cart")})}}}}]),ebankingSharedModule.directive("ebComplementaryIdInput",["pathService",function(a){return{restrict:"EA",require:"ngModel",replace:!0,scope:{complementaryIdType:"=",maxLength:"@",placeholder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebComplementaryIdInput/ebComplementaryIdInput.html",link:function(a,b,c,d){var e=b[0];d.$render=function(){a.$evalAsync(function(){e.value=d.$viewValue||""})},b.on("blur",function(){d.$setViewValue(this.value)}),a.$on("$destroy",function(){b.off()}),a.maxLength=a.maxLength||14,a.$watch("complementaryIdType",function(a){angular.isDefined(a)&&d.$validate()})}}}]),ebankingSharedModule.directive("complementaryIdValidator",function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){for(var b=[1,3,7,9,1,3,7,9,1,3,1],c=0,d=0;d<b.length;d++)c+=a[d]*b[d];return c%10==0},f=function(a){if(9==a.length){for(var b=[8,9,2,3,4,5,6,7],c=0,d=0;d<b.length;d++)c+=a[d]*b[d];var e=c%11==10?0:c%11;return e==a[8]}for(var b=[2,4,8,5,0,9,7,3,6,1,2,4,8],c=0,d=0;d<b.length;d++)c+=a[d]*b[d];var e=c%11==10?0:c%11;return e==a[13]},g=function(a){for(var b=[7,3,1,7,3,1,7,3],c=0,d=a.match(/\d/).index,e=0;e<d;e++)c+=(a[e].charCodeAt(0)-55)*b[e];for(var e=d;e<b.length;e++)c+=a[e+1]*b[e];return c%10==a[3]},h=function(a){var b=new RegExp("^[A-Za-z0-9]*$");return null!=a&&""!=a&&b.test(a)};d.$validators.complementaryValid=function(b){var d=a.$eval(c.complementaryIdType);if(angular.isDefined(b)&&angular.isDefined(d)){if("PESEL"==d)return 11==b.length&&e(b);if("REGON"==d)return(14==b.length||9==b.length)&&f(b);if("ID_CARD"==d)return 9==b.length&&g(b.toUpperCase());if("PASSPORT"==d)return null!=b&&""!=b&&h(b.toUpperCase())}return!0}}}}),ebankingSharedModule.directive("ebComplementaryIdTypeSelect",["pathService","complementaryIdTypesDictionary",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=",monitorValue:"=?",complementaryIdTypesKey:"@",placeholder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebComplementaryIdTypeSelect/ebComplementaryIdTypeSelect.html",link:function(a,c,d){a.selectedValue={selected:void 0},a.complementaryIdTypes=b,a.$watch("ngModel",function(b,c){var d=!1;if(void 0!=b&&(b!=c||void 0==a.selectedValue.selected)){for(var e=0;e<a.complementaryIdTypes.length;e++)if(a.complementaryIdTypes[e].key==b){a.selectedValue.selected=a.complementaryIdTypes[e],a.ngModel=a.complementaryIdTypes[e].model,d=!0;break}d||void 0==a.monitorValue||(a.monitorValue=b),a.selectedValue.selected=b}}),a.selectComplementaryIdType=function(b,c){a.ngModel=c}}}}]),ebankingSharedModule.directive("ebDecisionNoInput",["pathService","$timeout",function(a,b){return{restrict:"EA",replace:!0,scope:{ngModel:"=",insurancePaymentType:"=",maxLength:"@",placeholder:"@",ebForm:"=?",ebName:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebDecisionNoInput/ebDecisionNoInput.html",link:function(a,b,c,d){a.maxLength=a.maxLength||15,a.$watch("insurancePaymentType",function(b){null==b?a.isRequired=!1:"S"==b||"M"==b?(a.ngModel=void 0,a.isDisabled=!0,a.isRequired=!1):(a.isDisabled=!1,a.isRequired=!0,angular.isDefined(a.ebForm)&&a.ebForm.$submitted&&a.ebForm[a.ebName].$setDirty())})}}}]),ebankingSharedModule.directive("ebDeclarationInput",["pathService",function(a){return{restrict:"EA",require:"ngModel",replace:!0,scope:{maxLength:"@",placeholder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebDeclarationInput/ebDeclarationInput.html",link:function(a,b,c,d){var e=b[0];d.$render=function(){a.$evalAsync(function(){e.value=d.$viewValue||""})},b.on("blur",function(){d.$setViewValue(this.value)}),a.$on("$destroy",function(){b.off()}),a.maxLength=a.maxLength||6}}}]),ebankingSharedModule.directive("declarationValidator",function(){return{require:"ngModel",link:function(a,b,c,d){d.$validators.declarationValid=function(a){if(null!=a&&""!=a){if(6==a.length&&/^\d+$/.test(a)){var b=a.substring(0,2),c=a.substring(2,6);if(b>0&&b<13&&c>1998)return!0}return!1}return!0}}}}),ebankingSharedModule.directive("ebDeclarationNoInput",["pathService",function(a){return{restrict:"EA",require:"ngModel",replace:!0,scope:{insurancePaymentType:"=",maxLength:"@",placeholder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebDeclarationNoInput/ebDeclarationNoInput.html",link:function(a,b,c,d){var e=b[0];d.$render=function(){a.$evalAsync(function(){e.value=d.$viewValue||""})},b.on("blur",function(){d.$setViewValue(this.value)}),a.$on("$destroy",function(){b.off()}),a.maxLength=a.maxLength||2,a.$watch("insurancePaymentType",function(a){angular.isDefined(a)&&d.$validate()})}}}]),ebankingSharedModule.directive("declarationNoValidator",function(){return{require:"ngModel",link:function(a,b,c,d){d.$validators.declarationNoValid=function(b){var d=a.$eval(c.insurancePaymentType);return null==b||""==b||2==b.length&&(!angular.isDefined(d)||("S"==d||"M"==d?b>0&&b<100:1==b||40==b||51==b||70==b||80==b))}}}}),ebankingSharedModule.directive("ebDomesticBankDetails",["domesticBanksService","pathService",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{nrb:"@"},templateUrl:b.generateTemplatePath("ebanking-shared")+"/directives/ebDomesticBankDetails/ebDomesticBankDetails.html",link:function(b){b.$watch("nrb",function(c,d){null!=c&&26==c.length?a.search({accountNo:c}).then(function(a){b.bankDetails=a.content[0]}):b.bankDetails=null})}}}]),ebankingSharedModule.directive("ebInsuranceAccountSelect",["pathService","insuranceAccountsDictionary",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=",monitorValue:"=?",insuranceAccountsKey:"@",placeholder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebInsuranceAccountSelect/ebInsuranceAccountSelect.html",link:function(a,c,d){a.selectedValue={selected:void 0},a.insuranceAccounts=b,a.$watch("ngModel",function(b,c){var d=!1;if(void 0!=b&&(b!=c||void 0==a.selectedValue.selected)){for(var e=0;e<a.insuranceAccounts.length;e++)if(a.insuranceAccounts[e].accountNo==b||a.insuranceAccounts[e].key==b){a.selectedValue.selected=a.insuranceAccounts[e],a.ngModel=a.insuranceAccounts[e].model,d=!0;break}d||void 0==a.monitorValue||(a.monitorValue=b),a.selectedValue.selected=b}},!0),a.selectInsuranceAccount=function(b,c){a.ngModel=b.model}}}}]),ebankingSharedModule.directive("ebInsurancePaymentTypeSelect",["pathService","insurancePaymentTypesDictionary","translate",function(a,b,c){return{restrict:"EA",replace:!1,transclude:!0,scope:{ngModel:"=",insurancePaymentTypesKey:"@",placeholder:"@",paymentType:"@",labelOrder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebInsurancePaymentTypeSelect/ebInsurancePaymentTypeSelect.html",link:function(a,d,e){"typeFirst"!=a.labelOrder&&(a.labelOrder="typeLast"),a.paymentTypes=b,a.selectPaymentType=function(b,c){a.ngModel=c},a.getSelectedDescription=function(b){if(!b)return null;var d=c.property(a.insurancePaymentTypesKey+b.key);return"typeFirst"==a.labelOrder?b.model+" - "+d:d+" - "+b.model}}}}]),ebankingSharedModule.directive("ebInsuranceTemplateLink",["ebTheming","pathService","$modal","templateModelService",function(a,b,c,d){return{restrict:"EA",replace:!1,transclude:!0,templateUrl:b.generateTemplatePath("ebanking-shared")+"/directives/ebInsuranceTemplateLink/ebInsuranceTemplateLink.html",scope:{ebForm:"@",ebFormData:"=",ebText:"=",ebDefaultTemplate:"=?",ebControlChangeEvent:"=?",paymentType:"@"},link:function(b,e,f){a.applyTheme(e),b.goToInsuranceTemplateModal=function(){b.modalIsActive=!0;var a=c.open({template:'<eb-insurance-template-modal eb-form="{{form}}" payment-type="{{paymentType}}" eb-form-data="formData" eb-text="text" eb-on-close="close()" eb-confirm="confirm()" eb-accept="accept()"></eb-insurance-template-modal>',windowClass:"eb-modal-dialog",backdropClass:"always-on",controller:["$scope",function(c){angular.extend(c,{form:b.ebForm,formData:b.ebFormData,text:b.ebText,paymentType:b.paymentType?b.paymentType:"INSURANCE",close:function(){a.dismiss()},confirm:function(){a.dismiss()},accept:function(){b.ebControlChangeEvent=!0,a.dismiss()}})}]});a.result.then(function(){},function(){b.modalIsActive=!1})},null!=b.ebDefaultTemplate&&(b.ebFormData.formModel=d.getModelByTemplateType(b.paymentType?b.paymentType:"INSURANCE",b.ebDefaultTemplate,b.ebFormData.formModel),b.ebFormData.recipientAddress=b.ebFormData.formModel.recipientAddress,b.ebFormData.recipientName=b.ebFormData.formModel.recipientName,b.ebControlChangeEvent=!0)}}}]),ebankingSharedModule.directive("ebInsuranceTemplateModal",["pathService","ebTheming",function(a,b){return{restrict:"EA",replace:!1,transclude:!0,scope:{form:"@ebForm",formData:"=ebFormData",text:"=ebText",close:"&ebOnClose",accept:"&ebAccept",confirm:"&ebConfirm",paymentType:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebInsuranceTemplateModal/ebInsuranceTemplateModal.html",link:function(a,c,d){b.applyTheme(c)}}}]),ebankingSharedModule.directive("ebInsuranceTemplateSelect",["pathService","ebTheming","recipientsService","templateModelService","searchWrapperService",function(a,b,c,d,e){return{restrict:"EA",require:"ngModel",replace:!0,transclude:!0,scope:{model:"=",ebAccept:"&",placeholder:"@",paymentType:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebInsuranceTemplateSelect/ebInsuranceTemplateSelect.html",link:function(a,f,g){b.applyTheme(f),f.querySelectorAll("input.insurance-search-input")[0].focus(),a.searchText="";var h=function(){a.templatesList=a.templatesList.map(function(a){return angular.extend(a,e.wrapTemplateFieldsForSelect(a))})};a.templatesPromise=c.search({filerTemplateType:a.paymentType,pageSize:1e4}).then(function(b){for(var c=b.content,d=[],e=c.length-1;e>=0;e--)for(var f=c[e].paymentTemplates.length-1;f>=0;f--)c[e].paymentTemplates[f].recipientName=c[e].recipientName,c[e].paymentTemplates[f].recipientAddress=c[e].recipientAddress,c[e].paymentTemplates[f].paymentDetails||(c[e].paymentTemplates[f].paymentDetails={}),d.push(c[e].paymentTemplates[f]);a.templatesList=d,h()}),a.selectTemplate=function(b,c){a.model.formModel=d.getModelByTemplateType(a.paymentType,b,a.model.formModel),a.model.recipientAddress=a.model.formModel.recipientAddress,a.model.recipientName=a.model.formModel.recipientName,a.ebAccept()}}}}]),ebankingSharedModule.directive("ebLoginInfo",["pathService","userService",function(a,b){return{restrict:"EA",scope:{externalData:"=?"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebLoginInfo/ebLoginInfo.html",link:function(a,c,d){a.correctLogonDate=!0,a.waitForData=!1,angular.isDefined(a.externalData)&&(a.waitForData=a.externalData),b.getUserDetails().then(function(b){a.userDetails=b,a.correctLogonDate=a.userDetails.lastCorrectLogonDate>=a.userDetails.lastIncorrectLogonDate,a.lastCorrectLogonDate=a.userDetails.lastCorrectLogonDate,a.lastIncorrectLogonDate=a.userDetails.lastIncorrectLogonDate,a.logonDate=a.correctLogonDate?a.userDetails.lastCorrectLogonDate:a.lastIncorrectLogonDate}),a.$on("externalDataReady",function(b,c){a.userDetails.firstName=c.firstName,a.userDetails.lastName=c.lastName,a.waitForData=!1})}}}]),ebankingSharedModule.directive("ebMobileOperatorSelect",["pathService","mobileOperatorsService","$rootScope",function(a,b,c){return{restrict:"EA",replace:!1,require:"ngModel",scope:{placeholder:"@",operatorId:"=?"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebMobileOperatorSelect/ebMobileOperatorSelect.html",link:function(a,d,e,f){function g(b){if(null!=b)if(null!=a.operatorsList){var d=c.getObjectFromListBy("operatorId",b,a.operatorsList);f.$setViewValue(d),f.$render()}else a.operatorsPromise.then(function(){var d=c.getObjectFromListBy("operatorId",b,a.operatorsList);f.$setViewValue(d),f.$render()})}var h="operatorId,operatorName";a.operatorsPromise=b.search({fields:h}).then(function(b){a.operatorsList=b.content}),a.$watch("operatorId",function(a,b){g(a)}),a.$watch(function(){return f.$modelValue},function(b,c){g(null!=b?b.operatorId:a.operatorId)},!0)}}}]),ebankingSharedModule.directive("nipValidator",function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){for(var b=[6,5,7,2,3,4,5,6,7],c=0,d=0;d<b.length;d++)c+=a[d]*b[d];var e=c%11==10?0:c%11;return e==a[9]};d.$validators.nipValid=function(a,b){return null==a||10==b.length&&e(b)}}}}),ebankingSharedModule.directive("ebPhoneNumberInput",["pathService","translate","ebTheming","domService",function(a,b,c,d){return{restrict:"EA",replace:!1,require:"^ngModel",templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebPhoneNumberInput/ebPhoneNumberInput.html",link:function(a,b,c,e){var f=b.find("input"),g=new RegExp("^[0-9]{1,9}$"),h="";a.placeholder=c.placeholder,e.$render=function(){a.$evalAsync(function(){f[0].value=e.$viewValue||""})},f.on("input",function(){g.test(this.value)||""==this.value||(this.value=h),null!=this.value&&this.value.length>9&&(this.value=this.value.substring(0,9)),d.isIE()&&h==this.value||(h=this.value,e.$setViewValue(this.value))}),a.$on("$destroy",function(){f.off()})}}}]),ebankingSharedModule.directive("ebPrepaidSelect",["$compile","$rootScope","pathService","prepaidConfService","$timeout",function(a,b,c,d,e){return{restrict:"EA",replace:!1,require:"ngModel",scope:{placeholder:"@",operatorId:"@",template:"=ebTemplate",ebMatchAmount:"=?",ebCurrency:"=?"},templateUrl:c.generateTemplatePath("ebanking-shared")+"/directives/ebPrepaidSelect/ebPrepaidSelect.html",link:function(a,c,f,g){function h(b){for(var c=0;c<a.prepaidTopupOptions.length;c++){var d=a.prepaidTopupOptions[c];if("DISCRETE"===d.amountType){if(d.valueDiscrete===b){e(function(){g.$setViewValue(d),g.$render()});break}}else if(d.valueFrom<=b&&d.valueTo>=b){e(function(){g.$setViewValue(d),g.$render()});break}c==a.prepaidTopupOptions.length-1&&(g.$setViewValue(a.prepaidTopupOptions[0]),g.$render())}}a.prepaidTopupOptions=[],null==a.ebCurrency&&(a.ebCurrency="PLN"),a.$watch("operatorId",function(c){null!=c&&""!=c&&(b.vatRateData=d.search({operatorId:c}).then(function(b){return a.prepaidTopupOptions=b.valuePrepaidList,h(a.ebMatchAmount),b},function(b){return a.prepaidTopupOptions=void 0,g.$setViewValue(void 0),g.$render(),b}))}),a.$watch("ebMatchAmount",function(b){null!=a.prepaidTopupOptions&&null!=b&&h(b)})}}}]),ebankingSharedModule.directive("ebRecipientNameInput",["pathService","translate","ebTheming",function(a,b,c){return{restrict:"EA",replace:!0,require:"ngModel",scope:{placeholder:"@",ngModel:"=",ebName:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebRecipientNameInput/ebRecipientNameInput.html",link:function(a,b,d,e){c.applyTheme(b);b.find("input")}}}]),ebankingSharedModule.directive("ebRecipientSelect",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService","$location","recipientsService","$document","templateModelService","events","searchWrapperService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return{restrict:"EA",replace:!0,scope:{templateType:"@",ebForm:"=",ngModel:"=",ebDisabled:"=",ebRequired:"=",ebName:"@",ebPlaceholder:"@",ebDefaultTemplate:"=?",ebTemplateActive:"=?",ebMaxLength:"=?",controllChangeEvent:"=?",searchLimit:"@"},templateUrl:function(a,b){switch(b.type){case"payment":return g.generateTemplatePath("ebanking-shared")+"/directives/ebRecipientSelect/ebRecipientSelect-payment.html";case"prepaid":return g.generateTemplatePath("ebanking-shared")+"/directives/ebRecipientSelect/ebRecipientSelect-prepaid.html";default:return g.generateTemplatePath("ebanking-shared")+"/directives/ebRecipientSelect/ebRecipientSelect-payment.html"}},link:function(a,b,c){var d=function(){a.templatesList=a.templatesList.map(function(a){return angular.extend(a,m.wrapRecipientFields(a,c.type))})};a.ebTemplateActive=!!a.ebTemplateActive&&a.ebTemplateActive,a.searchingText=a.ngModel?a.ngModel.recipientName:"",a.searchLimit=a.searchLimit||6,a.startSerching=2,a.ebMaxLength=a.ebMaxLength?a.ebMaxLength:70,a.showHints=!1,a.serach={},a.templatesPromise=i.search({filerTemplateType:a.templateType,pageSize:1e4}).then(function(b){for(var c=b.content,e=[],f=c.length-1;f>=0;f--)for(var g=c[f].paymentTemplates.length-1;g>=0;g--)c[f].paymentTemplates[g].recipientName=c[f].recipientName,c[f].paymentTemplates[g].recipientAddress=c[f].recipientAddress,e.push(c[f].paymentTemplates[g]);a.templatesList=e,d()}),a.showHintsBox=function(b){a.showHints=!0};a.stopBlur=!1,a.toggleTemplate=!1,a.hideHintsBox=function(b){a.stopBlur||a.showHints&&(a.showHints=!1,a.toggleTemplate=!1),a.stopBlur=!1};var e=!1;a.selectTemplate=function(b,c){a.controllChangeEvent=!0,a.ngModel=k.getModelByTemplateType(b.templateType||a.templateType,b,a.ngModel),e=!0,"PHONE_TOP_UP"==a.templateType?a.searchingText=b.templateName:a.searchingText=b.recipientName,a.showHints=!1,a.toggleTemplate=!1,a.ebTemplateActive=!0},a.stopBlurEvent=function(){a.stopBlur=!0};var f=b.find("input");a.startBlurEvent=function(){f[0].focus(),a.stopBlur=!1},a.openTemplateList=function(c){a.toggleTemplate?(a.showHints=!1,a.toggleTemplate=!1,b.querySelectorAll("input.recipient-search-input")[0].blur()):(c&&(a.searchingText=""),a.showHints=!0,a.toggleTemplate=!0,b.querySelectorAll("input.recipient-search-input")[0].focus(),a.stopBlur=!1),a.ebTemplateActive=!1},a.$watch("searchingText",function(b,c){b&&b!=c&&!e&&(a.ebTemplateActive=!1,a.ngModel.recipientName=[],b.length>34?(a.ngModel.recipientName.push(b.substr(0,35)),a.ngModel.recipientName.push(b.substr(35,b.length-1))):a.ngModel.recipientName.push(b)),e=!1}),null!=a.ebDefaultTemplate&&a.selectTemplate(a.ebDefaultTemplate,null),l.listener(a,"eb.recipientSelect.clearSelected",function(){a.searchingText=""})}}}]),ebankingSharedModule.directive("ebRepeatedPhoneNumberInput",["pathService","translate","ebTheming",function(a,b,c){return{restrict:"A",replace:!1,require:"ngModel",scope:{placeholder:"@",phoneNumber:"@"},link:function(a,b,c,d){var e=b.find("input");e.on("blur",function(){d.$viewValue!=a.phoneNumber&&d.$setValidity("same",!1)}),a.$on("$destroy",function(){e.off()}),a.$watch("phoneNumber",function(){""!=d.$viewValue&&d.$viewValue!=a.phoneNumber?d.$setValidity("same",!1):d.$setValidity("same",!0)}),d.$validators.same=function(b,c){return null==b||null==a.phoneNumber||""==a.phoneNumber||b.length!=a.phoneNumber.length||b==a.phoneNumber}}}}]),ebankingSharedModule.directive("ebSenderSelect",["$compile","$rootScope","$timeout","$log","$http","$templateCache","pathService","accountsService","$location","$state","userService",function(a,b,c,d,e,f,g,h,i,j,k){return{restrict:"EA",replace:!0,transclude:!0,require:"ngModel",scope:{placeholder:"@",accountId:"@"},templateUrl:g.generateTemplatePath("ebanking-shared")+"/directives/ebSenderSelect/ebSenderSelect.html",link:function(a,b,c,d){a.$watch("accountId",function(b,c){null!=b&&b.length>0&&(a.senderPromise=h.get(a.accountId,{fields:"ownersList"}).then(function(b){a.ownersList=b.ownersList.filter(function(a,b,c){return"OWNER"===a.relationType}),(void 0==d.$viewValue||angular.isObject(d.$viewValue))&&a.ownersList.length>0&&(1===a.ownersList.length?d.$setViewValue(angular.copy(a.ownersList[0])):k.getIdentityDetails().then(function(b){for(var c,e=a.ownersList.length-1;e>=0;e--)if(a.ownersList[e].customerId&&a.ownersList[e].customerId===b.id){c=a.ownersList[e],console.log("Found logged owner: ",c.customerId);break}c?d.$setViewValue(angular.copy(c)):d.$setViewValue(angular.copy(a.ownersList[0]))}))}))})}}}]),ebankingSharedModule.directive("ebSourceOfAssetsSelect",["pathService","fundsService","language",function(a,b,c){return{restrict:"EA",require:"ngModel",scope:{placeholder:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebSourceOfAssetsSelect/ebSourceOfAssetsSelect.html",link:function(a,d,e,f){a.sourcesOfAssetsList=[];var g={pageSize:100,language:c.get()};a.sourcesOfAssetsPromise=b.searchSourcesOfAssets(g).then(function(b){a.sourcesOfAssetsList=b.content}),a.selectSourceOfAssets=function(b,c){a.ngModel=c}}}}]),ebankingSharedModule.directive("ebTemplateNameInput",["pathService","translate","ebTheming",function(a,b,c){return{restrict:"EA",replace:!0,require:"ngModel",scope:{placeholder:"@",ngModel:"=",ebName:"@"},templateUrl:a.generateTemplatePath("ebanking-shared")+"/directives/ebTemplateNameInput/ebTemplateNameInput.html",link:function(a,b,d,e){c.applyTheme(b);b.find("input")}}}]),ebankingSharedModule.directive("preventOrphans",["$timeout","language",function(a,b){return{restrict:"A",link:function(c,d,e){var f=function(){if(angular.isDefined(d[0])){var a=d[0];d.querySelectorAll("span[ng-bind]").length>0&&(a=d.querySelectorAll("span[ng-bind]")[0]),a.innerHTML=a.innerHTML.replace(/(^\S)\s/g,"$1&nbsp;"),a.innerHTML=a.innerHTML.replace(/\s(\S)\s/g," $1&nbsp;"),a.innerHTML=a.innerHTML.replace(/(\s|&nbsp;)(\S)\s/g,"$1$2&nbsp;")}};"pl"==b.get()&&a(f,0)}}}]),ebankingSharedModule.filter("dispositionWayLabelFilter",["dispositionWayDictionary","staticFind","$filter",function(a,b,c){return function(c){return b.findById(a,c).label}}]),ebankingSharedModule.value("accountStatementDistributionTypeDictionary",[{id:0,value:"none",key:"db.accounts.statements.distribution_type.none"},{id:1,value:"daily_www",key:"db.accounts.statements.distribution_type.daily_www"},{id:2,value:"monthly_www",key:"db.accounts.statements.distribution_type.monthly_www"},{id:3,value:"daily_mail_www",key:"db.accounts.statements.distribution_type.daily_mail_www"},{id:4,value:"monthly_mail_www",key:"db.accounts.statements.distribution_type.monthly_mail_www"}]),ebankingSharedModule.service("accountStatementOperationsService",["$rootScope","userService","$q","gate","$log","$timeout","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("account_statement_operation");return{search:function(a){return h.search(a).then(function(a){return a})},relationSearch:function(a,b,c){return h.relationSearch(a,b,c).then(function(a){return a})},get:function(a,b){return h.get(a,b).then(function(a){return a})}}}]),ebankingSharedModule.service("accountStatementsService",["$rootScope","userService","$q","gate","$log","$timeout","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("account_statement");return{search:function(a){return h.search(a).then(function(a){return a})},relationSearch:function(a,b,c){return h.relationSearch(a,b,c).then(function(a){return a})},get:function(a,c){return b.getIdentityDetails().then(function(b){return h.get(a,angular.extend({customerId:b.id},c)).then(function(a){return a})})}}}]),ebankingSharedModule.service("accountTransactionType",["translate",function(a){var b=[{value:"",key:"account_transactions.type.all",disp:a.property("account_transactions.type.all")},{value:"debit",key:"account_transactions.type.debit",disp:a.property("account_transactions.type.debit")},{value:"credit",key:"account_transactions.type.credit",disp:a.property("account_transactions.type.credit")}];return{getTransactionTypes:function(){return b}}}]),ebankingSharedModule.service("accountsService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory","staticFind",function(a,b,c,d,e,f,g,h,i){var j,k=h.create("account",["accountId","accountNo","currency"]);return{search:function(a){return k.search(a).then(function(a){return j=a.content,g.returnAll(a.content,function(a){return f.getCustomerProductData("ACCOUNT",a.accountId).then(function(b){a.customerProductData=b})}).then(function(){return a})})},get:function(a,b){return k.get(a,b).then(function(a){return f.updateCustomerProductData("ACCOUNT").then(function(b){return f.getCustomerProductData("ACCOUNT",a.accountId).then(function(b){return a.customerProductData=b,a})})})},relationSearch:function(a,b,c){return k.relationSearch(a,b,c).then(function(a){return g.returnAll(a.content,function(a){return f.getCustomerProductData("ACCOUNT",a.accountId).then(function(b){a.customerProductData=b})}).then(function(){return a})})},getAccountById:function(a){if(null!=j)for(var b=0;b<j.length;b++)if(j[b].accountId==a)return j[b];return null},action:function(a,b,c){return k.action(a,b,c)}}}]),ebankingSharedModule.service("authenticationConfigService",["resourceServiceFactory","userService",function(a,b){var c=a.create("get_user_card_info");
return{getUserCardInfo:function(){return b.getIdentityDetails().then(function(a){var b={idPartner:a.accessProfileId};return c.search(b).then(function(a){return a})})}}}]),ebankingSharedModule.service("authorizationRequestsService",["resourceServiceFactory",function(a){var b=a.create("authorization_requests");return b}]),ebankingSharedModule.service("authorizationsService",["resourceServiceFactory",function(a){var b=a.create("authorizations");return b}]),ebankingSharedModule.service("blockadeFilterCriteria",["$filter",function(a){var b=15,c={periodCount:b,operationTitle:null,periodDefinitionType:"last",operationType:"",periodUnitType:"days"};return{getBlockadeFilterInitValues:function(a){var b=angular.copy(c);return b}}}]),ebankingSharedModule.service("blockadesService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("blockades");return i}]),ebankingSharedModule.service("boutiqueService",["$http","$rootScope","userService","$q","gate","$log","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i={addMiniApplication:"activate_miniapp",deleteMiniApplication:"deactivate_miniapp",resetToDefaultApplications:"reset_miniapps"},j=function(b){angular.forEach(b.content,function(b){b.wrappedText=b.name;a({method:"GET",url:b.descriptionUrl}).then(function(a){var c=a.data.replace(/<(?:.|\n)*?>/gm,"");c=c.replace(/\r?\n|\r/g," "),c=c.replace(/\t/g," "),c=c.replace(/        /g," "),c=c.replace(/       /g," "),c=c.replace(/      /g," "),c=c.replace(/     /g," "),c=c.replace(/    /g," "),c=c.replace(/   /g," "),c=c.replace(/  /g," ").trim(),b.descriptionText=c,b.wrappedText=b.wrappedText+" "+b.descriptionText},function(a){console.log("Error evaluating description file...")})})},k=new h.create("miniapp_publications");return{search:function(a){return c.getIdentityDetails().then(function(b){return k.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return j(a),a},function(){return d.reject("Error getting resource")})})},relationSearch:function(a,b,e){return c.getIdentityDetails().then(function(c){return k.relationSearch(a,angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},b),e).then(function(a){return j(a),a},function(){return d.reject("Error getting resource")})})},get:function(a,b){return k.get(a,b).then(function(a){return a})},addMiniApplication:function(a){return c.getIdentityDetails().then(function(b){return k.action({accessProfileId:b.accessProfileId,customerId:b.id},i.addMiniApplication,a).then(function(a){return f.debug("MiniApplication added."),a.content},function(){return f.error("Error adding miniapplication"),d.reject("Błąd dodania miniaplikacji.")})})},deleteMiniApplication:function(a){return c.getIdentityDetails().then(function(b){return k.action({accessProfileId:b.accessProfileId,customerId:b.id},i.deleteMiniApplication,a).then(function(a){return f.debug("MiniApplication deleted."),a.content},function(){return f.error("Error deleting miniapplication"),d.reject("Błąd usunięcia miniaplikacji.")})})},resetToDefaultApplications:function(){return c.getIdentityDetails().then(function(a){return k.action({accessProfileId:a.accessProfileId,customerId:a.id},i.resetToDefaultApplications).then(function(){f.debug("MiniApplications reseted.")},function(){return f.error("Error reseting miniapplication"),d.reject("Błąd ustawiania domyślnych miniaplikacji.")})})}}}]),ebankingSharedModule.service("branchService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("branch");return{search:function(a){return angular.extend({pageNumber:1,pageSize:1e4},a),i.search(a).then(function(a){return a.content})}}}]),ebankingSharedModule.service("cardStatementDistributionTypeService",["resourceServiceFactory",function(a){var b=a.create("card_statement_distribution_type");return{search:function(a){return b.search(a).then(function(a){return a})}}}]),ebankingSharedModule.service("cardStatementsService",["$rootScope","userService","$q","gate","$log","$timeout","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("card_statement");return{search:function(a){return b.getIdentityDetails().then(function(b){return h.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a})})},get:function(a,c){return b.getIdentityDetails().then(function(b){return h.get(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c)).then(function(a){return a})})}}}]),ebankingSharedModule.service("cardTransactionFilterCriteria",["$filter","translate",function(a,b){var c=30,d=new Date,e=new Date((new Date).setDate(d.getDate()-c)),f=e.setHours(0,0,0,0),g=[{disp:b.property("db.cards.transactions.filter.period.date.option.execution"),value:"execution",key:"db.cards.transactions.filter.period.date.option.execution"},{disp:b.property("db.cards.transactions.filter.period.date.option.accounting"),value:"accounting",key:"db.cards.transactions.filter.period.date.option.accounting"}],h=[{disp:b.property("db.cards.transactions.filter.desc.option.all"),value:"",key:"db.cards.transactions.filter.desc.option.all"},{disp:b.property("db.cards.transactions.filter.desc.option.settled"),value:"settled",key:"db.cards.transactions.filter.desc.option.settled"},{disp:b.property("db.cards.transactions.filter.desc.option.unsettled"),value:"unsettled",key:"db.cards.transactions.filter.desc.option.unsettled"},{disp:b.property("db.cards.transactions.filter.desc.option.billing"),value:"billing",key:"db.cards.transactions.filter.desc.option.billing"}],i=[{disp:b.property("db.cards.transactions.filter.operation.option.primary"),value:"primary",key:"db.cards.transactions.filter.operation.option.primary"},{disp:b.property("db.cards.transactions.filter.operation.option.all.extra"),value:"all",key:"db.cards.transactions.filter.operation.option.all.extra"}],j=[{disp:b.property("db.cards.transactions.filter.operation.option.extra"),value:"primary",key:"db.cards.transactions.filter.operation.option.extra"},{disp:b.property("db.cards.transactions.filter.operation.option.all.extra"),value:"all",key:"db.cards.transactions.filter.operation.option.all.extra"}],k={dateFrom:a("dateParam")((new Date).setDate((new Date).getDate()-30)),dateTo:a("dateParam")(new Date,"yyyy-MM-dd"),periodCount:c,operationTitle:"",periodDefinitionType:"last",operationType:h[0].value||null,periodUnitType:"days",sortType:g[0].value||null,limit:"list",creditCardType:i[0].value||null,operationAmountFrom:null,operationAmountTo:null};return{getTransactionFilterInitValues:function(b,c){var d=null==b?new Date:new Date(b),e=angular.copy(k);return null!=d&&d<f&&c!==!0&&(e.periodDefinitionType="range",e.dateFrom=a("dateParam")(new Date(d).setDate(d.getDate()-30))),e},getSortTypeOptionsArray:function(){return g},getCardOperationsTypeOptions:function(){return h},getCreditCardTypeMainOptions:function(){return i},getCreditCardTypeExtraOptions:function(){return j}}}]),ebankingSharedModule.service("cardTransactionService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("card_transaction"),j=function(a){a.displayAmount=a.amount*("DEBIT"==a.side?-1:1),a.displayAccountAmount=a.accountAmount*("DEBIT"==a.side?-1:1)},k=function(a){angular.forEach(a.content,function(a,b){j(a)})};return{search:function(a){return b.getIdentityDetails().then(function(b){return i.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return k(a),a})})},relationSearch:function(a,c,d){return b.getIdentityDetails().then(function(b){return i.relationSearchByPost(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c),d).then(function(a){return k(a),a})})},get:function(a,c){return b.getIdentityDetails().then(function(b){return i.get(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c)).then(function(a){return j(a),a})})},relationGet:function(a,c,d){return b.getIdentityDetails().then(function(b){return i.relationGet(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c),d).then(function(a){return j(a),a})})}}}]),ebankingSharedModule.service("cardsService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i={searchCard:"search_card",cardDetails:"details_card",cardTransaction:"card_transaction",repaymentCreditCard:"card_repayment",changeStatementDistributionType:"change_statement_distribution_type",activateCard:"realize_card_activation",createActivationCard:"create_card_activation",createCardChangePin:"create_change_pin",changeCardPin:"realize_change_pin"},j=[],k=h.create("card");return{get:function(a,c){return b.getIdentityDetails().then(function(b){return k.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return j=a.content,g.returnAll(a.content,function(a){}).then(function(){return a})})})},self:function(a,c){return b.getIdentityDetails().then(function(b){return k.get(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c)).then(function(a){return a})})},repaymentCreditCard:function(a,b){return d.command(i.repaymentCreditCard,b,a).then(function(a){return a},function(a){return e.error("Error creating card repayment"),c.reject(a)})},changeStatementDistributionType:function(a,d){return b.getIdentityDetails().then(function(b){return k.action(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a),i.changeStatementDistributionType,d).then(function(a){return a},function(a){return e.error("Error changing statement distribution type"),c.reject(a)})})},activateCard:function(a,b){return d.command(i.activateCard,b,a).then(function(a){return a},function(a){return e.error("Error activate card"),c.reject(a)})},createActivationCard:function(a,b){return d.command(i.createActivationCard,b,a).then(function(a){return a},function(a){return e.error("Error validate activation card"),c.reject(a)})},createCardChangePin:function(a,b){return d.command(i.createCardChangePin,b,a).then(function(a){return a},function(a){return e.error("Error change pin validation card"),c.reject(a)})},changeCardPin:function(a,b){return d.command(i.changeCardPin,b,a).then(function(a){return a},function(a){return e.error("Error change pin validation card"),c.reject(a)})}}}]),ebankingSharedModule.service("cartCountService",["cartService","events",function(a,b){var c=0,d=function(){a.searchSummary().then(function(a){null!=a&&(b.broadcast("cartModule.cartItemsCountUpdate",a.itemsCount),a.itemsCount>0&&c!=a.itemsCount&&b.broadcast("eb.dashboard.headerUpdate"),c=a.itemsCount)})};return{refreshCartItemsCount:d}}]),ebankingSharedModule.service("cartFilterCriteria",["$filter",function(a){var b=30,c=new Date,d=new Date((new Date).setDate(c.getDate()-b)),e={dateFrom:a("dateParam")(new Date(d.getTime())),dateTo:a("dateParam")(new Date),periodCount:b,periodDefinitionType:"last",pageNumber:1,pageSize:10};return{getCartFilterInitValues:function(){return angular.copy(e)}}}]),ebankingSharedModule.service("cartItemAuthService",["resourceServiceFactory","userService",function(a,b){var c=new a.create("cart_item_auth");return{get:function(a,d){return b.getIdentityDetails().then(function(b){return c.search(angular.extend({id:a,accessProfileId:b.accessProfileId,customerId:b.id},d))})},action:function(a,b,d){return c.action(a,b,d)}}}]),ebankingSharedModule.service("cartService",["$rootScope","$interval","userService","$q","gate","$log","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=new g.create("cart"),i=new g.create("cart_summary");return{search:function(a){return c.getIdentityDetails().then(function(b){return h.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a))})},relationSearch:function(a,b,d){return c.getIdentityDetails().then(function(c){return h.relationSearch(a,angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},b),d)})},searchSummary:function(a){return c.getIdentityDetails().then(function(b){return i.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a))})},action:function(a,b,c){return h.action(a,b,c)}}}]),ebankingSharedModule.service("cashflowFilterCriteria",["$filter","language",function(a,b){var c=new Date;c.setDate(1);var d=function(a,b){var c=new Date(a),d=a.getMonth();return d-b>=0?c.setMonth(d-b):(d+=12,c.setFullYear(a.getFullYear()-1),c.setMonth(d-b)),c},e={currency:"PLN",firstMonth:c,secondMonth:d(c,1),thirdMonth:d(c,2),pageNumber:1,pageSize:1e3,lang:b.get()};return{getCashflowFilterInitValues:function(a){var b=angular.copy(e);return b}}}]),ebankingSharedModule.service("cashflowService",["$rootScope","$interval","userService","$q","gate","$log","customerProductService","events","commonService","resourceServiceFactory","storageItemsService",function(a,b,c,d,e,f,g,h,i,j,k){var l=new j.create("cash_flow"),m=new j.create("last_cash_flows");return{search:function(a){return c.getIdentityDetails().then(function(b){return l.search(angular.extend({accessProfileId:b.accessProfileId},a)).then(function(a){return a},function(){return d.reject("Error getting resource")})})},relationSearch:function(a,b,e){return c.getIdentityDetails().then(function(c){return l.relationSearch(a,angular.extend({accessProfileId:c.accessProfileId},b),e).then(function(a){return a},function(){return d.reject("Error getting resource")})})},get:function(a,b){return l.get(a,b).then(function(a){return a},function(){return d.reject("Error getting resource")})},relationGet:function(a,b,c){return l.relationGet(c,b,a).then(function(a){return a},function(){return d.reject("Error getting resource")})},action:function(a,b,e){return c.getIdentityDetails().then(function(c){return l.action(angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},a),b,e).then(function(a){return a},function(){return d.reject("Error getting resource")})})},searchLastCashflow:function(a){return c.getIdentityDetails().then(function(b){return m.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a},function(){return d.reject("Error getting resource")})})}}}]),ebankingSharedModule.service("checkingNumberService",["resourceServiceFactory",function(a){var b=a.create("checking_number");return b}]),ebankingSharedModule.service("costType",["$rootScope",function(a){var b="SHA",c=[{value:"SHA",key:"sha"},{value:"OUR",key:"our"},{value:"BEN",key:"ben"}];return{getCostTypes:function(){return c},getCostTypeKey:function(b){return a.getObjectFromListBy("value",b,c).key},getDefaultCostType:function(){return b}}}]),ebankingSharedModule.service("countryService",["resourceServiceFactory",function(a){var b=a.create("country");return b}]),ebankingSharedModule.service("creditTransactionService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("credit_transaction");return{search:function(a){return i.search(a)},relationSearch:function(a,b,c){return i.relationSearch(a,b,c)},get:function(a,b){return i.get(a,b)},getSummary:function(a){for(var b,c={balanceAfterLastOperation:0,paymentOutSum:0,paymentInSum:0},d=0,e=0,f=a.content.length-1;f>=0;f--)b=a.content[f],"DEBIT"==b.side?d+=b.repaymentAmount:e+=b.repaymentAmount;return b&&(c.balanceAfterLastOperation=b.balanceAfterOperation),c.paymentOutSum=d,c.paymentInSum=e,c}}}]),ebankingSharedModule.service("creditsService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=new h.create("credit");return{search:function(a){return i.search(a).then(function(a){return g.returnAll(a.content,function(a){return f.getCustomerProductData("CREDIT",a.creditId).then(function(b){a.customerProductData=b})}).then(function(){return a})})},relationSearch:function(a,b,c){return i.relationSearch(a,b,c).then(function(a){return g.returnAll(a.content,function(a){return f.getCustomerProductData("CREDIT",a.creditId).then(function(b){a.customerProductData=b})}).then(function(){return a})})},get:function(a,b){return i.get(a,b).then(function(a){var b=f.getCustomerProductData("CREDIT",a.creditId).then(function(b){a.customerProductData=b||{}});return g.resolveAll([b]).then(function(){return a})})},creditRepayment:function(a,b){return d.command("credit_repayment",b,a).then(function(a){return e.debug("Transfer created."),a},function(){return e.error("Error creating transfer"),c.reject("Błąd utworzenie transferu.")})}}}]),ebankingSharedModule.service("creditsScheduleService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=new h.create("credit_schedule");return i}]),ebankingSharedModule.service("currenciesService",["resourceServiceFactory",function(a){var b=a.create("currencies");return b}]),ebankingSharedModule.service("customerProductService",["$rootScope","userService","$q","gate","$log","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g){function h(d){var f=a.getObjectFromListBy("productType",d,k);return null!=f?c.when(f):(null==l[d]&&(l[d]=b.getIdentityDetails().then(function(a){return m.search({customerId:a.id,accessProfileId:a.accessProfileId,productType:d}).then(function(a){return a.productType=d,k.push(a),a},function(){e.error("Error getting customerProductData")}).finally(function(){delete l[d]})})),l[d])}function i(b,c){return h(b).then(function(d){var e=a.getObjectFromListBy("id",c+"@"+b,d.content);return null==e?(k=[],h(b).then(function(d){return a.getObjectFromListBy("id",c+"@"+b,d.content)})):a.getObjectFromListBy("id",c+"@"+b,d.content)})}var j={customerProductData:"list_customer_product_data",setCustomName:"set_customer_name",removeCustomName:"remove_customer_name",setDefaultAccount:"set_default_account"},k=[],l={},m=new g.create("customer_settings");return{getCustomerProductData:i,updateCustomerProductName:function(a,f){return b.getIdentityDetails().then(function(b){var g={customerId:b.id,accessProfileId:b.accessProfileId,id:a.id,customName:f};return d.command(j.setCustomName,g,a).then(function(a){},function(){return e.error("Error setting customerProductName"),c.reject()})})},removeCustomerProductName:function(a){return b.getIdentityDetails().then(function(b){var c={customerId:b.id,accessProfileId:b.accessProfileId,id:a.id};return d.command(j.removeCustomName,c,a).then(function(a){},function(){return e.error("Error removing customerProductName"),"Błąd usuwania nazwy własnej"})})},setCustomerDefaultAccount:function(a){return b.getIdentityDetails().then(function(b){var c=angular.extend({customerId:b.id,accessProfileId:b.accessProfileId},a);return angular.extend(c,a),d.command(j.setDefaultAccount,c).then(function(a){},function(){return e.error("Error setting default account"),"Błąd konfiguracji rachunku domyślnego"})})},updateCustomerProductData:function(a){for(var b=-1,c=0;c<k.length;c++)k[c].productType==a&&(b=c);return b!=-1&&k.splice(b,1),h(a)}}}]),ebankingSharedModule.service("customerService",["$rootScope","userService","$q","gate","$log","commonService","resourceServiceFactory","language",function(a,b,c,d,e,f,g,h){var i=new g.create("request_change_auth_method"),j=new g.create("get_user_data"),k=new g.create("get_user_data_properties");return{getChangeAuth:function(a,b){return i.search(a,b).then(function(a){return a},function(){return e.error("Error get auth request"),c.reject("Error get auth request.")})},action:function(a,b,d){return i.action(a,b,d).then(function(a){return a},function(a){return c.reject(a)})},getUserData:function(){return b.getIdentityDetails().then(function(a){var b={customerId:a.id,accessProfileId:a.accessProfileId};return j.search(b).then(function(a){return a},function(){return e.error("Error get user data"),c.reject("Error get user data.")})})},getUserDataProperties:function(){var a={language:h.get()};return k.search(a).then(function(a){return a},function(){return e.error("Error get user data properties"),c.reject("Error get user data properties.")})}}}]),ebankingSharedModule.service("depositsService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i={acceptNewDeposit:"accept_create_deposit"},j=new h.create("deposit"),k=new h.create("search_deposit_offer"),l=new h.create("deposit_order"),m=new h.create("deposit_break_order");return{search:function(a){return j.search(a).then(function(a){return g.returnAll(a.content,function(a){return f.getCustomerProductData("DEPOSIT",a.depositId).then(function(b){a.customerProductData=b})}).then(function(){return a})})},get:function(a,b){return j.get(a,b).then(function(a){var b=f.getCustomerProductData("DEPOSIT",a.depositId).then(function(b){a.customerProductData=b||{}});return g.resolveAll([b]).then(function(){return a})})},getOrder:function(a,b){return l.get(a,b).then(function(a){return a})},getBreakOrder:function(a,b){return m.get(a,b).then(function(a){return a})},action:function(a,b,d){return j.action(a,b,d).then(function(a){return a},function(a){return c.reject(a)})},acceptNewDeposit:function(a){return d.command(i.acceptNewDeposit,a).then(function(a){return e.debug("Deposit created."),a.content},function(){return e.error("Error creating deposit"),c.reject("Błąd utworzenie depozytu.")})},breakAction:function(a,b,c){return m.action(a,b,c)},searchOffers:function(a){return k.search(a).then(function(a){return a})},depositRelation:function(a,b,c){return j.relationSearch(a,b,c).then(function(a){return a})},relationSearch:function(a,b,c){return j.relationSearch(a,b,c).then(function(a){return g.returnAll(a.content,function(a){return f.getCustomerProductData(a.productType,a.depositId).then(function(b){a.customerProductData=b})}).then(function(){return a})})}}}]),ebankingSharedModule.service("dispositionModelService",["events",function(a){var b=function(a,b){switch(b.transferType){case"DOMESTIC":angular.extend(a,{description:b.title,cyclicExecution:b.cyclicExecution||!1,cyclicExecutionPeriodType:b.cyclicExecutionPeriodType,cyclicExecutionPeriod:b.cyclicExecutionPeriod,cyclicExecutionEndDate:b.cyclicExecutionEndDate,recipientAddress:b.recipientAddress});break;case"OWN":angular.extend(a,{description:b.title,cyclicExecution:b.cyclicExecution||!1,cyclicExecutionPeriodType:b.cyclicExecutionPeriodType,cyclicExecutionPeriod:b.cyclicExecutionPeriod,cyclicExecutionEndDate:b.cyclicExecutionEndDate});break;case"SEPA":angular.extend(a,{description:b.title,informationProvider:b.paymentDetails.informationProvider,phoneNumber:b.paymentDetails.phoneNumber,recipientAddress:b.recipientAddress,recipientSwift:b.paymentDetails.recipientSwift});break;case"SWIFT":angular.extend(a,{description:b.title,currency:b.currency,additionalInfo:b.paymentDetails.additionalInfo,informationProvider:b.paymentDetails.informationProvider,phoneNumber:b.paymentDetails.phoneNumber,costType:b.paymentDetails.costsType,recipientAddress:b.recipientAddress,recipientSwift:b.paymentDetails.recipientSwift,recipientBankCountryCode:b.paymentDetails.foreignCountryCode,recipientBankName:b.paymentDetails.bankDetails,swiftCheckbox:null!=b.paymentDetails.recipientSwift?1:0});break;case"INSURANCE":angular.extend(a,{dispositionName:b.dispositionName,currency:b.currency,decisionNo:b.paymentDetails.decisionNo,declarationDate:b.paymentDetails.declaration,declarationNo:b.paymentDetails.declarationNo,nip:b.paymentDetails.nip,paymentType:b.paymentDetails.paymentType,secondaryIdNo:b.paymentDetails.secondIDNo,secondaryIdType:b.paymentDetails.secondIDType});break;case"TAX":angular.extend(a,{description:b.title,formCode:b.paymentDetails.formCode,idType:b.paymentDetails.idtype,idTypeModel:"",idNumber:b.paymentDetails.idnumber,periodType:b.paymentDetails.periodType,periodNo:b.paymentDetails.periodNumber,periodYear:b.paymentDetails.periodYear,obligationId:b.paymentDetails.obligationId,recipientName:angular.isArray(b.recipientName)?b.recipientName.join(" "):b.recipientName,recipientAddress:angular.isArray(b.recipientAddress)?b.recipientAddress.join(" "):b.recipientAddress});break;case"PHONE_TOP_UP":angular.extend(a,{amount:b.amount,currency:b.currency,operatorId:b.paymentDetails.paymentOperatorId,phoneNumber:b.paymentDetails.prepaidPhoneNumber,repeatedPhoneNumber:b.paymentDetails.prepaidPhoneNumber})}};return{getModelFromDisposition:function(a,c){var d={};switch(c){case"TRANSFER":case"STANDING_ORDER":d={recipientName:a.recipientName,recipientAddress:a.recipientAddress,originPaymentOrderId:a.id,remitterId:a.remitterId,templateId:a.templateId,remitterAccountId:a.accountId,recipientAccountNo:a.recipientAccountNo,amount:a.amount,realizationDate:new Date(a.realizationDate)<new Date?new Date:a.realizationDate,transferFromTemplate:null!=a.templateId,sendBySorbnet:!(!a.clearingSystemType||"SORBNET"!=a.clearingSystemType)},b(d,a)}return d}}}]),ebankingSharedModule.value("dispositionWayDictionary",[{id:0,key:"RENEWAL_WITH_INTEREST",label:"db.deposits.deposition.way.select.RENEWAL_WITH_INTEREST"},{id:1,key:"RENEWAL_NO_INTEREST",label:"db.deposits.deposition.way.select.RENEWAL_NO_INTEREST"},{id:2,key:"NO_RENEWAL",label:"db.deposits.deposition.way.select.NO_RENEWAL"}]),ebankingSharedModule.service("domesticBanksService",["resourceServiceFactory",function(a){return a.create("domestic_banks").withCache()}]),ebankingSharedModule.service("exchangeRatesService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("exchange_rates");return i}]),ebankingSharedModule.service("foreignBanksService",["resourceServiceFactory",function(a){var b=new a.create("foreign_banks");return b}]),ebankingSharedModule.service("fundsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("funds_register"),i=g.create("tfi"),j=g.create("fund"),k=g.create("source_of_assets"),l=g.create("fund_category"),m=g.create("fund_disposition"),n=g.create("fund_transaction"),o=g.create("fund_disposition_summary"),p=g.create("fund_transaction_summary"),q=g.create("plenipotentiary");return{search:function(a){return b.getIdentityDetails().then(function(b){return h.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a})})},getRegister:function(a,c){return b.getIdentityDetails().then(function(b){return h.get(a,angular.extend({customerId:b.id},c)).then(function(a){return a})})},searchTFI:function(a){return i.search(a).then(function(a){return a})},searchSourcesOfAssets:function(a){return k.search(a).then(function(a){return a})},searchTFIOffer:function(a){return j.search(a).then(function(a){return a})},searchFundCategory:function(a){return l.search(a).then(function(a){return a})},relationTFIOfferHistorySearch:function(a,b,c){return j.relationSearch(a,b,c).then(function(a){return a})},getTFIOffer:function(a,b){return j.get(a,b).then(function(a){return a})},getTFI:function(a,b){return i.get(a,b).then(function(a){return a})},searchFundDisposition:function(a){return m.search(a).then(function(a){return a})},get:function(a,c){return b.getIdentityDetails().then(function(b){return h.get(a,angular.extend({customerId:b.id},c)).then(function(a){return a})})},getDisposition:function(a,b){return m.get(a,b).then(function(a){return a})},action:function(a,c,d){return b.getIdentityDetails().then(function(b){return h.action(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a),c,d)})},fundTransactionAction:function(a,b,c){return n.action(a,b,c)},getRegistryOpening:function(a,b,c){return n.relationSearch(a,b,c).then(function(a){return a})},getFundTransaction:function(a,b){return n.get(a,b).then(function(a){return a})},searchFundDispositionSummary:function(a){return o.search(a).then(function(a){return a})},searchFundTransactionSummary:function(a){return p.search(a).then(function(a){return a})},searchFundTransactionOpeningSummary:function(a,b,c){return p.relationSearch(a,b,c).then(function(a){return a})},getPlenipotentiary:function(a){return q.search(a).then(function(a){return a})}}}]),ebankingSharedModule.service("fundsSummaryService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory","fundsService",function(a,b,c,d,e,f,g,h){return h}]),ebankingSharedModule.service("fundsTransactionsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory","fundsService",function(a,b,c,d,e,f,g,h){var i=g.create("fund_transaction");return i}]),ebankingSharedModule.service("fundsDispositionsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory","fundsService",function(a,b,c,d,e,f,g,h){var i=g.create("fund_disposition");return i}]),ebankingSharedModule.service("ibanAccountsService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory","staticFind",function(a,b,c,d,e,f,g,h,i){var j=h.create("iban_account");return{search:function(a){return j.search(a).then(function(a){return a})},get:function(a,b){return j.get(a,b).then(function(a){return a})},relationSearch:function(a,b,c){return j.relationSearch(a,b,c).then(function(a){return a})},action:function(a,b,c){return accountsService.action(a,b,c)}}}]),ebankingSharedModule.service("mobileOperatorsService",["resourceServiceFactory",function(a){var b=a.create("mobile_operator");return b}]),ebankingSharedModule.service("notificationFilterCriteria",["$filter","language",function(a,b){var c=30,d=new Date,e=(new Date((new Date).setDate(d.getDate()-c)),{dateFrom:a("dateParam")((new Date).setDate((new Date).getDate()-30)),dateTo:a("dateParam")(new Date),periodCount:c,text:"",notificationDirection:null,notificationTypeId:null,notificationStatus:null,groupId:null,periodDefinitionType:"last",periodUnitType:"days",pageNumber:1,pageSize:10,language:b.get()});return{getNotificationFilterInitValues:function(a){var b=angular.copy(e);return b}}}]),ebankingSharedModule.service("notificationService",["$modal","$state","translate","viewStateService","cartCountService","dispositionModelService","logoutService",function(a,b,c,d,e,f,g){return{showPasswordChangedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ success }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),success:c.property(d.text.success),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showPasswordChangedErrorDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{::confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.change),make:function(){e.dismiss(),b.go(d.state.settingsAccess)}}],confirmationText:d.text.errorMessage})}]})},showPaymentRealizationDialog:function(e,g){var h=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var i="eb-icon-confirm-success success",j="";
switch(e.status){case"REJECTED":i="eb-icon-confirm-error error",j=c.property(g.text.confirmationTextRejected)+" "+e.lastRealizationDesc;break;case"REALIZED":i="eb-icon-confirm-success success",j=c.property(g.text.confirmationTextRealized);break;case"IN_PROGRESS":i="eb-icon-confirm-success success",j=c.property(g.text.confirmationTextInProgress);break;case"ACCEPT_FAILED":i="eb-icon-confirm-error error",j=c.property(g.text.confirmationTextRejected)+c.property(g.text.confirmationRejectionKey);break;default:i="eb-icon-confirm-success success",j=c.property(g.text.confirmationTextDefault)}angular.extend(a,{title:c.property(g.text.title),cancel:function(){h.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(g.text.createNew),make:function(){h.dismiss(),b.go(g.state.paymentsForm)}}],icoClass:i,confirmationText:j});var k=["DOMESTIC","SEPA","SWIFT","TAX","INSURANCE"];"ACCEPT_FAILED"!=e.status&&"REJECTED"!=e.status&&k.indexOf(g.state.paymentDetails.transferType)!=-1?a.choices.push({type:"full-text",name:c.property(g.text.save),make:function(){d.setInitialState(g.state.templatesForm,{isNew:!0}),d.addFormData(g.state.templatesForm,"templateForm",{resetPeriodOnZeroAvailableChange:!1,isEditInit:!0,formType:g.state.paymentDetails.transferType,formModel:f.getModelFromDisposition(g.state.paymentDetails,"TRANSFER")}),h.dismiss(),b.go(g.state.templatesForm)}}):a.choices.push({type:"full-text",name:c.property(g.text.back),make:function(){h.dismiss(),b.go(g.state.dashboard)}})}]})},showTopUpAcceptedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(d.text.createNew),make:function(){e.dismiss(),b.go(d.state.back,{currentObject:d.state.prepaidForm})}},{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showTopUpNotCancelledDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(d.text.createNew),make:function(){e.dismiss(),b.go(d.state.back,{currentObject:d.state.prepaidForm})}},{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showTopUpRejectedDialog:function(b){var d=a.open({template:'<eb-confirmation-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-on-confirm="cancel()" eb-action-name="{{ confirmText }}"></eb-confirmation-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(b.text.title),message:c.property(b.text.message),confirmText:c.property(b.text.confirm),cancel:function(){d.dismiss()}})}]})},showCardRepaymenttAcceptedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.confirmAction),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showFatcaChangedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showStatementDistributionChangedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showTemplateDeletedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showTemplatesImportedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showTemplateCreatedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var f="eb-icon-confirm-success success",g=c.property(d.text.confirmationText);angular.extend(a,{title:c.property(d.text.title),cancel:function(){e.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(d.text.createNew),make:function(){e.dismiss(),b.go(d.state.templatesForm)}},{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}],icoClass:f,confirmationText:g})}]})},showTemplateEditedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.confirmationText),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showPaymentEditedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.confirmationText),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showPaymentCancelledDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.confirmationText),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showPaymentCancellationErrorDialog:function(b){var d=a.open({template:'<eb-confirmation-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-on-confirm="cancel()" eb-action-name="{{ confirmText }}"></eb-confirmation-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(b.text.title),message:c.property(b.text.message),confirmText:c.property(b.text.confirm),cancel:function(){d.dismiss()}})}]})},showTopUpWarningDialog:function(b){var d=a.open({template:'<eb-confirmation-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-on-confirm="cancel()" eb-action-name="{{ confirmText }}"></eb-confirmation-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(b.text.title),message:c.property(b.text.message),confirmText:c.property(b.text.confirm),cancel:function(){d.dismiss()}})}]})},showRegisterCreatedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var f="eb-icon-confirm-success success",g=c.property(d.text.confirmationText);angular.extend(a,{title:c.property(d.text.title),cancel:function(){e.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(d.text.createNew),make:function(){e.dismiss(),b.go(d.state.registerForm)}},{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}],icoClass:f,confirmationText:g})}]})},showUnitsAquisitionDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var f="eb-icon-confirm-success success",g=c.property(d.text.confirmationText);angular.extend(a,{title:c.property(d.text.title),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}],icoClass:f,confirmationText:g})}]})},showRegisterConvertedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showTransactionCancelledDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showRegisterAcquittedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showDefaultAccountChangedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showDispositionBasketInsertDialog:function(d){e.refreshCartItemsCount();var f=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmation}}" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",keyboard:!1,backdrop:"static",controller:["$scope",function(a){var e="eb-icon-confirm-success success";angular.extend(d.text,{title:"db.payments.new.step2.confirmation.title",back:"platform.component.basket_insert.back",confirmation:"platform.component.basket_insert.confirmation"});var g=[{type:"full-text",name:c.property(d.text.back),make:function(){f.dismiss(),b.go(d.state.dashboard)}}];null!=d.state.createNewState&&g.unshift({type:"full-rounded positive primary",name:c.property(d.text.createNewLabel),make:function(){f.dismiss(),b.go(d.state.createNewState,{},{reload:!0})}}),angular.extend(a,{title:c.property(d.text.title),confirmation:c.property(d.text.confirmation),choices:g,icoClass:e})}]})},showBasketItemAcceptedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmation}}" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",keyboard:!1,backdrop:"static",controller:["$scope",function(a){var f="eb-icon-confirm-success success";angular.extend(d.text,{title:"db.payments.new.step2.confirmation.title",back:"platform.component.basket_insert.back"});var g=[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}];null!=d.state.createNewState&&g.unshift({type:"full-rounded positive primary",name:c.property(d.text.createNewLabel),make:function(){e.dismiss(),b.go(d.state.createNewState,{},{reload:!0})}}),angular.extend(a,{title:c.property(d.text.title),confirmation:c.property(d.text.confirmation),choices:g,icoClass:f})}]})},showCardPinChangedDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message-array="message" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:[c.property(d.text.confirmationText),c.property(d.text.confirmationText2)+" "+d.text.cardNo,c.property(d.text.confirmationText3)],cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showCardPinChangedErrorDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message-array="message" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:[c.property(d.text.confirmationText)+" "+d.text.cardNo,c.property(d.text.confirmationText2)],cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showPaybylinkCancelDialog:function(b){console.log(b);var d=a.open({template:'<eb-choice-dialog eb-title="{{title}}" eb-message="{{confirmationText}}" eb-choices="choices" eb-on-close="cancel()"></eb-choice-dialog>',windowClass:"eb-choice-dialog yes-no",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var e="eb-icon-confirm-success success",f=c.property(b.text.message);a.cancel=function(){d.dismiss()},angular.extend(a,{title:c.property(b.text.title),choices:[{type:"full-rounded positive primary",name:c.property(b.text.yes),make:function(){b.action.cancelCallback()}},{type:"full-text",name:c.property(b.text.no),make:function(){d.dismiss()}}],icoClass:e,confirmationText:f})}]})},showCardActivatedDialog:function(e){var f=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message-array="message" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(e.text.title),message:[c.property(e.text.confirmationText),c.property(e.text.confirmationText2)+" "+e.text.cardNo+". "+c.property(e.text.confirmationText3)],cancel:function(){f.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(e.text.newPin),make:function(){f.dismiss(),d.setInitialState("de.cards.newPin",e.object.card),b.go("de.cards.newPin")}},{type:"full-text",name:c.property(e.text.back),make:function(){f.dismiss(),b.go(e.state.dashboard)}}]})}]})},showCardActivatedErrorDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message-array="message" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:[c.property(d.text.confirmationText),d.text.cardNo+". "+c.property(d.text.confirmationText2)],cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showOperationdUnavaiableInPassiveModeDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showSmsActicationSuccessDialog:function(d){var e=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-success success" eb-title="{{ title }}" eb-message="{{ message }}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){angular.extend(a,{title:c.property(d.text.title),message:c.property(d.text.message),cancel:function(){e.dismiss()},choices:[{type:"full-text",name:c.property(d.text.back),make:function(){e.dismiss(),b.go(d.state.dashboard)}}]})}]})},showNewPaymentAdviseDialog:function(d,e){var f=a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var g="eb-icon-confirm-success success",h="";switch(d.status){case"REJECTED":g="eb-icon-confirm-error error",h=c.property(e.text.confirmationTextRejected)+" "+d.lastRealizationDesc;break;case"REALIZED":g="eb-icon-confirm-success success",h=c.property(e.text.confirmationTextRealized);break;case"IN_PROGRESS":g="eb-icon-confirm-success success",h=c.property(e.text.confirmationTextInProgress);break;case"ACCEPT_FAILED":g="eb-icon-confirm-error error",h=c.property(e.text.confirmationTextRejected)+c.property(e.text.confirmationRejectionKey);break;default:g="eb-icon-confirm-success success",h=c.property(e.text.confirmationTextDefault)}angular.extend(a,{title:c.property(e.text.title),cancel:function(){f.dismiss()},choices:[{type:"full-rounded positive primary",name:c.property(e.text.createNew),make:function(){f.dismiss(),b.go(e.state.paymentsForm)}},{type:"full-text",name:c.property(e.text.back),make:function(){f.dismiss(),b.go(e.state.dashboard)}}],icoClass:g,confirmationText:h})}]})},showVBKlipDialog:function(b){a.open({template:'<eb-choice-dialog eb-icon="{{::icoClass}}" eb-title="{{title}}" eb-message="{{confirmationText}}" eb-on-close="cancel()" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",backdrop:"static",controller:["$scope",function(a){var d="eb-icon-confirm-error error",e=c.property(b.text.confirmationText);angular.extend(a,{title:c.property(b.text.title),cancel:function(){g.logout()},choices:[{type:"full-rounded positive primary",name:c.property(b.text.cancel),make:function(){g.logout()}}],icoClass:d,confirmationText:e})}]})},showSepaRealizationDialog:function(b){var d=a.open({template:'<eb-choice-dialog eb-icon="eb-icon-confirm-error error" eb-title="{{ title }}" eb-message="{{ message }}" eb-choices="choices"></eb-choice-dialog>',windowClass:"eb-choice-dialog",backdropClass:"always-on",controller:["$scope",function(a){var e=b.param?[{type:"full-rounded positive primary",name:c.property(b.text.ok),make:function(){d.dismiss(),b.callback()}},{type:"full-text",name:c.property(b.text.cancel),make:function(){d.dismiss()}}]:[{type:"full-rounded positive primary",name:c.property(b.text.ok),make:function(){d.dismiss()}}];angular.extend(a,{title:c.property(b.text.title),message:c.property(b.text.message),choices:e})}]})}}}]),ebankingSharedModule.value("notificationStatusDictionary",[{id:1,label:"eb.notification.status.select.read_and_unread",key:"ALL"},{id:2,label:"eb.notification.status.select.read",key:"READ"},{id:3,label:"eb.notification.status.select.unread",key:"NOT_READ"}]),ebankingSharedModule.value("notificationTypesDictionary",[{id:0,label:"eb.notification.type.select.all",key:"ALL"},{id:1,label:"eb.notification.type.select.bank_notif",key:"BANK_NOTIFICATION"},{id:2,label:"eb.notification.type.select.sys_notif",key:"SYSTEM_NOTIFICATION"}]),ebankingSharedModule.value("notificationWayDictionary",[{id:0,label:"eb.notification.way.select.income_and_send",key:"ALL"},{id:1,label:"eb.notification.way.select.income",key:"INCOMING"},{id:2,label:"eb.notification.way.select.outgoing",key:"OUTGOING"}]),ebankingSharedModule.service("notificationsService",["$rootScope","$interval","userService","$q","gate","$log","customerProductService","events","commonService","resourceServiceFactory","storageItemsService",function(a,b,c,d,e,f,g,h,i,j,k){var l=new j.create("notification"),m=new j.create("notification_group"),n=new j.create("notification_summary"),o=new j.create("notification_order");return{search:function(a){return c.getIdentityDetails().then(function(b){return l.searchByPost(angular.extend({accessProfileId:b.accessProfileId},a)).then(function(a){return a})})},relationSearch:function(a,b,d){return c.getIdentityDetails().then(function(c){return l.relationSearchByPost(a,angular.extend({accessProfileId:c.accessProfileId},b),d).then(function(a){return a})})},get:function(a,b){return c.getIdentityDetails().then(function(c){return l.get(a,angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},b)).then(function(a){return a})})},relationGet:function(a,b,d){return c.getIdentityDetails().then(function(c){return l.relationGet(d,angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},b),a).then(function(a){return a})})},action:function(a,b,e){return c.getIdentityDetails().then(function(c){return l.action(angular.extend({accessProfileId:c.accessProfileId,customerId:c.id},a),b,e).then(function(a){return a},function(){return d.reject("Błąd serwera")})})},searchGroup:function(a){return m.search(a).then(function(a){return a})},searchSummary:function(a){return c.getIdentityDetails().then(function(b){return n.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a})})},getOrder:function(a,b){return o.get(a,b).then(function(a){return a})}}}]),ebankingSharedModule.service("paybylinkService",["resourceServiceFactory","paymentsService","sessionService","logoutService","$q","$filter","gate",function(a,b,c,d,e,f,g){var h=a.create("paybylink_request"),i=a.create("paybylink_session_init_requests");return{paybylinkRequest:null,paybylinkSession:null,paybylinkPaymentId:null,beginProcess:function(){var a=this;return i.search().then(function(c){return a.paybylinkSession=c.content[0],h.action({providerType:a.paybylinkSession.providerType,paymentParams:a.paybylinkSession.paymentParams,receivedDate:f("dateParam")(a.paybylinkSession.receivedDate),paymentInitiatorAddress:a.paybylinkSession.originIpAddress},"create_paybylink_request").then(function(c){return a.paybylinkRequest=c,a.endProcess().then(function(){return b.action({requestId:a.paybylinkRequest.content},"create_paybylink_transfer").then(function(b){return a.paybylinkPaymentId=b.content,a.paybylinkPaymentId},function(){return a.endProcess()})})},function(b){var c=null;return b&&(c=b.errors&&b.errors.length>0&&b.errors[0].code?b.errors[0].code:b.code?b.code:"error.paybylink.unknown_service_provider"),a.endProcess(c)})},function(){return a.endProcess()})},getDetails:function(){return h.relationGet(this.paybylinkRequest)},endProcess:function(a){var b=this;return a?(b.errorMessage=a,e.reject(a)):b.getDetails().then(function(a){return null!=a.errorSymbol?(b.infoRedirect=!0,e.reject(a)):a.redirectionAddress?b.redirect(a.redirectionAddress,a.providerAttributes):void 0})},cancelProcess:function(){var a=this;return b.action({requestId:this.paybylinkRequest.content,paymentId:this.paybylinkPaymentId},"cancel_paybylink_transfer").then(function(b){return a.endProcess()})},redirect:function(a,b,d){return c.destroyUserSession().then(function(){d||(d="redirectFormContainer");var c="";c+='<form id="redirectForm" method="post" action="'+a+'">',angular.forEach(b,function(a,b){c+='<input name="'+b+'" type="hidden" value="'+a+'" />'}),c+="</form>",document.getElementById(d).innerHTML=c;var e=document.getElementById("redirectForm");return e&&e.submit(),null})},isProcessInvalid:function(){var a=e.defer();return a[this.infoRedirect||this.errorMessage?"resolve":"reject"](),a.promise},isProcessValid:function(){var a=e.defer();return a[this.infoRedirect||this.errorMessage?"reject":"resolve"](),a.promise},returnToProcess:function(a){var b=this,c=e.defer();return i.search().then(function(d){b.paybylinkSession=d.content[0];var e={paymentId:a};h.search(e).then(function(a){b.paybylinkRequest=a.content[0],c.resolve()},function(a){c.reject(a)})},function(a){c.reject(a)}),c.promise}}}]),ebankingSharedModule.service("paymentsAdviceNoteSummaryService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("payment_advice_note_summary");return{search:function(a){return b.getIdentityDetails().then(function(b){return h.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a})})}}}]),ebankingSharedModule.service("paymentsAdviceNoteConditionsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("payment_advice_note_conditions");return{get:function(a){return h.search(a).then(function(a){return null!=a&&null!=a.content?a.content[0]:null})}}}]),ebankingSharedModule.service("paymentsAdviceNotesService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("payment_advice_note");return{search:function(a){return b.getIdentityDetails().then(function(b){return h.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a})})},relationSearch:function(a,c,d){return b.getIdentityDetails().then(function(b){return h.relationSearch(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c),d).then(function(a){return a})})},get:function(a,b){return h.get(a,b).then(function(a){return a})},action:function(a,b,c){return h.action(a,b,c)}}}]),ebankingSharedModule.service("paymentType",["$rootScope","gate","$q",function(a,b,c){var d,e="DOMESTIC",f=[],g=b.hasRelation("create_domestic_transfer").then(function(a){d=a});f.push(g);var h,i=b.hasRelation("create_swift_transfer").then(function(a){h=a});f.push(i);var j,k=b.hasRelation("create_sepa_transfer").then(function(a){j=a});f.push(k);var l,m=b.hasRelation("create_between_own_accounts_transfer").then(function(a){l=a});f.push(m);var n,o=b.hasRelation("create_target2_transfer").then(function(a){n=a});f.push(o);var p,q=b.hasRelation("create_tax_transfer").then(function(a){p=a});f.push(q);var r,s=b.hasRelation("create_insurance_transfer").then(function(a){r=a});f.push(s);var t,u=b.hasRelation("list_available_transfer_types").then(function(a){t=a});f.push(u);var v=function(){var a=[];return d&&a.push({value:"DOMESTIC",key:"db.payments.content.list.collapse.transfer_type.domestic"}),h&&a.push({value:"OWN",key:"db.payments.content.list.collapse.transfer_type.own"}),j&&a.push({value:"SEPA",key:"db.payments.content.list.collapse.transfer_type.sepa"}),l&&a.push({value:"SWIFT",key:"db.payments.content.list.collapse.transfer_type.swift"}),p&&a.push({value:"TAX",key:"db.payments.content.list.collapse.transfer_type.tax"}),r&&a.push({value:"INSURANCE",key:"db.payments.content.list.collapse.transfer_type.insurance"}),n&&a.push({value:"TARGET2",key:"db.payments.content.list.collapse.transfer_type.target2"}),a};return{getPaymentTypes:function(){return c.all(f).then(function(){var a=v();return t?b.query("list_available_transfer_types").then(function(b){var c=[],d=[];angular.forEach(b.content,function(a){d.push(a.content)});for(var e=0;e<a.length;e++)d.indexOf(a[e].value)!=-1&&c.push(a[e]);return c}):a})},getPaymentTypeKey:function(b){switch(b){case"CARD_DEBT":return"db.payments.content.list.collapse.transfer_type.card_debt";case"REPAYMENT":return"db.payments.content.list.collapse.transfer_type.repayment";default:a.getObjectFromListBy("value",b,v()).key}},getDefaultPaymentType:function(){return e}}}]),ebankingSharedModule.service("paymentsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("payments"),i=function(a){"OWN"==a.transferType?a.displayAmount=a.amount:a.displayAmount=a.amount*-1};return{search:function(a){return h.search(a).then(function(a){for(var b=a.content.length-1;b>=0;b--)i(a.content[b]);return a})},relationSearch:function(a,b,c){return h.relationSearch(a,b,c).then(function(a){for(var b=a.content.length-1;b>=0;b--)i(a.content[b]);return a})},get:function(a,b){return h.get(a,b).then(function(a){return i(a),a})},action:function(a,b,c){return h.action(a,b,c)}}}]),ebankingSharedModule.service("paymentsSummaryService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){
var h=g.create("payment_summary");return h}]),ebankingSharedModule.service("paymentModificationsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("payment_modifications");return{get:function(a,b){return h.get(a,b).then(function(a){return a})},action:function(a,b,c){return h.action(a,b,c)}}}]),ebankingSharedModule.service("paymentCancellationsService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("payment_cancellations");return{get:function(a,b){return h.get(a,b).then(function(a){return a})},action:function(a,b,c){return h.action(a,b,c)}}}]),ebankingSharedModule.service("paymentCheckService",["resourceServiceFactory",function(a){var b=a.create("payment_check");return b}]),ebankingSharedModule.service("prepaidConfService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("prepaid_conf");return{search:function(a){return h.search(a).then(function(a){return a})}}}]),ebankingSharedModule.service("prepaidLogoService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){var h=g.create("prepaid_logo");return{search:function(a){return h.search(a).then(function(a){return a})}}}]),ebankingSharedModule.service("prepaidConfirmationService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory",function(a,b,c,d,e,f,g){return g.create("prepaid_confirmation")}]),ebankingSharedModule.service("prepaidService",["$rootScope","userService","$q","gate","$log","customerProductService","resourceServiceFactory","httpService","commonService",function(a,b,c,d,e,f,g,h,i){var j={createPrepaidTransfer:"create_prepaid_transfer",acceptPrepaidTransfer:"accept_prepaid_transfer",cancelPrepaidTransfer:"cancel_prepaid_transfer"},k=g.create("prepaid"),l=g.create("prepaid_count");return{search:function(a){return k.search(a).then(function(a){return i.returnAll(a.content,function(a){return f.getCustomerProductData("ACCOUNT",a.senderAccountId).then(function(b){a.senderAccountName=null!=b?b.customName:""})}).then(function(){return a})})},createPrepaidTransfer:function(a){return b.getIdentityDetails().then(function(b){return k.action(a,j.createPrepaidTransfer).then(function(a){return e.debug("Transfer created."),a.content},function(a){return e.error("Error creating transfer"),c.reject(a)})})},get:function(a,b){return k.get(a,b)},relationSearch:function(a,b,c){return k.relationSearch(a,b,c)},action:function(a,b,c){return k.action(a,b,c)},acceptPrepaidTransfer:function(a,b){return k.action(a,j.acceptPrepaidTransfer,b).then(function(){e.debug("Preapid transfer accepted.")},function(){return e.error("Error accepting prapaid transfer."),c.reject("Błąd akceptacji doladowania.")})},cancelPrepaidTransfer:function(a,b){return k.action(a,j.cancelPrepaidTransfer,b).then(function(){e.debug("Preapid transfer accepted.")},function(){return e.error("Error accepting prapaid transfer."),c.reject("Błąd akceptacji doladowania.")})},getPrepaidCount:function(a){return l.search(a)}}}]),ebankingSharedModule.service("prepaidSupplierService",["resourceServiceFactory","$log","$q",function(a,b,c){var d=a.create("prepaid_supplier");return{search:function(a){return d.search(a).then(function(a){return a},function(a){b.error("Error searching prepaid supplier"),c.reject(a)})}}}]),ebankingSharedModule.service("recipientsService",["resourceServiceFactory","userService","$q",function(a,b,c){var d=new a.create("recipient"),e=new a.create("template_order"),f=new a.create("template_import");return{action:function(a,b,e){return d.action(a,b,e).then(function(a){return a},function(a){return c.reject(a)})},templateOrderGet:function(a,b){return e.get(a,b).then(function(a){return a})},templateOrderAction:function(a,d,f){return b.getIdentityDetails().then(function(b){var g=angular.extend(a,{customerId:b.id,accessProfileId:b.accessProfileId});return e.action(g,d,f).then(function(a){return a},function(a){return c.reject(a)})})},get:function(a,b){return d.get(a,b).then(function(a){return a})},search:function(a){return b.getIdentityDetails().then(function(b){var c=angular.extend(a,{customerId:b.id,accessProfileId:b.accessProfileId});return d.search(c).then(function(a){return a})})},relationSearch:function(a,c,e){return b.getIdentityDetails().then(function(b){angular.extend(c,{customerId:b.id,accessProfileId:b.accessProfileId});return d.relationSearch(a,c,e).then(function(a){return a})})},templateImportGet:function(a,b){return f.get(a,b).then(function(a){return a})},templateImportAction:function(a,d,e){return b.getIdentityDetails().then(function(b){var g=angular.extend(a,{customerId:b.id,accessProfileId:b.accessProfileId});return f.action(g,d,e).then(function(a){return a},function(a){return c.reject(a)})})}}}]),ebankingSharedModule.factory("resourceServiceFactory",["$q","userService","gate","$log",function(a,b,c,d){var e=function(){function e(a,b){this.resource=a,this.cachedFields=[],null!=b&&angular.isArray(b)&&(this.cachedFields=b.sort())}function f(){this.cache={}}function g(){return this.enableCache(),this}function h(){this.cache=void 0}function i(b,c){var d=a.defer();if(this.cache){var e=this.cache[this.generateCacheKey(b,c)];e?d.resolve(e):d.resolve()}else d.resolve();return d.promise}function j(a,b,c){this.cache[this.generateCacheKey(b,c)]=a}function k(e){var f=this;return this.checkCache(e).then(function(g){return g?g:b.getIdentityDetails().then(function(b){return c.query(f.resource,angular.extend({customerId:b.id},e)).then(function(a){return f.cache&&f.setCache(a,e),a},function(){return d.error("Error getting "+f.resource),a.reject("Error getting resource")})})})}function l(e){var f=this;return this.checkCache(e).then(function(g){return g?g:b.getIdentityDetails().then(function(b){return c.command(f.resource,angular.extend({customerId:b.id},e)).then(function(a){return f.cache&&f.setCache(a,e),a},function(){return d.error("Error getting "+f.resource),a.reject("Error getting resource")})})})}function m(b,e){var f=this;return this.checkCache(e,b).then(function(g){return g?g:c.get(f.resource,b,e).then(function(a){return f.cache&&f.setCache(a,e,b),a},function(){return d.error("Error getting "+f.resource),a.reject("Error getting resource")})})}function n(b,e,f){var g=this;return c.command(e,b,f).then(function(a){return a},function(b){return d.error("Error executing "+g.resource),a.reject(b)})}function o(e,f,g){var h="self";return null!=g&&(h=g),b.getIdentityDetails().then(function(b){return c.command(h,angular.extend({customerId:b.id},f),e).then(function(a){return a},function(){return d.error("Error performing relation search"),a.reject("Error performing relation search")})})}function p(e,f,g){var h="self";return null!=g&&(h=g),b.getIdentityDetails().then(function(b){return c.query(h,angular.extend({customerId:b.id},f),e).then(function(a){return a},function(){return d.error("Error performing relation search"),a.reject("Error performing relation search")})})}function q(b,e,f){var g=this,h="self";return null!=f&&(h=f),c.query(h,e,b).then(function(a){return a},function(){return d.error("Error performing relation get "+g.resource),a.reject("Error performing relation get")})}return e.prototype.get=function(a,b){return m.call(this,a,b).then(function(a){return a})},e.prototype.search=function(b){var c=this;return k.call(this,b).then(function(a){return a},function(){return d.error("Error getting "+c.resource),a.reject("Error getting resource")})},e.prototype.searchByPost=function(b){var c=this;return l.call(this,b).then(function(a){return a},function(){return d.error("Error getting "+c.resource),a.reject("Error getting resource")})},e.prototype.action=function(a,b,c){return n.call(this,a,b,c).then(function(a){return a})},e.prototype.relationSearch=function(a,b,c){return p.call(this,a,b,c).then(function(a){return a})},e.prototype.relationSearchByPost=function(a,b,c){return o.call(this,a,b,c).then(function(a){return a})},e.prototype.relationGet=function(a,b,c){return q.call(this,a,b,c).then(function(a){return a})},e.prototype.enableCache=function(){f.call(this)},e.prototype.withCache=function(){return g.call(this)},e.prototype.disableCache=function(){h.call(this)},e.prototype.generateCacheKey=function(a,b){return(this.resource?this.resource:"no_resource")+"_"+(a?JSON.stringify(a):"no_params")+"_"+b},e.prototype.checkCache=function(a,b){return i.call(this,a,b)},e.prototype.setCache=function(a,b,c){return j.call(this,a,b,c)},e}();return{create:function(a,b){return new e(a,b)}}}]),ebankingSharedModule.service("scheduleFilterCriteria",["$filter",function(a){var b=15,c={periodCount:b,operationTitle:null,periodDefinitionType:"last",operationType:"",periodUnitType:"days"};return{getScheduleFilterInitValues:function(a){var b=angular.copy(c);return b}}}]),ebankingSharedModule.service("searchWrapperService",["$rootScope","$filter","translate",function(a,b,c){var d=b("number"),e=b("date"),f=b("nrbIbanFilter"),g=b("maskNrbFilter"),h=b("lowercase"),i=b("phoneNoFilter"),j=b("percentFilter"),k=function(a,b){if(null!=a&&!isNaN(a)){var c=0;if(null==b||isNaN(b)){var e=a.toString().split(/[.,]/);e.length>1&&(c=e[1].length)}else c=b;var f="",g=d(a,c);return f+=g.replace(/\s/g," ")+" ",f+=d(a,c).replace(/\s/g,"")+" ",f+=g.replace(",",".")+" ",f+=g.replace(".",",")+" ",f+=a.toFixed(c)+" "}return 0},l=function(a){return k(a,2)},m=function(a){return null===a||angular.isUndefined(a)?"":a};return{filterNumber:k,filterAmount:l,wrap:function(a){return{wrappedText:a}},wrapAccountFields:function(a){var b="";return b+=l(a.accessibleAssets)+" ",b+=f(a.accountNo)+" ",b+=a.accountNo+" ",b+=l(a.currentBalance)+" ",b+=l(a.creditInterest)+" ",b+=l(a.allowedLimit)+" ",b+=l(a.blockAssets)+" ",b+=a.currency+" ",b+=null!=a.customerProductData&&null!=a.customerProductData.customName?a.customerProductData.customName+" ":a.accountName,this.wrap(b)},wrapCreditFields:function(a){var b="";return b+=f(a.accountNo)+" ",b+=a.accountNo+" ",b+=l(a.amount)+" ",b+=l(a.nextInstallmentAmount)+" ",null!=a.nextInstallmentDate&&(b+=e(a.nextInstallmentDate,"dd.MM.yyyy")+";"),b+=l(a.interestRate)+";",b+=a.currency+";",b+=null!=a.customerProductData&&null!=a.customerProductData.customName?a.customerProductData.customName+";":a.creditName,this.wrap(b)},wrapScheduleText:function(a){var b="";return b+=l(a.capitalAmount)+" ",b+=l(a.interestAmount)+" ",b+=l(a.scheduleAmount)+" ",b+=e(a.scheduleDate,"dd.MM.yyyy")+" ",this.wrap(b)},wrapCardFields:function(a){var b="";return b+=f(a.accountNo)+" ",b+=a.accountNo+" ",b+=c.property("db.cards.type."+a.cardType)+" ",b+=l(a.cardDetails.debt),b+=l(a.cardDetails.dailyCashLimit),b+=l(a.availableFunds),b+=l(a.limitInCycle)+" ",b+=c.property("db.cards.status."+a.status)+" ",b+=a.currency+" ",b+=a.cardNo+" ",b+=a.cardOwnerName+" ",b+=a.cardOwnerLastName+" ",b+=a.name,this.wrap(b)},wrapBlockadesFields:function(a){var b="";return null!==a.authorizationDetails&&(b+=a.authorizationDetails.cardNo+" ",b+=a.authorizationDetails.merchantCity+" ",b+=a.authorizationDetails.merchantCountry+" ",b+=e(a.authorizationDetails.merchantDate,"dd.MM.yyyy")+" ",b+=a.authorizationDetails.merchantName+" "),b+=m(a.blockadeDescription)+" ",b+=l(a.amount)+" ",b+=a.currency+" ",b+=e(a.dateFrom,"dd.MM.yyyy"),b+=e(m(a.dateTo),"dd.MM.yyyy")+" ",this.wrap(b)},wrapPaymentFields:function(a){var b="";return b+=l(a.amount)+" ",b+=e(a.realizationDate,"dd.MM.yyyy")+" ",b+=a.currency+" ",b+=a.recipientName[0]+" ",b+=a.title[0],this.wrap(b)},wrapPaymentAdviceNoteFields:function(a){var b="";return b+=l(a.amount)+" ",b+=e(a.realizationDate,"dd.MM.yyyy")+" ",b+=a.currency+" ",b+=a.paymentAdviceNoteBranch+" ",this.wrap(b)},wrapPrepaidFields:function(a){var b="";return b+=l(a.amount)+" ",b+=e(a.realizationDate,"dd.MM.yyyy")+" ",b+=a.currency+" ",b+=a.phoneNo+" ",b+=i(a.phoneNo)+" ",b+=a.networkName+" ",b+=a.templateName,this.wrap(b)},wrapDepositsFields:function(a){var b="";return b+=f(a.accountNo)+" ",b+=a.accountNo+" ",b+=e(a.maturityDate,"dd.MM.yyyy")+" ",b+=e(a.nextCapitalizationDate,"dd.MM.yyyy")+" ",b+=l(a.depositBalance),b+=a.currency+" ",b+=(null!=a.customerProductData?a.customerProductData.customName:null)||a.depositName,this.wrap(b)},wrapDepositOfferFields:function(a){var b="";return b+=a.description+" ",b+=c.property("deposits.offer.interest_type."+a.interestRateType)+" ",b+=j(a.interest)+" ",b+=a.period+" ",b+=l(a.amountMin)+" ",b+=a.currency+" ",b+=c.property("deposits.offer.renewable."+a.renewalOptionType)+" ",this.wrap(b)},wrapNotificationFields:function(a){var b="";return b+=e(a.entryDate,"dd.MM.yyyy")+" ",b+=a.notificationSubject+" ",null!=a.subtype&&(b+=c.property("db.notifications.notification_sub_type."+a.subtype)+" "),null!=a.type&&(b+=c.property("db.notifications.notification_sub_type."+a.type)+" "),null!=a.groupName&&(b+=a.groupName),this.wrap(b)},wrapIncomeCategoryFields:function(a){var b="";return b+=l(a.revenue)+" ",b+=a.categoryTitle,this.wrap(b)},wrapExpensesCategoryFields:function(a){var b="";return b+=l(a.expense)+" ",b+=a.categoryTitle,this.wrap(b)},wrapCashflowDetails:function(a){var b="";return b+=l(a.amount)+" ",b+=a.secondSideData,this.wrap(b)},wrapStatementOperationFields:function(a){var b="";return b+=l(a.balanceAfterOperation)+" ",b+=l(a.amount)+" ",b+=e(a.bookingDate,"dd.MM.yyyy")+" ",b+=e(a.operationDate,"dd.MM.yyyy")+" ",b+=a.description[0],this.wrap(b)},wrapTemplateFields:function(a){var b="";return b+=c.property("db.payments.content.list.collapse.transfer_type."+h(a.templateType))+" ",b+=a.templateName+" ",b+=f(a.beneficiaryAccountNo)+" ",b+=a.recipientName[0]+" ",b+=a.title[0]+" ",b+=l(a.amount),this.wrap(b)},wrapTemplateFieldsForSelect:function(a){var b="";return b+=a.templateName+" ",b+=a.beneficiaryAccountNo+" ",b+=f(a.beneficiaryAccountNo)+" ",b+=a.recipientName[0]+" ",this.wrap(b)},wrapPrepaidTemplateFields:function(a){var b="";return b+=a.templateName+" ",b+=a.paymentDetails.network+" ",b+=a.paymentDetails.prepaidPhoneNumber+" ",b+=i(a.paymentDetails.prepaidPhoneNumber)+" ",b+=l(a.amount),this.wrap(b)},wrapFundsFields:function(a,b){var c="";return c+=a.registerStates[0].fundName+" ",c+=a.registerNo+" ",c+=k(a.registerStates[0].unitBalance,6)+" ",b&&(c+=a.participant.customer.customerDetails.firstName+" ",c+=a.participant.customer.customerDetails.surname+" "),c+=f(a.purchasesAccountNo)+" ",c+=g(a.purchasesAccountNo)+" ",c+=a.purchasesAccountNo+" ",c+=a.registerStates[0].fundCategory+" ",c+=l(a.registerStates[0].valuation)+" ",c+=a.registerStates[0].currency+" ",c+=e(a.openingDate,"dd.MM.yyyy")+" ",this.wrap(c)},wrapCreditTransactionFields:function(a){var b="";if("DEBIT"==a.side?(b+=f(a.oppositeAccountNo)+" ",b+=a.oppositeAccountNo+" "):(b+=f(a.accountNo)+" ",b+=a.accountNo+" "),null!=a.remitter){for(var c=0;c<a.remitter.length;c++)b+=a.remitter[c];b+=" "}if(b+=l(a.repaymentAmount)+" ",b+=l(a.balanceBeforeOperation)+" ",b+=l(a.balanceAfterOperation)+" ",b+=l(a.repaymentAmount)+" ",null!=a.title){for(var c=0;c<a.title.length;c++)b+=a.title[c];b+=" "}return b+=a.currency+" ",b+=e(a.bookingDate,"dd.MM.yyyy")+";",b+=a.transactionTypeDesc,this.wrap(b)},wrapAccTransFields:function(a){var b="";if(b+=e(a.bookingDate,"dd.MM.yyyy")+" ",null!=a.remitter){for(var c=0;c<a.remitter.length;c++)b+=a.remitter[c];b+=" "}if(null!=a.beneficiary){for(var c=0;c<a.beneficiary.length;c++)b+=a.beneficiary[c];b+=" "}if(null!=a.title){for(var c=0;c<a.title.length;c++)b+=a.title[c];b+=" "}if(null!=a.description){for(var c=0;c<a.description.length;c++)b+=a.description[c];b+=" "}return b+=l(a.amount)+" ",b+=l(a.balanceAfterOperation)+" ",b+=a.currency+" ",b+=a.transactionTypeDesc+" ",null!=a.transactionUsDetails&&(b+=a.transactionUsDetails.formCode+" "),this.wrap(b)},wrapRecipientFields:function(a,b){var c="";switch(b){case"payment":return c+=a.templateName+" ",c+=a.recipientName[0]+" ",c+=a.title[0],this.wrap(c);case"prepaid":return c+=a.templateName+" ",c+=a.paymentDetails.prepaidPhoneNumber+" ",c+=i(a.paymentDetails.prepaidPhoneNumber)+" ",c+=a.paymentDetails.network+" ",c+=l(a.amount)+" ",c+=a.currency||"PLN",this.wrap(c)}}}}]),ebankingSharedModule.service("statementFilterCriteria",["$filter",function(a){var b=30,c=new Date,d=new Date(c.getFullYear(),c.getMonth()-1,1),e={dateFrom:a("dateParam")(d),dateTo:a("dateParam")(new Date),periodCount:b,periodDefinitionType:"range"};return{getStatementFilterInitValues:function(){var a=angular.copy(e);return a}}}]),ebankingSharedModule.service("storageItemsService",["userService","resourceServiceFactory","gate","$log",function(a,b,c,d){var e={putIntoStorage:"put_into_storage",getItemFromStorage:"get_item_from_storage",searchItemsFromStorage:"search_items_from_storage",deleteFromStorage:"delete_from_storage"},f=b.create("storage_items");return{putIntoStorage:function(b,f){return a.getIdentityDetails().then(function(a){var g={customerId:a.id,accessProfileId:a.accessProfileId,key:b,value:f};return c.command(e.putIntoStorage,g).then(function(a){return a},function(a){return d.error("Error putting item into storage"),a})})},getItemFromStorage:function(a){return f.get(a).then(function(a){return a},function(a){return d.error("Error getting item from storage"),a})},searchItemsFromStorage:function(b){return a.getIdentityDetails().then(function(a){var c={customerId:a.id,accessProfileId:a.accessProfileId,key:b};return f.search(c).then(function(a){return a},function(a){return d.error("Error searching items from storage"),a})})}}}]),ebankingSharedModule.service("swiftRealizationMode",["$rootScope",function(a){var b="STANDARD",c=[{value:"STANDARD",key:"standard"},{value:"HIGH",key:"high"},{value:"EXPRESS",key:"express"}];return{getSwiftRealizationModes:function(){return c},getSwiftRealizationMode:function(b){return a.getObjectFromListBy("value",b,c)},getDefaultSwiftRealizationMode:function(){return b}}}]),ebankingSharedModule.service("taxOfficeService",["resourceServiceFactory","$q",function(a,b){var c=a.create("tax_office"),d=a.create("tax_office_address"),e=a.create("tax_form_code"),f=a.create("tax_form_group"),g=[],h=[],i=[],j=null,k=[];return{search:function(a){return angular.extend({pageNumber:1,pageSize:1e4},a),c.search(a).then(function(a){return a})},searchAddresses:function(a){var a={pageNumber:1,pageSize:1e4};return null!=k&&k.length>0?b.when(k):d.search(a).then(function(a){for(var b=0;b<a.content.length;b++)k.indexOf(a.content[b].content)<0&&k.push(a.content[b].content);return k})},searchtaxOfficesByAddress:function(a){return j=c.searchByPost({pageNumber:1,pageSize:1e4,officeAddress:a}).then(function(a){return a.content})},searchNamesByAddresses:function(a){return j=c.searchByPost({pageNumber:1,pageSize:1e4,officeAddress:a}).then(function(a){g=a;for(var b=[],c=0;c<g.content.length;c++)b.indexOf(g.content[c].officeName)<0&&b.push(g.content[c].officeName);return b})},searchTaxOfficeByAccountNo:function(a){if(void 0!=a&&null!=a){if(void 0!=g.content)for(var b=0;b<g.content.length;b++)if(g.content[b].accountNo===a)return g.content[b];return j=c.search({pageNumber:1,pageSize:1e4,accountNo:a}).then(function(a){g=a;for(var b=0;b<g.content.length;b++)return g.content[b]})}},getTaxAccountTypes:function(a,b){if(null!=a&&void 0!=a&&null!=b&&void 0!=b)return j.then(function(){for(var c=[],d=0;d<g.content.length;d++)JSON.stringify(g.content[d].officeAddress)===JSON.stringify(a)&&g.content[d].officeName===b&&c.push(g.content[d].taxAccountType);return c})},getAccountsNumbers:function(a,b,c){return j.then(function(){for(var d=[],e=0;e<g.content.length;e++)if(JSON.stringify(g.content[e].officeAddress)===JSON.stringify(a)&&g.content[e].officeName===b)for(var f=0;f<c.length;f++)g.content[e].taxAccountType.indexOf(c[f])!=-1&&d.push(g.content[e].accountNo);return d})},getAccountNo:function(a,b,c,d){var e=this;return void 0==d||null==d||void 0!=c&&null!=c?this.searchTaxOffice(a,b,c,d):e.getTaxAccountType(d).then(function(c){return e.searchTaxOffice(a,b,c,d)})},searchTaxOffice:function(a,c,d,e){return null!=a&&null!=c&&void 0!=d&&null!=d?j.then(function(){for(var b=0;b<g.content.length;b++)if(JSON.stringify(g.content[b].officeAddress)===JSON.stringify(a)&&(g.content[b].taxAccountType===d||g.content[b].formCode===e)&&g.content[b].officeName===c)return g.content[b].accountNo}):b.when(null)},getTaxAccountType:function(a){return this.searchAllFormCodeList().then(function(b){for(var c=0;c<b.content.length;c++)if(b.content[c].formCode===a)return b.content[c].taxAccountType})},searchAllFormCodeList:function(){var a={pageNumber:1,pageSize:1e4};return e.search(a).then(function(a){return i=a})},searchFormCodeList:function(a){var b={pageNumber:1,pageSize:1e4};return void 0!=a&&null!=a?e.search(angular.extend({accountNo:a},b)).then(function(a){return h=a,0==h.content.length?i:h}):i},checkTaxPeriodRequiredForCode:function(a){for(var b=0;b<i.content.length;b++)if(i.content[b].formCode==a)return i.content[b].periodRequired;return!1},checkTaxPeriodRequired:function(a,c){if(void 0!=a&&null!=a){if(null!=h.content&&h.content.length>0)for(var d=0;d<h.content.length;d++)if(h.content[d].formCode==c)return b.when([h.content[d].periodRequired,h]);return e.search({accountNo:a,pageSize:1e4}).then(function(a){h=a;for(var b=0;b<h.content.length;b++)if(h.content[b].formCode==c)return[h.content[b].periodRequired,h];return[!0,h]})}},searchAllFormGroups:function(){var a={pageNumber:1,pageSize:1e4};return f.search(a).then(function(a){return a})}}}]),ebankingSharedModule.service("templateModelService",["events",function(a){return{getModelByTemplateType:function(b,c,d){var e={remitterId:c.remitterId||(d?d.remitterId:null),templateId:c.templateId,remitterAccountId:c.remitterAccountId||(d?d.remitterAccountId:null),recipientAccountNo:c.beneficiaryAccountNo,amount:c.amount,realizationDate:c.realizationDate||new Date,transferFromTemplate:!0};switch(b){case"DOMESTIC":angular.extend(e,{recipientName:c.recipientName,description:c.title,cyclicExecution:c.cyclicExecution||!1,cyclicExecutionPeriodType:c.cyclicExecutionPeriodType,cyclicExecutionPeriod:c.cyclicExecutionPeriod,cyclicExecutionEndDate:c.cyclicExecutionEndDate,recipientAddress:c.recipientAddress});break;case"SEPA":angular.extend(e,{recipientName:c.recipientName,description:c.title,informationProvider:c.paymentDetails.informationProvider,phoneNumber:c.paymentDetails.phoneNumber,recipientAddress:c.recipientAddress,recipientSwift:c.paymentDetails.recipientSwift,recipientBankCountryCode:c.paymentDetails.foreignCountryCode});break;case"SWIFT":angular.extend(e,{recipientName:c.recipientName,description:c.title,currency:c.currency,additionalInfo:c.paymentDetails.additionalInfo,informationProvider:c.paymentDetails.informationProvider,phoneNumber:c.paymentDetails.phoneNumber,costType:c.paymentDetails.costsType||(d?d.costType:null),recipientAddress:c.recipientAddress,recipientSwift:c.paymentDetails.recipientSwift,recipientBankCountryCode:c.paymentDetails.foreignCountryCode,recipientBankName:angular.isArray(c.paymentDetails.bankDetails)?c.paymentDetails.bankDetails.join(""):c.paymentDetails.bankDetails});break;case"INSURANCE":angular.extend(e,{recipientName:c.recipientName,templateName:c.templateName,currency:c.currency,decisionNo:c.paymentDetails.decisionNo,declarationDate:c.paymentDetails.declaration,declarationNo:c.paymentDetails.declarationNo,nip:c.paymentDetails.nip,paymentType:c.paymentDetails.paymentType,secondaryIdNo:c.paymentDetails.secondIDNo,secondaryIdType:c.paymentDetails.secondIDType});break;case"TAX":angular.extend(e,{description:c.title,formCode:c.paymentDetails.formCode,idType:c.paymentDetails.idtype,idNumber:c.paymentDetails.idnumber,periodType:c.paymentDetails.periodType,periodNo:c.paymentDetails.periodNumber,periodYear:c.paymentDetails.periodYear,obligationId:c.paymentDetails.obligationId,recipientName:angular.isArray(c.recipientName)?c.recipientName.join(" "):c.recipientName,recipientAddress:angular.isArray(c.recipientAddress)?c.recipientAddress.join(" "):c.recipientAddress,formEndDate:c.paymentDetails.formEndDate,formStartDate:c.paymentDetails.formStartDate}),e.periodNo&&e.periodNo.length>0&&(e.periodNumber=parseInt(e.periodNo.substring(0,2)),e.periodNo.length>2&&(e.periodMonth=parseInt(e.periodNo.substring(2,4))));break;case"PHONE_TOP_UP":angular.extend(e,{recipientName:c.templateName,currency:c.currency,operatorId:c.paymentDetails.paymentOperatorId,phoneNumber:c.paymentDetails.prepaidPhoneNumber,repeatedPhoneNumber:c.paymentDetails.prepaidPhoneNumber})}return a.broadcast("eb.template.active",e),e}}}]),ebankingSharedModule.service("transactionFilterCriteria",["$filter",function(a){var b=30,c=new Date,d=new Date((new Date).setDate(c.getDate()-b)),e=(d.setHours(0,0,0,0),{dateFrom:a("dateParam")((new Date).setDate((new Date).getDate()-30)),dateTo:a("dateParam")(new Date),periodCount:b,operationTitle:"",periodDefinitionType:"last",operationType:"",periodUnitType:"days",operationAmountFrom:null,operationAmountTo:null});return{getTransactionFilterInitValues:function(b,c){var d=null==b?new Date:new Date(b),f=angular.copy(e);return null!=d&&c!==!0&&(f.periodDefinitionType="range",f.dateFrom=a("dateParam")(new Date(d).setDate(d.getDate()-30))),f}}}]),ebankingSharedModule.service("transactionService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("transaction"),j=h.create("search_customer_transaction"),k=function(a){"DEBIT"==a.side?(a.displayAmount=a.amount*-1,a.displayAmountInAccountCurrency=a.amountInAccountCurrency*-1):(a.displayAmount=a.amount,a.displayAmountInAccountCurrency=a.amountInAccountCurrency)};return{search:function(a){return i.searchByPost(a).then(function(a){for(var b=a.content.length-1;b>=0;b--)k(a.content[b]);return a})},relationSearch:function(a,b,c){return i.relationSearchByPost(a,b,c).then(function(a){for(var b=a.content.length-1;b>=0;b--)k(a.content[b]);return a})},get:function(a,b){return i.get(a,b).then(function(a){return k(a),a})},getSummary:function(a){for(var b,c={balanceAfterLastOperation:0,paymentOutSum:0,paymentInSum:0,paymentOutCount:0,paymentInCount:0},d=0,e=0,f=0,g=0,h=a.content.length-1;h>=0;h--)b=a.content[h],"DEBIT"==b.side?(d+=-1*b.amountInAccountCurrency,f++):(e+=b.amountInAccountCurrency,g++);return b&&(c.balanceAfterLastOperation=b.balanceAfterOperation),c.paymentOutSum=d,c.paymentInSum=e,c.paymentOutCount=f,c.paymentInCount=g,c},searchCustomerTransaction:function(a){return j.search(a).then(function(a){for(var b=a.content.length-1;b>=0;b--)k(a.content[b]);return a})}}}]),ebankingSharedModule.service("transferService",["$rootScope","userService","$q","gate","$log",function(a,b,c,d,e){var f={createTransfer:"create_transfer",acceptTransfer:"realize"};return{createTransfer:function(a){return b.getIdentityDetails().then(function(a){var b={customerId:a.id,accessProfileId:a.accessProfileId,transferType:null};return d.command(f.createTransfer,b).then(function(){e.debug("Transfer created.")},function(){return e.error("Error creating transfer"),c.reject("Błąd utworzenie transferu.")})})},acceptTransfer:function(a){return d.command(f.acceptTransfer,{transferId:a}).then(function(a){return e.debug("Transfer created."),a.content},function(){return e.error("Error creating transfer"),c.reject("Błąd utworzenie transferu.")})},cancelTransfer:function(a){return d.command(f.cancelTransferRel,null).then(function(a){return a},function(){return e.error("Error creating transfer"),c.reject("Błąd utworzenie transferu.")})}}}]),ebankingSharedModule.service("userAuthenticationService",["resourceServiceFactory","userService",function(a,b){var c=a.create("channel_access_limits");return{getChannelAccessLimits:function(a){return b.getIdentityDetails().then(function(b){return angular.extend(a,{userId:b.accessProfileId,customerId:b.id}),c.search(a).then(function(a){return a})})}}}]),ebankingSharedModule.service("userOperationFilterCriteria",["$filter",function(a){var b=30,c={dateFrom:a("dateParam")((new Date).setDate((new Date).getDate()-b)),dateTo:a("dateParam")(new Date),periodCount:b,periodDefinitionType:"last",channel:""};return{getUserOperationFilterInitValues:function(){var a=angular.copy(c);return a}}}]),ebankingSharedModule.service("userOperationsService",["$rootScope","userService","$q","gate","$log","customerProductService","commonService","resourceServiceFactory",function(a,b,c,d,e,f,g,h){var i=h.create("user_operation"),j=h.create("action_type");return{search:function(a){return b.getIdentityDetails().then(function(b){return i.search(angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},a)).then(function(a){return a})})},relationSearch:function(a,c,d){return b.getIdentityDetails().then(function(b){return i.relationSearch(a,angular.extend({accessProfileId:b.accessProfileId,customerId:b.id},c),d).then(function(a){return a})})},searchTypes:function(a){return j.search(a).then(function(a){return a})}}}]),ebankingSharedModule.service("utilityService",["$rootScope","userService",function(a,b){return{field4x35ToString:function(a,b,c,d){return((a?a:"")+" "+(b?b:"")+" "+(c?c:"")+" "+(d?d:"")).trim().replace(/  /g," ")},checkExchange:function(a,b,c,d){switch(a){case"DOMESTIC":if(angular.isDefined(b)&&"PLN"!=b)return!0;break;case"SEPA":if(angular.isDefined(b)&&"EUR"!=b)return!0;break;case"TARGET2":if(angular.isDefined(b)&&"EUR"!=b)return!0;break;case"SWIFT":if(angular.isDefined(b)&&angular.isDefined(b)&&b!=d)return!0;break;case"OWN":if(angular.isDefined(b)&&angular.isDefined(c)&&b!=c)return!0;break;case"TAX":if(angular.isDefined(b)&&"PLN"!=b)return!0;break;case"INSURANCE":if(angular.isDefined(b)&&b!=d)return!0}return!1}}}]),ebankingSharedModule.value("complementaryIdTypesDictionary",[{key:"P",model:"PESEL"},{key:"R",model:"REGON"},{key:"1",model:"ID_CARD"},{key:"2",model:"PASSPORT"}]),ebankingSharedModule.value("fundsConversionTypeDictionary",[{key:"FULL",model:"FULL"},{key:"AMOUNT",model:"AMOUNT"},{key:"UNITS",model:"UNITS"}]),ebankingSharedModule.value("fundsTargetConversionTypeDictionary",[{key:"NEW_REGISTER",model:"NEW_REGISTER"},{key:"EXISTING_REGISTER",model:"EXISTING_REGISTER"}]),ebankingSharedModule.value("insuranceAccountsDictionary",[{key:"social",accountNo:"83101010230000261395100000",model:"SOCIAL"},{key:"health",accountNo:"78101010230000261395200000",model:"HEALTH"},{key:"fpifgsp",accountNo:"73101010230000261395300000",model:"FPIFGSP"},{key:"pension",accountNo:"68101010230000261395400000",model:"PENSION"}]),ebankingSharedModule.value("insurancePaymentTypesDictionary",[{key:"A",model:"A"},{key:"B",model:"B"},{key:"D",model:"D"},{key:"E",model:"E"},{key:"M",model:"M"},{key:"S",model:"S"},{key:"T",model:"T"},{key:"U",model:"U"}]),ebankingSharedModule.value("paymentSepaCategoriesDictionary",[{key:"BONU",model:"BONU"},{key:"CASH",model:"CASH"},{key:"CBLK",model:"CBLK"},{key:"CCRD",model:"CCRD"},{key:"CORT",model:"CORT"},{key:"DCRD",model:"DCRD"},{key:"DIVI",model:"DIVI"},{key:"DVPM",model:"DVPM"},{key:"EPAY",model:"EPAY"},{key:"FCOL",model:"FCOL"},{key:"GOVT",model:"GOVT"},{key:"HEDG",model:"HEDG"},{key:"ICCP",model:"ICCP"},{key:"IDCP",model:"IDCP"},{key:"INTC",model:"INTC"},{key:"INTE",model:"INTE"},{key:"LOAN",model:"LOAN"},{key:"OTHR",model:"OTHR"},{key:"PENS",model:"PENS"},{key:"RVPM",model:"RVPM"},{key:"SALA",model:"SALA"},{key:"SECU",model:"SECU"},{key:"SSBE",model:"SSBE"},{key:"SUPP",model:"SUPP"},{key:"TAXS",model:"TAXS"},{key:"TRAD",model:"TRAD"},{key:"TREA",model:"TREA"},{key:"VATX",model:"VATX"},{key:"WHLD",model:"WHLD"},{key:"ANNI",model:"ANNI"}]),ebankingSharedModule.value("paymentSepaPurposesDictionary",[{key:"CBLK",model:"CBLK"},{key:"CDCB",model:"CDCB"},{key:"CDCD",model:"CDCD"},{key:"CDCS",model:"CDCS"},{key:"CDDP",model:"CDDP"},{key:"CDOC",model:"CDOC"},{key:"CDQC",model:"CDQC"},{key:"ETUP",model:"ETUP"},{key:"FCOL",model:"FCOL"},{key:"MTUP",model:"MTUP"},{key:"ACCT",model:"ACCT"},{
key:"CASH",model:"CASH"},{key:"COLL",model:"COLL"},{key:"CSDB",model:"CSDB"},{key:"DEPT",model:"DEPT"},{key:"INTC",model:"INTC"},{key:"LIMA",model:"LIMA"},{key:"NETT",model:"NETT"},{key:"AGRT",model:"AGRT"},{key:"AREN",model:"AREN"},{key:"BEXP",model:"BEXP"},{key:"BOCE",model:"BOCE"},{key:"COMC",model:"COMC"},{key:"CPYR",model:"CPYR"},{key:"GDDS",model:"GDDS"},{key:"GDSV",model:"GDSV"},{key:"GSCB",model:"GSCB"},{key:"LICF",model:"LICF"},{key:"POPE",model:"POPE"},{key:"ROYA",model:"ROYA"},{key:"SCVE",model:"SCVE"},{key:"SUBS",model:"SUBS"},{key:"SUPP",model:"SUPP"},{key:"TRAD",model:"TRAD"},{key:"CHAR",model:"CHAR"},{key:"COMT",model:"COMT"},{key:"ECPG",model:"ECPG"},{key:"ECPR",model:"ECPR"},{key:"ECPU",model:"ECPU"},{key:"CLPR",model:"CLPR"},{key:"DBTC",model:"DBTC"},{key:"GOVI",model:"GOVI"},{key:"HLRP",model:"HLRP"},{key:"INPC",model:"INPC"},{key:"INSU",model:"INSU"},{key:"INTE",model:"INTE"},{key:"LBRI",model:"LBRI"},{key:"LIFI",model:"LIFI"},{key:"LOAN",model:"LOAN"},{key:"LOAR",model:"LOAR"},{key:"PENO",model:"PENO"},{key:"PPTI",model:"PPTI"},{key:"RINP",model:"RINP"},{key:"TRFD",model:"TRFD"},{key:"ADMG",model:"ADMG"},{key:"ADVA",model:"ADVA"},{key:"BCDM",model:"BCDM"},{key:"BCFG",model:"BCFG"},{key:"BLDM",model:"BLDM"},{key:"CBFF",model:"CBFF"},{key:"CBFR",model:"CBFR"},{key:"CCRD",model:"CCRD"},{key:"CDBL",model:"CDBL"},{key:"CFEE",model:"CFEE"},{key:"CGDD",model:"CGDD"},{key:"COST",model:"COST"},{key:"CPKC",model:"CPKC"},{key:"DCRD",model:"DCRD"},{key:"DSMT",model:"DSMT"},{key:"EDUC",model:"EDUC"},{key:"FAND",model:"FAND"},{key:"FCPM",model:"FCPM"},{key:"GOVT",model:"GOVT"},{key:"ICCP",model:"ICCP"},{key:"IDCP",model:"IDCP"},{key:"IHRP",model:"IHRP"},{key:"INSM",model:"INSM"},{key:"IVPT",model:"IVPT"},{key:"MCDM",model:"MCDM"},{key:"MCFG",model:"MCFG"},{key:"MSVC",model:"MSVC"},{key:"NOWS",model:"NOWS"},{key:"OCDM",model:"OCDM"},{key:"OCFG",model:"OCFG"},{key:"OFEE",model:"OFEE"},{key:"OTHR",model:"OTHR"},{key:"PADD",model:"PADD"},{key:"PTSP",model:"PTSP"},{key:"RCKE",model:"RCKE"},{key:"RCPT",model:"RCPT"},{key:"REBT",model:"REBT"},{key:"REFU",model:"REFU"},{key:"RENT",model:"RENT"},{key:"RIMB",model:"RIMB"},{key:"STDY",model:"STDY"},{key:"TBIL",model:"TBIL"},{key:"TCSC",model:"TCSC"},{key:"TELI",model:"TELI"},{key:"TRVC",model:"TRVC"},{key:"WEBI",model:"WEBI"},{key:"ANNI",model:"ANNI"},{key:"CAFI",model:"CAFI"},{key:"CFDI",model:"CFDI"},{key:"CMDT",model:"CMDT"},{key:"DERI",model:"DERI"},{key:"DIVD",model:"DIVD"},{key:"FREX",model:"FREX"},{key:"HEDG",model:"HEDG"},{key:"INVS",model:"INVS"},{key:"PRME",model:"PRME"},{key:"SAVG",model:"SAVG"},{key:"SECU",model:"SECU"},{key:"SEPI",model:"SEPI"},{key:"TREA",model:"TREA"},{key:"ANTS",model:"ANTS"},{key:"CVCF",model:"CVCF"},{key:"DMEQ",model:"DMEQ"},{key:"DNTS",model:"DNTS"},{key:"HLTC",model:"HLTC"},{key:"HLTI",model:"HLTI"},{key:"HSPC",model:"HSPC"},{key:"ICRF",model:"ICRF"},{key:"LTCF",model:"LTCF"},{key:"MDCS",model:"MDCS"},{key:"VIEW",model:"VIEW"},{key:"ADCS",model:"ADCS"},{key:"ALLW",model:"ALLW"},{key:"ALMY",model:"ALMY"},{key:"BBSC",model:"BBSC"},{key:"BECH",model:"BECH"},{key:"BENE",model:"BENE"},{key:"BONU",model:"BONU"},{key:"COMM",model:"COMM"},{key:"CSLP",model:"CSLP"},{key:"GVEA",model:"GVEA"},{key:"GVEB",model:"GVEB"},{key:"GVEC",model:"GVEC"},{key:"GVED",model:"GVED"},{key:"PAYR",model:"PAYR"},{key:"PENS",model:"PENS"},{key:"PRCP",model:"PRCP"},{key:"SALA",model:"SALA"},{key:"SSBE",model:"SSBE"},{key:"AEMP",model:"AEMP"},{key:"GFRP",model:"GFRP"},{key:"GWLT",model:"GWLT"},{key:"HREC",model:"HREC"},{key:"RHBS",model:"RHBS"},{key:"ESTX",model:"ESTX"},{key:"FWLV",model:"FWLV"},{key:"GSTX",model:"GSTX"},{key:"HSTX",model:"HSTX"},{key:"INTX",model:"INTX"},{key:"NITX",model:"NITX"},{key:"PTXP",model:"PTXP"},{key:"RDTX",model:"RDTX"},{key:"TAXS",model:"TAXS"},{key:"VATX",model:"VATX"},{key:"WHLD",model:"WHLD"},{key:"TAXR",model:"TAXR"},{key:"AIRB",model:"AIRB"},{key:"BUSB",model:"BUSB"},{key:"FERB",model:"FERB"},{key:"RLWY",model:"RLWY"},{key:"TRPT",model:"TRPT"},{key:"CBTV",model:"CBTV"},{key:"ELEC",model:"ELEC"},{key:"ENRG",model:"ENRG"},{key:"GASB",model:"GASB"},{key:"NWCH",model:"NWCH"},{key:"NWCM",model:"NWCM"},{key:"OTLC",model:"OTLC"},{key:"PHON",model:"PHON"},{key:"UBIL",model:"UBIL"},{key:"WTER",model:"WTER"}]),ebankingSharedModule.value("taxGroupTypesDictionary",[{key:"CIT",value:["1"],order:1},{key:"VAT",value:["2","6"],order:2},{key:"PIT",value:["3"],order:3},{key:"OTHER",value:["4","5","7","8","9"],order:4}]),ebankingSharedModule.value("taxIdTypesDictionary",[{key:"NIP",value:"N"},{key:"PESEL",value:"P"},{key:"REGON",value:"R"},{key:"ID_CARD",value:"1"},{key:"PASSPORT",value:"2"},{key:"OTHER",value:"3"}]),ebankingSharedModule.value("taxPeriodTypeDictionary",[{key:"HALF_YEAR",value:"P"},{key:"YEAR",value:"R"},{key:"QUARTER",value:"K"},{key:"MONTH",value:"M"},{key:"DECADE_OF_MONTH",value:"D"},{key:"DAY",value:"J"}]),ebankingSharedModule.value("CUSTOM_NAME_REGEX","^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó ~`!@#$%^&*()_+\\-={}\\[\\]\\:;'<>?,\\.]*$"),ebankingSharedModule.value("ELIXIR_CHARACTERS_REGEX","^[ABCDEFGHIJKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz1234567890ĄąŚśĘęŻżŹźĆćŃńŁłÓó ~`!@#$%^&*()_+\\-={}\\[\\]\\:;'?,./\n\r\t\\\\<>äÄöÖüÜß]*$"),ebankingSharedModule.value("PAYMENT_TITLE_REGEX","^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó `!@#$%^&*()_+\\-={}\\[\\]\\:;'?,./\n\r\t\\\\<>äÄöÖüÜß]*$"),ebankingSharedModule.value("PAYMENT_TITLE_REGEX_SWIFT","^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó ~`!@#%^&*()_+\\-={}\\[\\]\\:;'?,./\n\r\t\\\\>ß]*$"),ebankingSharedModule.value("PAYMENT_OBLIGATION_ID","^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó \\-:;,\\.]*$"),ebankingSharedModule.value("CUSTOM_NAME_REGEX","^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó ~`!@#$%^&*()_+\\-={}\\[\\]\\:;'<>?,\\.]*$"),ebankingSharedModule.value("SWIFT_CHARACTERS_REGEX","^[ABCDEFGHIJKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz1234567890 /?:().,'-+ ./\n -]*$"),ebankingSharedModule.value("SWIFT_CHARACTERS_EXTENDED_REGEX","^[A-Za-z0-9ĄąŚśĘęŻżŹźĆćŃńŁłÓó ~`!@#%^&*()_+\\-={}\\[\\]\\:;'?,./\n\r\t\\\\>ß]*$"),angular.module("ebanking-shared").run(["$templateCache",function(a){a.put("templates/ebanking-shared/0.0.19/directives/ebAccountSelect/ebAccountSelect.html",'<div><ui-select class="eb-account-select" ng-disabled="accountsPromise && accountsPromise.$$state.status === 0" eb-themable search-enabled="false" theme="select2" on-select="selectAccount($item, $model)"><ui-select-match placeholder="{{(accountsPromise && accountsPromise.$$state.status === 0) && (\'platform.component.account_select.placeholder.loading\' | translate) || (placeholder|translate)}}"><span ng-if="accountsPromise.$$state.status === 0">{{$select.placeholder}}</span> <span ng-if="accountsPromise.$$state.status !== 0">{{$select.selected.accountNo | maskNrbFilter}}&nbsp;|&nbsp;<eb-amount style="display: inline-block" amount="$select.selected.accessibleAssets" currency="{{$select.selected.currency}}"></eb-amount></span></ui-select-match><ui-select-choices class="block-choices" ui-disable-choice="account.accountId == ebOppositeAccount" repeat="account.accountId as account in accountList | filter: $select.search"><div class="account-name">{{account.customerProductData.customName || account.accountName}}</div><div><span class="account-number">{{+ account.accountNo | maskNrbFilter}}</span>&nbsp;<eb-amount style="display: inline-block; float: right" amount="account.accessibleAssets" currency="{{account.currency}}"></eb-amount></div></ui-select-choices></ui-select></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebAccountsCurrencySelect/ebAccountsCurrencySelect.html",'<div class="select-searchbox account-currency-select"><ui-select eb-themable ng-disabled="currenciesPromise && currenciesPromise.$$state.status === 0" search-enabled="true" theme="select2" on-select="selectCurrency($item, $model)"><ui-select-match placeholder="{{(currenciesPromise && currenciesPromise.$$state.status === 0) && (\'platform.component.currency_select.placeholder.loading\' | translate) || (placeholder|translate)}}">{{$select.selected}}</ui-select-match><ui-select-choices class="block-choices" repeat="currency in currenciesList | filter: $select.search"><div><span ng-bind="currency"></span></div></ui-select-choices></ui-select></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebAuthorization/ebAuthorization.html",'<div eb-themable class="eb-authorization authorization-details"><div eb-responsive-row ng-class="{\'new-payment-step2-tan-codes\': authData.authenticationMethod != \'SMS\'}" label="{{(ebText.auth_method || \'platform.component.authorization.type.\') + authData.authenticationMethod}}" ng-if="authData.authenticationMethod" top><div ng-switch="authData.authenticationMethod"><div ng-switch-when="TAN"><span class="input-tan-code left"><img ng-src="data:image/png;base64,{{authData.authenticationAttributes[\'tan1CodePositionCaptcha\']}}"><!-- no whitespace\n\t\t\t\t\t\tfix--><div class="auth-tan-numpad"><input type="password" id="tanX" name="tanX" placeholder="{{(ebText.input_placeholders || \'platform.component.authorization.placeholder.\') + authData.authenticationMethod|translate}}" ng-model="ngModel.tanX" class="auth-tan-input" ng-blur="setTanErrors()" ng-required="ebRequired" ng-disabled="ebDisabled" maxlength="2" autocomplete="off" onpaste="return false" eb-number-pattern="[0-9]{0,2}" ng-pattern="/^[0-9]{0,2}$/" ng-mousedown="clicked[\'tanX\'] = true" ng-mouseup="mouseUp(\'tanX\')" ng-mouseleave="mouseLeave(\'tanX\')"><div class="numpad-icon" ng-click="setNumpadModel(\'tanX\')"><i eb-themable class="eb-icon eb-icon-keybord"></i></div></div></span> <span class="input-tan-code"><img ng-src="data:image/png;base64,{{authData.authenticationAttributes[\'tan2CodePositionCaptcha\']}}"><!-- no whitespace \n\t\t\t\t\t\tfix--><div class="auth-tan-numpad"><input type="password" id="tanY" name="tanY" placeholder="{{(ebText.input_placeholders || \'platform.component.authorization.placeholder.\') + authData.authenticationMethod|translate}}" ng-model="ngModel.tanY" class="auth-tan-input" ng-blur="setTanErrors()" ng-required="ebRequired" ng-disabled="ebDisabled" maxlength="2" autocomplete="off" onpaste="return false" eb-number-pattern="[0-9]{0,2}" ng-pattern="/^[0-9]{0,2}$/" ng-mousedown="clicked[\'tanY\'] = true" ng-mouseup="mouseUp(\'tanY\')" ng-mouseleave="mouseLeave(\'tanY\')"><div class="numpad-icon" ng-click="setNumpadModel(\'tanY\')"><i eb-themable class="eb-icon eb-icon-keybord"></i></div></div></span></div><div ng-switch-when="SMS"><div ng-class="{\'auth-sms-numpad\': ebShowSmsAuthNo}"><div ng-show="ebShowSmsAuthNo" class="auth-sms-information"><span eb-msg="{{ebText.authorization_no || \'platform.component.authorization.SMS.auth_no\'}}"></span>&nbsp;{{authData.authenticationAttributes[\'authNo\']}} <span eb-msg="{{ebText.authorization_date || \'platform.component.authorization.SMS.sms_auth_date\'}}" prevent-orphans></span>&nbsp;{{authDateValue | date : \'dd&#8209;MM&#8209;yyyy\'}}</div><input type="password" placeholder="{{(ebText.input_placeholders || \'platform.component.authorization.placeholder.\') + authData.authenticationMethod|translate}}" id="sms" name="sms" class="auth-sms-input" ng-model="ngModel.sms" ng-required="ebRequired" ng-disabled="ebDisabled" maxlength="8" autocomplete="off" onpaste="return false" eb-number-pattern="[0-9]{0,8}" ng-pattern="/^[0-9]{0,8}$/" ng-mousedown="clicked[\'sms\'] = true" ng-mouseup="mouseUp(\'sms\')" ng-mouseleave="mouseLeave(\'sms\')"><div class="numpad-icon" ng-click="setNumpadModel(\'sms\')"><i eb-themable class="eb-icon eb-icon-keybord"></i></div></div></div><div ng-switch-when="TOKEN"><div class="auth-token-numpad"><input type="password" placeholder="{{(ebText.input_placeholders || \'platform.component.authorization.placeholder.\') + authData.authenticationMethod|translate}}" id="token" name="token" class="auth-token-input" ng-model="ngModel.token" ng-required="ebRequired" ng-disabled="ebDisabled" maxlength="17" autocomplete="off" onpaste="return false" ng-mousedown="clicked[\'token\'] = true" ng-mouseup="mouseUp(\'token\')" ng-mouseleave="mouseLeave(\'token\')"><div class="numpad-icon" ng-click="setNumpadModel(\'token\')"><i eb-themable class="eb-icon eb-icon-keybord"></i></div></div></div><div ng-switch-when="NONE"><span eb-msg="{{ebText.no_auth_required || \'platform.component.authorization.no_authorization_required\'}}"></span></div></div><div class="messages animate-on" ng-messages="tanErrors" ng-if="((ebForm[\'tanX\'].$dirty || ebForm[\'tanX\'].$touched) && ebForm[\'tanX\'].$invalid) || ((ebForm[\'tanY\'].$dirty || ebForm[\'tanY\'].$touched) && ebForm[\'tanY\'].$invalid)"><div ng-message="errorCode"><span eb-msg="{{(ebText.error_code_validate || \'platform.component.authorization.validate.error_code.\') + ebErrorCode}}"></span></div><div ng-message="required"><span eb-msg="{{ebText.tan_validate_required || \'platform.component.authorization.TAN.validate.required\'}}"></span></div></div><div class="messages animate-on" ng-messages="ebForm[\'sms\'].$error" ng-if="ebForm[\'sms\'].$dirty || ebForm[\'sms\'].$touched"><div ng-message="errorCode"><span eb-msg="{{(ebText.error_code_validate || \'platform.component.authorization.validate.error_code.\') + ebErrorCode}}"></span></div><div ng-message="required"><span eb-msg="{{ebText.sms_validate_required || \'platform.component.authorization.SMS.validate.required\'}}"></span></div></div><div class="messages animate-on" ng-messages="ebForm[\'token\'].$error" ng-if="ebForm[\'token\'].$dirty || ebForm[\'token\'].$touched"><div ng-message="errorCode"><span eb-msg="{{(ebText.error_code_validate || \'platform.component.authorization.validate.error_code.\') + ebErrorCode}}"></span></div><div ng-message="required"><span eb-msg="{{ebText.token_validate_required || \'platform.component.authorization.TOKEN.validate.required\'}}"></span></div></div></div><div eb-responsive-row ng-show="authPromise.$$state.status !== 1"><eb-preloader eb-promise="authPromise" eb-rejected-message="{{(ebText.error_code_validate || \'platform.component.authorization.validate.error_code.\') + ebErrorCode | translate}}" class="eb-preloader-small"></eb-preloader></div><eb-numpad eb-form="ebForm" eb-num-input-name="{{numpad.name}}" eb-show-numpad="numpad.show" eb-maxlength="{{numpad.maxlength}}" eb-caret-position="numpad.caret"></eb-numpad></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebBeneficiaryName/ebBeneficiaryName.html","<div>{{owner}}</div>"),a.put("templates/ebanking-shared/0.0.19/directives/ebCartInsert/ebCartInsert.html",'<div class="eb-cart-insert"><eb-button class="eb-icon eb-ico-basket" eb-single-click="addToBasket()"><span class="eb-cart-label">{{::\'platform.component.basket_insert.label\'|translate}}</span></eb-button></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebComplementaryIdInput/ebComplementaryIdInput.html",'<input type="text" class="simple-input" ng-model-options="{ updateOn: \'blur\' }" maxlength="{{maxLength}}" placeholder="{{::placeholder | translate}}">'),a.put("templates/ebanking-shared/0.0.19/directives/ebComplementaryIdTypeSelect/ebComplementaryIdTypeSelect.html",'<ui-select eb-themable search-enabled="false" ng-model="selectedValue.selected" theme="select2" on-select="selectComplementaryIdType($item, $model)"><ui-select-match placeholder="{{::placeholder | translate}}">{{complementaryIdTypesKey + $select.selected.key | translate}}&nbsp;({{$select.selected.key}})</ui-select-match><ui-select-choices class="block-choices" repeat="type.model as type in complementaryIdTypes"><div>{{complementaryIdTypesKey + type.key | translate}}&nbsp;({{type.key}})</div></ui-select-choices></ui-select>'),a.put("templates/ebanking-shared/0.0.19/directives/ebDecisionNoInput/ebDecisionNoInput.html",'<input type="text" name="{{ebName}}" class="simple-input" maxlength="{{maxLength}}" placeholder="{{::placeholder | translate}}" ng-disabled="isDisabled" ng-required="isRequired">'),a.put("templates/ebanking-shared/0.0.19/directives/ebDeclarationInput/ebDeclarationInput.html",'<input type="text" class="simple-input" ng-model-options="{ updateOn: \'blur\' }" maxlength="{{maxLength}}" placeholder="{{::placeholder | translate}}">'),a.put("templates/ebanking-shared/0.0.19/directives/ebDeclarationNoInput/ebDeclarationNoInput.html",'<input type="text" class="simple-input" ng-model-options="{ updateOn: \'blur\' }" maxlength="{{maxLength}}" placeholder="{{::placeholder | translate}}">'),a.put("templates/ebanking-shared/0.0.19/directives/ebDomesticBankDetails/ebDomesticBankDetails.html",'<span class="bank-details">{{bankDetails.namePart1 | emptyFilter}}&nbsp;{{bankDetails.namePart2}}</span>'),a.put("templates/ebanking-shared/0.0.19/directives/ebInsuranceAccountSelect/ebInsuranceAccountSelect.html",'<ui-select eb-themable search-enabled="false" theme="select2" ng-model="selectedValue.selected" on-select="selectInsuranceAccount($item, $model)"><ui-select-match placeholder="{{::placeholder | translate}}">{{insuranceAccountsKey + $select.selected.key | translate}}</ui-select-match><ui-select-choices class="block-choices" repeat="account.model as account in insuranceAccounts"><div>{{insuranceAccountsKey + account.key | translate}}</div><div class="account-number">{{account.accountNo | nrbIbanFilter}}</div></ui-select-choices></ui-select>'),a.put("templates/ebanking-shared/0.0.19/directives/ebInsurancePaymentTypeSelect/ebInsurancePaymentTypeSelect.html",'<ui-select eb-themable search-enabled="false" theme="select2" on-select="selectPaymentType($item, $model)"><ui-select-match placeholder="{{::placeholder | translate}}">{{getSelectedDescription($select.selected)}}</ui-select-match><ui-select-choices class="block-choices" repeat="type.model as type in paymentTypes"><div ng-if="labelOrder == \'typeLast\'">{{insurancePaymentTypesKey + type.key | translate}}&nbsp;-&nbsp;{{type.model}}</div><div ng-if="labelOrder == \'typeFirst\'">{{type.model}}&nbsp;-&nbsp;{{insurancePaymentTypesKey + type.key | translate}}</div></ui-select-choices></ui-select>'),a.put("templates/ebanking-shared/0.0.19/directives/ebInsuranceTemplateLink/ebInsuranceTemplateLink.html",'<div><div class="insurance-template-link"><span class="insurance-template-icon-link" ng-class="{\'insurance-template-active\' : ebFormData.formModel.transferFromTemplate || modalIsActive}" ng-click="goToInsuranceTemplateModal()"><a href="javascript:void(0)"><i eb-themable class="eb-icon eb-icon-template"></i><span eb-msg="{{ebText.link}}"></span></a></span></div></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebInsuranceTemplateModal/ebInsuranceTemplateModal.html",'<div class="insurance-template-dialog"><eb-dialog eb-title="{{text.title}}" eb-on-close="close()"><div class="dialog-details-content"><form name="form" novalidate><div class="dialog"><div class="dialog-subtitle" eb-msg="{{text.subtitle}}"></div><div eb-insurance-template-select name="templateSelect" ng-model="formData.template" payment-type="{{paymentType}}" eb-accept="accept()" model="formData" placeholder="{{text.placeholder}}" ng-required="true"></div></div></form></div></eb-dialog></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebInsuranceTemplateSelect/ebInsuranceTemplateSelect.html",'<div class="insurance-search-box"><div class="insurance-template"><input class="insurance-search-input" type="text" ng-model="searchText" placeholder="{{(templatesPromise && templatesPromise.$$state.status === 0) && (\'platform.component.template_select.placeholder.loading\' | translate) || (placeholder|translate)}}" autofocus></div><div class="insurance-search-hint"><ul class="insurance-search-hint-box" ng-show="filteredList.length > 0"><li class="insurance-search-hint-row" ng-repeat="template in filteredList = (templatesList | filter: {wrappedText: searchText})" ng-click="selectTemplate(template, $event)"><div class="template-name">{{template.templateName}}</div><div ng-if="paymentType != \'INSURANCE\'"><span ng-repeat="line in ::template.recipientAddress track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div><div><span ng-repeat="line in ::template.recipientName track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div><div class="template-description" ng-if="paymentType == \'INSURANCE\'"><span ng-repeat="line in ::template.title track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div></li></ul></div></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebLoginInfo/ebLoginInfo.html",'<div class="login-info" ng-show="userDetails!=null && !waitForData"><div class="login-name" ng-bind="(userDetails.firstName + \' \' + userDetails.lastName)"></div><span class="short-info"><div class="last-login-label"><span ng-if="correctLogonDate" eb-msg="db.layout.header.last_logon_correct">:</span><span ng-if="!correctLogonDate" eb-msg="">{{::\'db.layout.header.last_logon_incorrect\'|translate}}:</span></div><div class="last-login-value">&nbsp; <span ng-bind="(logonDate | longDateFilter | emptyFilter)"></span></div></span> <span class="full-info"><div class="last-login-label"><span eb-msg="db.layout.header.last_logon_correct"></span>:</div><div class="last-login-value" ng-if="lastCorrectLogonDate">&nbsp;<span ng-bind="(lastCorrectLogonDate | longDateFilter | emptyFilter)"></span></div><div class="last-login-value" ng-if="!lastCorrectLogonDate">&nbsp;-</div></span> <span class="full-info"><div class="last-login-label">{{::\'db.layout.header.last_logon_incorrect\'|translate}}:</div><div class="last-login-value" ng-if="lastIncorrectLogonDate">&nbsp;<span ng-bind="(lastIncorrectLogonDate | longDateFilter | emptyFilter)"></span></div><div class="last-login-value" ng-if="!lastIncorrectLogonDate">&nbsp;-</div></span></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebMobileOperatorSelect/ebMobileOperatorSelect.html",'<ui-select eb-themable search-enabled="false" ng-disabled="operatorsPromise && operatorsPromise.$$state.status === 0" theme="select2"><ui-select-match placeholder="{{(operatorsPromise && operatorsPromise.$$state.status === 0) && (\'platform.component.mobile_operator_select.placeholder.loading\' | translate) || (placeholder|translate)}}"><span>{{$select.selected.operatorName}}</span></ui-select-match><ui-select-choices class="block-choices" repeat="operator in operatorsList"><div ng-class="{\'selected-type\' : operator.operatorId == $select.selected.operatorId}">{{operator.operatorName}}</div></ui-select-choices></ui-select>'),a.put("templates/ebanking-shared/0.0.19/directives/ebPhoneNumberInput/ebPhoneNumberInput.html",'<div><input type="text" class="phone-number-input" placeholder="{{::placeholder|translate}}"></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebPrepaidSelect/ebPrepaidSelect.html",'<div class="select-searchbox"><div ui-select eb-themable close-on-select="true" reset-search-input="true" search-enabled="true" theme="select2" name="topupSelect"><div ui-select-match placeholder="{{::placeholder|translate}}"><div ng-switch="$select.selected.amountType"><span ng-switch-when="DISCRETE"><div eb-amount amount="$select.selected.valueDiscrete" currency="{{ebCurrency}}"></div></span> <span ng-switch-when="INTERVAL"><div eb-amount class="topup-amount-range" amount="$select.selected.valueFrom" currency="{{ ebCurrency }}"></div>&nbsp;-&nbsp;<div eb-amount class="topup-amount-range" amount="$select.selected.valueTo" currency="{{ebCurrency}}"></div></span></div></div><div ui-select-choices class="block-choices" repeat="prepaid in prepaidTopupOptions | filter: $select.search"><div ng-switch="prepaid.amountType"><span ng-switch-when="DISCRETE"><div eb-amount amount="prepaid.valueDiscrete" currency="{{ebCurrency}}"></div></span> <span ng-switch-when="INTERVAL"><div eb-amount class="topup-amount-range" amount="prepaid.valueFrom" currency="{{ebCurrency}}"></div>&nbsp;-&nbsp;<div eb-amount class="topup-amount-range" amount="prepaid.valueTo" currency="{{ebCurrency}}"></div></span></div><div class="months">{{::\'db.prepaid.new.step1.range.outgoing\'|translate}}: {{ prepaid.outAvailabilityValue }} <span eb-variety-msg key="\'platform.component.prepaid.select.range.\' + prepaid.outAvailabilityType" count="prepaid.outAvailabilityValue"></span> | {{::\'db.prepaid.new.step1.range.incoming\'|translate}}: {{ prepaid.inAvailabilityValue }} <span eb-variety-msg key="\'platform.component.prepaid.select.range.\' + prepaid.inAvailabilityType" count="prepaid.inAvailabilityValue"></span></div></div></div></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebRecipientNameInput/ebRecipientNameInput.html",'<div><input type="text" placeholder="{{::placeholder|translate}}" class="template-name-input" name="{{ebName}}" ng-model="ngModel" ng-required="true"></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebRecipientSelect/ebRecipientSelect-payment.html",'<div class="input-search-box"><div class="input-template"><input class="recipient-search-input" type="text" name="{{ebName}}" ng-model="searchingText" ng-required="ebRequired" ng-disabled="ebDisabled" placeholder="{{templatesList.length >= 6 && showHints ? (\'db.payments.new.step1.rexeipient.search.add_criteria\' | translate) : ebPlaceholder}}" ng-keyup="showHintsBox($event)" ng-blur="hideHintsBox($event)" maxlength="{{ebMaxLength}}" autocomplete="off"><div ng-click="openTemplateList(true)" ng-mousedown="stopBlurEvent($event)"><i eb-themable class="eb-icon eb-icon-template eb-date-input-icon" ng-class="{\'active-template-icon\': toggleTemplate && showHints || ebTemplateActive}"></i></div></div><div class="recipient-search-hint" ng-mousedown="stopBlurEvent()" ng-mouseup="startBlurEvent()"><ul class="recipient-search-hint-box" ng-show="filteredTemplatesList.length > 0 && showHints"><li class="recipient-search-hint-row" ng-repeat="template in filteredTemplatesList = (templatesList | filter : { wrappedText : searchingText } | limitTo : searchLimit)" ng-click="selectTemplate(template, $event)"><div class="template-name">{{template.templateName}}</div><div><span ng-repeat="line in ::template.recipientName track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div><div><span ng-repeat="line in ::template.title track by $index">{{line.length > 0 ? line : \'\\&nbsp\'}}</span></div></li></ul></div></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebRecipientSelect/ebRecipientSelect-prepaid.html",'<div class="input-search-box prepaid-search-box"><div class="input-template"><input class="recipient-search-input" type="text" name="{{ebName}}" ng-model="searchingText" ng-required="ebRequired" ng-disabled="ebDisabled" placeholder="{{templatesList.length >= 6 && showHints ? (\'db.payments.new.step1.rexeipient.search.add_criteria\' | translate) : ebPlaceholder}}" ng-keyup="showHintsBox($event)" ng-blur="hideHintsBox($event)" maxlength="{{ebMaxLength}}" autocomplete="off"><div ng-click="openTemplateList(true)" ng-mousedown="stopBlurEvent($event)"><i eb-themable class="eb-icon eb-icon-template eb-date-input-icon" ng-class="{\'active-template-icon\': toggleTemplate && showHints || ebTemplateActive}"></i></div></div><div class="recipient-search-hint" ng-mousedown="stopBlurEvent()" ng-mouseup="startBlurEvent()"><ul class="recipient-search-hint-box" ng-show="filteredTemplatesList.length > 0 && showHints"><li class="recipient-search-hint-row" ng-repeat="template in filteredTemplatesList = (templatesList | filter : { wrappedText : searchingText } | limitTo : searchLimit)" ng-click="selectTemplate(template, $event)"><div class="template-name">{{template.templateName}}</div><div class="prepaid-template-info">{{template.paymentDetails.prepaidPhoneNumber | phoneNoFilter}} | {{template.paymentDetails.network}}</div><eb-amount class="prepaid-template-amount" amount="template.amount" currency="{{ template.currency || \'PLN\'}}"></eb-amount></li></ul></div></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebSenderSelect/ebSenderSelect.html",'<div><ui-select ng-hide="ownersList.length === 1" ng-disabled="senderPromise && senderPromise.$$state.status === 0" eb-themable search-enabled="false" theme="select2"><ui-select-match placeholder="{{(senderPromise && senderPromise.$$state.status === 0) && (\'platform.component.sender_select.placeholder.loading\' | translate) || (placeholder|translate)}}">{{$select.selected.fullName || $select.selected.name}}</ui-select-match><ui-select-choices class="block-choices" repeat="owner.customerId as owner in ownersList"><div>{{owner.fullName || owner.name}}</div></ui-select-choices></ui-select><div class="select-single-result" ng-show="ownersList.length === 1"><span>{{ownersList[0].fullName || ownersList[0].name}}</span></div></div>'),a.put("templates/ebanking-shared/0.0.19/directives/ebSourceOfAssetsSelect/ebSourceOfAssetsSelect.html",'<ui-select ng-disabled="sourcesOfAssetsPromise && sourcesOfAssetsPromise.$$state.status === 0" eb-themable search-enabled="false" theme="select2" on-select="selectSourceOfAssets($item, $model)"><ui-select-match placeholder="{{(sourcesOfAssetsPromise && sourcesOfAssetsPromise.$$state.status === 0) && (\'platform.component.account_select.placeholder.loading\' | translate) || (placeholder|translate)}}"><span ng-if="sourcesOfAssetsPromise.$$state.status === 0">{{$select.placeholder}}</span> <span ng-if="sourcesOfAssetsPromise.$$state.status !== 0">{{\'platform.funds.transactions.assets_origin.\'+ $select.selected.sourceOfAssetsId | translate}}</span></ui-select-match><ui-select-choices class="block-choices" repeat="source.sourceOfAssetsId as source in sourcesOfAssetsList"><div>{{::\'platform.funds.transactions.assets_origin.\'+source.sourceOfAssetsId|translate}}</div></ui-select-choices></ui-select>'),a.put("templates/ebanking-shared/0.0.19/directives/ebTemplateNameInput/ebTemplateNameInput.html",'<div><input type="text" placeholder="{{::placeholder|translate}}" maxlength="35" class="template-name-input" name="{{ebName}}" ng-model="ngModel" ng-required="true"></div>')}]);