var dbnextCreditsModule=angular.module("dbnext-credits",["ebanking-shared"]).config(["translationsLoaderProvider","guiProvider","pathServiceProvider","stateServiceProvider","resourceViewServiceProvider",function(a,b,c,d,e){var f="de",g="dbnext",h="credits",i=g+"."+h,j=g+"-"+h,k=f+"."+h;webComponentRegistry[j].simpleName="credits",webComponentRegistry[j].startState=k+".content",b.registerElement(j),b.registerElement(j,"menu");var l={resourceType:"credit",linkTextKey:"db.credit.external_link.details",linkEntryState:k+".details"};e.registerResourceView(l),a.addTranslationsPath(c.generateRootPath(j)+"/i18n/messages_{{language}}.json"),d.state(f,{url:"/"+f,"abstract":!0,template:"<div ui-view></div>"}).state(k,{url:"/"+h,"abstract":!0,templateUrl:c.generateTemplatePath(j)+"/views/creditsView.html",controller:i+".ViewController"}).state(k+".content",{url:"/content",templateUrl:c.generateTemplatePath(j)+"/views/creditsContent.html",controller:i+".ContentController"}).state(k+".schedule",{url:"/:id/schedule",templateUrl:c.generateTemplatePath(j)+"/views/creditsSchedule.html",controller:i+".ScheduleController",previous:[k+".content"]}).state(k+".details",{url:"/:id/details",templateUrl:c.generateTemplatePath(j)+"/views/creditsDetails.html",controller:i+".DetailsController",previous:[k+".content",f+".calendar.details"]}).state(k+".repayment",{url:"/:id/repayment",templateUrl:c.generateTemplatePath(j)+"/views/creditsRepayment.html",controller:i+".RepaymentController","abstract":!0}).state(k+".repayment.step1",{url:"/form",templateUrl:c.generateTemplatePath(j)+"/views/creditsRepaymentStep1.html",controller:i+".RepaymentStep1Controller",previous:[k+".content",k+".repayment.step2"]}).state(k+".repayment.step2",{url:"/accept",templateUrl:c.generateTemplatePath(j)+"/views/creditsRepaymentStep2.html",controller:i+".RepaymentStep2Controller",previous:[k+".repayment.step1"]})}]).run(["$rootScope","$state",function(a,b){a.$on("$stateChangeStart",function(a,c,d,e,f){var g=e.name,h=c.name;""!=g&&angular.isDefined(c.previous)&&c.previous.indexOf(g)==-1&&(a.preventDefault(),h.indexOf(webComponentRegistry["dbnext-credits"].simpleName)!=-1&&b.go(webComponentRegistry["dbnext-credits"].startState))})}]);dbnextCreditsModule.controller("dbnext.credits.ContentController",["$scope","$rootScope","$log","viewStateService","creditsService","creditsScheduleService","gate","$timeout","customerProductService","$state","$stateParams","searchWrapperService","domService","$filter",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.$parent.selected={},a.creditList=null,a.filterOptions={title:""};var o=function(){a.creditList.content=a.creditList.content.map(function(a){return angular.extend(a,l.wrapCreditFields(a))})};d.resetAllStates(),a.creditsPromise=e.search({pageSize:1e4}).then(function(b){a.creditList=b,o(),p()},function(b){c.error("Error getting credit list"),a.creditList=[]}),a.isCollapsed=!0,a.schedulePromises=[],a.getCreditScheduleShort=function(b,c){var d={pageNumber:1,pageSize:3,id:b.creditId,schedulePeriodEntryType:"CURRENT"};a.schedulePromises[c]=f.search(d).then(function(a){b.scheduleShort=a.content})},a.setCaretPosition=m.setCaretPosition,a.$watch("filterOptions.title",function(a,b){""==a&&""==b||(o(),p())});var p=function(){if(null!=a.creditList){a.creditList.summary=[];var b=n("filter")(a.creditList.content,{wrappedText:a.filterOptions.title});a.creditList.summary.push(b)}}}]),dbnextCreditsModule.controller("dbnext.credits.DetailsController",["$stateParams","$log","$rootScope","$scope","$state","creditsService","pathService","$filter","initialState","domService",function(a,b,c,d,e,f,g,h,i,j){if(d.selectedCredit=i,d.selected={},null!=i){var k=i.creditId;null==k&&null!=i.id&&(k=i.id),d.creditDetailsPromise=f.get(k).then(function(a){d.details=a},function(a){b.error("Error getting credit details"),d.details=null})}else e.go("de.credits.content");d.setCaretPosition=j.setCaretPosition}]),dbnextCreditsModule.controller("dbnext.credits.RepaymentController",function(){}),dbnextCreditsModule.controller("dbnext.credits.RepaymentStep1Controller",["$scope","initialState","viewStateService","$state","translate","creditsService","userService","$timeout","formService","accountsService","$q",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){a.currentObject.repayment.dispositionId=b,c.setInitialState("de.credits.repayment.step2",a.currentObject),d.go("de.credits.repayment.step2")}if(a.currentObject={},null!=b){var m=b.nextInstallmentAmount+b.outstandingLiabilitiesAmount-b.overpaymentAmount;if(null!=b.repayment&&null!=b.repayment.amount&&(m=b.repayment.amount),null!=b.selectedCredit)a.currentObject=b,a.currentObject.repayment.diffCurrencyConfirmation=!1,a.currentObject.repayment.amount=m,a.currentObject.repayment.intent="realize";else{a.currentObject.selectedCredit=b;var n=[],o=e.property("db.credits.payment.title");o.length<=35?n[0]=o:(n[0]=o.substring(0,35),o.length>35&&(n[1]=o.substring(35,70)),o.length>70&&(n[2]=o.substring(70,105)),o.length>105&&(n[3]=o.substring(105,140))),a.currentObject.repayment=angular.extend({},{areRegulationsAccepted:!1,remitterId:null,creditName:b.creditName,accountNo:b.accountNo,amount:parseFloat(m)>0?parseFloat(m).toFixed(2):null,currency:b.currency,execDate:new Date,description:n,diffCurrencyConfirmation:!1})}}h(function(){a.$watch("currentObject.repayment.remitterAccountId",function(b,c){a.repaymentForm.accountSelectScope&&(a.repaymentForm.diffCurrencyConfirmation||a.currentObject.repayment.diffCurrencyConfirmation)&&(a.repaymentForm.accountSelectScope.$pristine&&a.repaymentForm.diffCurrencyConfirmation.$pristine||(a.currentObject.repayment.diffCurrencyConfirmation=!1)),a.repaymentForm.amount.$setValidity("transfer.amount.error.exceeds.available.funds.for.agreement",!0),null!=b&&b.length>0&&j.get(b,{fields:"ownersList"}).then(function(b){var c=b.ownersList.filter(function(a,b,c){return"OWNER"===a.relationType});null!=c&&1===c.length?a.currentObject.repayment.remitterId=c[0].customerId:a.currentObject.repayment.remitterId=a.userDetails.userIdentityId.id})})}),a.userDetails={},g.getUserDetails().then(function(b){a.userDetails=b}),a.submit=function(b){return b.$valid?f.creditRepayment(a.currentObject.selectedCredit,a.currentObject.repayment).then(function(a){return l(a.content),a},function(a){return console.log("Transfer wasn't created",a),k.reject(a)}):(i.dirtyFields(b),k.reject(b.$valid))}}]),dbnextCreditsModule.controller("dbnext.credits.RepaymentStep2Controller",["$scope","initialState","staticFind","paymentsService","notificationService","viewStateService","$state","accountsService","transferService","translate",function(a,b,c,d,e,f,g,h,i,j){a.isCartIntent=!1,a.getAccount=function(a){return h.getAccountById(a)},null!=f.getInitialState(g.current.name)?(a.currentDisp=f.getInitialState(g.current.name),"add_to_cart"===a.currentDisp.repayment.intent&&(a.isCartIntent=!0),a.selectedAccount=a.getAccount(a.currentDisp.repayment.remitterAccountId),a.auth={}):g.go("de.credits.content"),a.accept=function(){e.showPaymentAcceptedDialog()},a.change=function(){return f.setInitialState("de.credits.repayment.step1",angular.copy(a.currentDisp)),g.go("de.credits.repayment.step1",{currentObject:a.currentDisp})},a.paymentPromise=d.get(a.currentDisp.repayment.dispositionId).then(function(b){a.paymentDetails=b,a.text={auth_method:"db.payments.new.step2.row.auth.label.",no_auth_required:"db.payments.new.step2.row.auth.no_authorization_required",tan_validate_required:"db.payments.new.step2.row.auth.tan.validate.required",sms_validate_required:"db.payments.new.step2.row.auth.sms.validate.required",token_validate_required:"db.payments.new.step2.row.auth.token.validate.required",error_code_validate:"db.config.auth.error_code.validate."}}),a.accept=function(){return a.errorCode=null,d.action({authenticationAttemptId:a.auth.authenticationAttemptId,credentials:a.auth.credentials,transferId:a.currentDisp.repayment.dispositionId},"realize",a.paymentDetails).then(function(){var b={fields:"id,amount,status,currency,lastRealizationDesc"};return d.get(a.currentDisp.repayment.dispositionId,b).then(function(a){f.resetAllStates(),g.go("de.credits.content"),e.showCardRepaymenttAcceptedDialog({text:{title:"db.credits.modal.title",message:"db.credits.modal.message",confirmAction:"db.credits.modal.confirm_action"},state:{dashboard:"de.dashboard"}})})},function(b){var c=/([a-zA-Z])/;a.errorCode=c.test(b.text)?"":b.text})},a.save=function(){return d.action({},"save_in_cart",a.paymentDetails).then(function(){f.resetAllStates(),e.showDispositionBasketInsertDialog({text:{},state:{dashboard:"de.dashboard"}})})}}]),dbnextCreditsModule.controller("dbnext.credits.ScheduleController",["$scope","$state","$log","creditsScheduleService","searchWrapperService","initialState","creditsService","$filter",function(a,b,c,d,e,f,g,h){if(!angular.isDefined(f)||null==f)return void b.go("de.credits.content");a.selectedCredit=f,a.creditParams={schedulePeriodEntryType:"CURRENT"},a.creditParams.id=a.selectedCredit.creditId,a.schedulePromise=d.search({id:f.creditId,schedulePeriodEntryType:"CURRENT"}).then(function(b){a.creditParams.pageNumber=b.pageNumber,a.creditParams.pageSize=b.pageSize,a.scheduleList=b,i()},function(b){c.error("Error getting credit schedule"),a.scheduleList=[]}),a.filterOptions={query:""};var i=function(){a.scheduleList.content=a.scheduleList.content.map(function(a){return angular.extend(a,e.wrapScheduleText(a))})};a.accList=!0,a.$watch("filterOptions.query",function(){null!=a.scheduleList&&(a.accList=h("filter")(a.scheduleList.content,a.filterOptions.query).length>0)}),a.submit=function(b,d,e){if(angular.isDefined(b))return a.loading=!0,void 0!==d&&null!=d&&(a.creditParams.pageNumber=d.pageNumber,void 0!==d.operationType&&(a.creditParams.schedulePeriodEntryType=d.operationType)),a.schedulePromise=g.relationSearch(b,a.creditParams,e).then(function(b){a.scheduleList=b,a.creditParams.pageNumber=b.pageNumber,a.creditParams.pageSize=b.pageSize,i()},function(b){c.error("Error getting credit schedule"),a.scheduleList=[]}),a.schedulePromise}}]),dbnextCreditsModule.controller("dbnext.credits.ViewController",["$scope","gate","userService",function(a,b,c){}]),dbnextCreditsModule.directive("dbCreditScheduleFiltr",["$compile","ebTheming","$rootScope","$timeout","$log","$http","$templateCache","pathService","accountsService","$state","$filter","$window","formService","translate",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return{restrict:"EA",replace:!0,transclude:!0,scope:{ngModel:"=",context:"=",callback:"&"},templateUrl:h.generateTemplatePath("dbnext-credits")+"/directives/dbCreditScheduleFiltr/dbCreditScheduleFiltr.html",link:function(a,c,d){b.applyTheme(c),a.typeList=[{value:"ALL",key:n.property("db.credit.credit_repayments.type.all"),disp:n.property("db.credit.credit_repayments.type.all")},{value:"CURRENT",key:n.property("db.credit.credit_repayments.type.current"),disp:n.property("db.credit.credit_repayments.type.current")},{value:"PAST",key:n.property("db.credit.credit_repayments.type.past"),disp:n.property("db.credit.credit_repayments.type.past")}],a.ngModel={operationType:a.typeList[1].value,creditParams:{schedulePeriodEntryType:a.typeList[1].value}},a.submitFilter=function(b){return angular.element(document.querySelector(":focus")).triggerHandler("blur"),a.ngModel.creditParams.schedulePeriodEntryType=a.ngModel.operationType,a.callback({ctx:a.context,params:a.ngModel})}}}}]),dbnextCreditsModule.controller("dbnext.credits.MenuElementController",["$scope","$rootScope",function(a,b){a.isStateActive=b.isStateActive}]),dbnextCreditsModule.controller("dbnext.credits.WidgetElementController",["$scope","$rootScope","creditsService","pathService",function(a,b,c,d){a.params={pageNumber:1,pageSize:5},a.creditsPromise=c.search().then(function(b){a.creditList=b,a.$broadcast("dataLoaded")}),a.widgetContent=d.generateTemplatePath("dbnext-credits")+"/elements/widget/credits-widgetElementViewContent.html",a.submit=function(a,b,d){if(angular.isDefined(a))return c.relationSearch(a,b,d).then(function(a){return a})}}]),angular.module("dbnext-credits").run(["$templateCache",function(a){a.put("templates/dbnext-credits/0.0.16/directives/dbCreditScheduleFiltr/dbCreditScheduleFiltr.html",'<div class="db-acc-transaction-filter"><form name="scheduleFilterForm" novalidate><div><div eb-themable class="list-filter"><div class="transaction-filter-container"><div class="account-filter-padding-detail"><eb-responsive-row label="db.credit.repayment.filter.label.type"><eb-select-type placeholder-key="transaction.filter.placeholder.type" list="typeList" ng-model="ngModel.operationType"></eb-select-type></eb-responsive-row><eb-action-footer submit-label="transaction.filter.label.button" submit-action="submitFilter(scheduleFilterForm)"></eb-action-footer></div></div></div></div></form></div>'),a.put("templates/dbnext-credits/0.0.16/elements/menu/credits-menuElementView.html",'<li ng-class="{\'active\': isStateActive(\'de.credits\')}" ng-controller="dbnext.credits.MenuElementController" ui-sref="de.credits.content"><span eb-themable class="eb-icon eb-ico-widget-credits"></span> <span eb-msg="credits.title"></span></li>'),a.put("templates/dbnext-credits/0.0.16/elements/widget/credits-widgetElementView.html",'<span ng-controller="dbnext.credits.WidgetElementController" ng-cloak><span db-lay-tile miniapp-name="dbnext-credits" product-count="{{creditList.totalElements}}"><eb-slide-widget content="{{widgetContent}}" items="creditList" max-indicators="10" eb-items-promise="creditsPromise" eb-update="submit(ctx, params, rel)"></eb-slide-widget><div ng-if="creditsPromise.$$state.status === 1 && creditList.content.length == 0" class="widget-content"><div class="widget-content-inner info-text">{{::\'db.credits.widget.empty_list.marketing_info\'|translate}}<br><a href="{{::\'db.credits.widget.empty_list.link_url\'|translate}}" target="_blank" ng-click="$event.stopPropagation()">{{::\'db.credits.widget.empty_list.link_name\'|translate}}</a></div></div></span></span>'),a.put("templates/dbnext-credits/0.0.16/elements/widget/credits-widgetElementViewContent.html",'<div class="widget-content"><span class="widget-name">{{item.customerProductData.customName || item.creditName}}</span><div><eb-item-property label="db.credits.widget.next_rate" class="widget-summary value-left"><eb-amount amount="item.nextInstallmentAmount" currency="{{item.currency}}"></eb-amount></eb-item-property><eb-item-property label="db.credits.next_rate_date" class="widget-summary value-right"><span style="font-size: 15px; font-weight: 300">{{item.nextInstallmentDate | dateFilter | emptyFilter}}</span></eb-item-property></div></div>'),a.put("templates/dbnext-credits/0.0.16/views/creditsContent.html",'<span ng-show="creditList.content.length > 0"><eb-mini-bar class="eb-container-padding-off" search-text="filterOptions.title" eb-search-placeholder="{{::\'db.credits.filter.options.title.placeholder\'|translate}}" eb-disable-add="true"></eb-mini-bar></span><eb-list eb-themable class="credits product-list" eb-promise="creditsPromise"><eb-list-item class="credits-row" ng-repeat="credit in creditList.content | filter: {wrappedText : filterOptions.title}"><eb-list-item-content eb-list-item-collapse-trigger on-open="getCreditScheduleShort(credit)" is-collapsed="credit.isCollapsed"><div class="identification-cell" ng-class="{\'edit-mode\': credit.visible}"><div id="editableDiv" class="productName" eb-editable-name eb-editable-model="credit" customer-product-data="credit.customerProductData" placeholder-text="{{credit.creditName}}" ng-click="setCaretPosition(credit.visible, $index); $event.stopPropagation()"></div><div class="productNo">{{credit.accountNo | nrbIbanFilter}}</div></div><!-- no whitespace fix--><div class="actions-cell" ng-class="{\'edit-mode\': credit.visible}"><div class="default-desktop-option"><a ui-sref="^.details" store-context="credit" ng-click="$event.stopPropagation()"><span eb-msg="db.credits.options.details"></span></a></div><div class="options" ng-click="$event.stopPropagation()"><div eb-list-options><li><a class="option-row" ui-sref="^.schedule" store-context="credit"><span eb-themable class="eb-icon eb-ico-transaction-history options-icon"></span> <span class="option-label" eb-msg="db.credits.options.schedule"></span></a></li><li class="option-hidden-when-desktop"><a class="option-row" ui-sref="^.details" store-context="credit"><span eb-themable class="eb-icon eb-ico-details options-icon"></span> <span class="option-label" eb-msg="db.credits.options.details"></span></a></li><li><a class="option-row" ui-sref="^.repayment.step1" store-context="credit"><span eb-themable class="eb-icon eb-ico-new-payment options-icon"></span> <span class="option-label" eb-msg="db.credits.options.repayment"></span></a></li></div></div></div><!-- no whitespace fix--><div class="properties-group-cell"><div class="secondary-property-cell"><eb-item-property label="db.credits.next_rate_date">{{credit.nextInstallmentDate | dateFilter | emptyFilter}}</eb-item-property></div><!-- no whitespace to fix 2 x 50%--><div class="primary-property-cell"><eb-item-property label="db.credits.next_rate"><eb-amount amount="credit.nextInstallmentAmount" currency="{{credit.currency}}"></eb-amount></eb-item-property></div></div></eb-list-item-content><eb-collapse class="credit-list-details" is-collapsed="credit.isCollapsed" on-open="getCreditScheduleShort(credit, $index)" ng-click="$event.stopPropagation()"><div eb-list-details><div eb-list-details-item key="db.credits.remained_amount_bnm" class="collapse-details-item"><eb-amount amount="credit.unmaturedCapitalAmount" currency="{{credit.currency}}"></div><div eb-list-details-item key="db.credits.interest_rate" class="collapse-details-item"><eb-percentage value="credit.interestRate"></eb-percentage></div><div eb-list-details-item key="db.credits.overdue_liabilities" class="collapse-details-item"><eb-amount amount="credit.outstandingLiabilitiesAmount" currency="{{credit.outstandingLiabilitiesCurrency}}"></div><div eb-list-details-item key="db.credits.overpayment_amount" class="collapse-details-item"><eb-amount amount="credit.overpaymentAmount" currency="{{credit.overpaymentCurrency}}"></div></div><div eb-list-subtable eb-promise="schedulePromises[$index]" show-content="credit.scheduleShort.length > 0"><div class="subtable-header"><span class="last-transactions">{{::\'db.credits.schedule.header\'|translate}}</span><span ui-sref="de.credits.schedule" store-context="credit" class="subtable-link">{{::\'db.credits.schedule.link\'|translate}} ></span></div><div eb-list-subtable-row ng-repeat="scheduleItem in credit.scheduleShort | limitTo:3"><div class="date-property-cell">{{scheduleItem.scheduleDate | date : \'dd.MM.yyyy\'}}</div><div class="amount-property-cell"><eb-amount amount="scheduleItem.scheduleAmount" currency="{{credit.currency}}"></eb-amount></div></div></div></eb-collapse></eb-list-item><div class="miniapp-empty-list" ng-if="creditList.length == 0">{{::"db.credits.list_data_error"|translate}}</div><div class="miniapp-empty-list" ng-if="creditList.summary[0].length == 0">{{::"db.credits.label.empty_list"|translate}}</div></eb-list>'),a.put("templates/dbnext-credits/0.0.16/views/creditsDetails.html",'<div eb-themable><eb-section-header eb-header="db.credits.details.header" eb-description="{{details.customerProductData.customName || details.creditName}}" back-state="de.credits.content"></eb-section-header><div class="details-body" ng-if="details != null"><eb-responsive-row key label="db.credits.details.account_no">{{details.accountNo | nrbIbanFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row key label="db.credits.details.account_currency">{{details.currency | emptyFilter}}</eb-responsive-row><eb-responsive-row key label="db.credits.details.credit_type">{{details.creditName | emptyFilter}}</eb-responsive-row><eb-responsive-row key label="db.credits.details.custom_name" ng-class="{\'edit-mode\': credit.visible}"><div id="editableDiv" class="creditName" eb-editable-name customer-product-data="details.customerProductData" eb-editable-model="details" placeholder-text="{{ details.creditName}}" ng-click="setCaretPosition(details.visible)"></div></eb-responsive-row><eb-responsive-row key label="db.credits.details.initial_balance"><eb-amount amount="details.creditAmount" currency="{{ details.currency}}"></eb-amount></eb-responsive-row><eb-responsive-row key label="db.credits.details.unrequired_cap"><eb-amount amount="details.unmaturedCapitalAmount" currency="{{ details.currency }}"></eb-amount></eb-responsive-row><eb-responsive-row key label="db.credits.details.next_instalment"><eb-amount amount="details.nextInstallmentAmount" currency="{{ details.currency }}"></eb-amount></eb-responsive-row><eb-responsive-row key label="db.credits.details.next_instalment_rate">{{details.nextInstallmentDate | dateFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row key label="db.credits.details.overpayment"><eb-amount amount="details.overpaymentAmount" currency="{{ details.overpaymentCurrency }}"></eb-amount></eb-responsive-row><eb-responsive-row key label="db.credits.details.outs_liab"><eb-amount amount="details.outstandingLiabilitiesAmount" currency="{{ details.outstandingLiabilitiesCurrency }}"></eb-amount></eb-responsive-row><eb-responsive-row key label="db.credits.details.interest"><eb-percentage value="details.interestRate"></eb-percentage></eb-responsive-row><eb-responsive-row key label="db.credits.details.acc_open_date">{{details.openDate | dateFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row key label="db.credits.details.term_date">{{details.closeDate | dateFilter | emptyFilter}}</eb-responsive-row><eb-responsive-row key label="db.credits.details.label.owner_status"><span eb-msg-var key="db.credits.role.type" variable="details.customerProductData.relationType"></span>,&nbsp;<span eb-msg-var key="db.credits.access.type" variable="details.customerProductData.relationStatus"></span></eb-responsive-row><eb-responsive-row top key label="db.credits.details.acc_owners"><div ng-repeat="owner in ownerList = (details.ownersList | filter: { relationType: \'OWNER\' })"><span>{{owner.name}}</span></div><span ng-show="ownerList.length == 0">—</span></eb-responsive-row><eb-responsive-row top key label="db.credits.details.proxy"><div ng-repeat="proxy in proxyList = (details.ownersList | filter: { relationType: \'PROXY\' })"><span>{{proxy.name}}</span></div><span ng-show="proxyList.length == 0">—</span></eb-responsive-row></div><div class="miniapp-empty-list" ng-if="details == null && creditDetailsPromise.$$state.status != 0">{{::\'db.credits.list_data_error\'|translate}}</div></div>'),a.put("templates/dbnext-credits/0.0.16/views/creditsRepayment.html",'<div class="eb-credit-repayment"><eb-content-navigation></eb-content-navigation><div><div id="form-views" ui-view autoscroll="true" div></div></div></div>'),a.put("templates/dbnext-credits/0.0.16/views/creditsRepaymentStep1.html",'<div class="eb-repayment-step1"><eb-section-header eb-header="db.credits.repayment.header" back-state="de.credits.content"></eb-section-header><form name="repaymentForm" novalidate><div class="form-body form-body-step1"><eb-responsive-row top label="db.credits.repayment.step1.loan_to_repay" class="relaxed-label"><div ng-show="currentObject.selectedCredit.customerProductData.customName != null && currentObject.selectedCredit.customerProductData.customName.length > 0">{{ currentObject.selectedCredit.customName }}</div><div ng-hide="currentObject.selectedCredit.customerProductData.customName == null || currentObject.selectedCredit.customerProductData.customName.length <= 0">{{ currentObject.selectedCredit.creditName }}</div><div>{{ currentObject.selectedCredit.accountNo | nrbIbanFilter }}</div></eb-responsive-row><eb-responsive-row label="db.credits.repayment.step1.accountSelect"><eb-account-select ng-model="currentObject.repayment.remitterAccountId" name="accountSelectScope" ng-required="true" placeholder="{{::\'db.credits.repayment.step1.account_select.placeholder\'|translate}}"></eb-account-select>{{accountSelect}}<eb-validation-messages eb-name="accountSelectScope"><div eb-message-key="required"><span eb-msg="db.credits.repayment.step1.account_select.placeholder"></span></div><div eb-message-key="contract.contractId.no.permission"><span eb-msg="db.credits.repayment.step1.account_select.validate.passive_access"></span></div><div eb-message-key="transfer.remitterAccountId.error.lack.of.access.in.active.mode"><span eb-msg="db.credits.repayment.step1.account_select.validate.passive_access"></span></div></eb-validation-messages></eb-responsive-row><div eb-responsive-row label="db.credits.repayment.step1.amount" label-for="amount"><div eb-input-amount eb-name="amount" eb-currency-model="{{currentObject.repayment.currency}}" ng-model="currentObject.repayment.amount" eb-form="repaymentForm" account-id="{{currentObject.repayment.remitterAccountId}}" eb-min-amount="0.01" eb-missing-amount-msg="{{::\'db.credits.repayment.step1.amount.validate.required\'|translate}}" eb-required="true" account-id="{{currentObject.repayment.remitterAccountId}}"></div><div eb-validation-messages eb-name="amount"><div eb-message-key="transfer.amount.error.exceeds.available.funds.for.agreement"><span eb-msg="db.credits.repayment.validate.accessible_assets_fault"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.user"><span eb-msg="db.credits.repayment.validate.exceeds_daily_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.user"><span eb-msg="db.credits.repayment.validate.exceeds_single_limit_for_user"></span></div><div eb-message-key="transfer.amount.error.exceeds.daily.limit.for.agreement"><span eb-msg="db.credits.repayment.validate.exceeds_daily_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error.exceeds.single.limit.for.agreement"><span eb-msg="db.credits.repayment.validate.exceeds_single_limit_for_agreement"></span></div><div eb-message-key="transfer.amount.error_amount_exceeds_max_amount_for_elixir"><span eb-msg="db.credits.repayment.validate.exceeds_max_amount_for_elixir"></span></div><div eb-message-key="transfer_order.amount.DecimalMin"><span eb-msg="db.credits.repayment.validate.decimal_min"></span></div><div eb-message-key="transfer_order.amount.DecimalMax"><span eb-msg="db.credits.repayment.validate.decimal_max"></span></div></div></div><div collapse="!(repaymentForm.accountSelectScope.$viewValue.currency && currentObject.repayment.currency!=repaymentForm.accountSelectScope.$viewValue.currency)"><div eb-responsive-row class="regulations-text"><eb-checkbox eb-name="diffCurrencyConfirmation" eb-model="currentObject.repayment.diffCurrencyConfirmation" eb-required="(repaymentForm.accountSelectScope.$viewValue.currency && currentObject.repayment.currency!=repaymentForm.accountSelectScope.$viewValue.currency)" style="display: inline-block" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false" ng-class="{\'eb-checkbox-hover\' : isCheckboxHover}"></eb-checkbox><span class="regulations-checkbox-label" ng-click="currentObject.repayment.diffCurrencyConfirmation = !currentObject.repayment.diffCurrencyConfirmation" eb-msg="db.credits.repayment.step1.diff_currency_confirmation" ng-mouseenter="isCheckboxHover = true" ng-mouseleave="isCheckboxHover = false"></span><eb-validation-messages eb-name="diffCurrencyConfirmation"><div eb-message-key="required">{{::\'db.credits.repayment.step1.diff_currency_confirmation.validate.required\'|translate}}</div></eb-validation-messages></div></div><div eb-action-footer submit-label="db.credits.repayment.step1.accept" submit-icon="eb-ico-widget-payments" submit-action="submit(repaymentForm)"></div></div></form></div>'),a.put("templates/dbnext-credits/0.0.16/views/creditsRepaymentStep2.html",'<div class="eb-repayment-step2 step2 inner-form-padding center-form"><div class="panel-details"><eb-section-header eb-header="db.credits.repayment.header" back-state="de.credits.content"></eb-section-header><div ng-show="paymentPromise.$$state.status === 1"><div class="form-body form-body-step2"><eb-responsive-row top label="db.credits.repayment.step2.loan_to_repay.name.label" class="relaxed-label"><div ng-show="currentDisp.selectedCredit.customerProductData.customName != null && currentDisp.selectedCredit.customerProductData.customName.length > 0">{{ currentDisp.selectedCredit.customName }}</div><div ng-hide="currentDisp.selectedCredit.customerProductData.customName == null || currentDisp.selectedCredit.customerProductData.customName.length <= 0">{{ currentDisp.selectedCredit.creditName }}</div><div>{{ currentDisp.selectedCredit.accountNo | nrbIbanFilter }}</div></eb-responsive-row><eb-responsive-row top label="db.credits.repayment.step2.account.label" class="relaxed-label">{{ selectedAccount.accountNo | nrbIbanFilter }}</eb-responsive-row><eb-responsive-row class="new-payment-step2-amount" label="db.credits.repayment.step2.amount.label" label-class="new-payment-label"><eb-amount amount="currentDisp.repayment.amount" currency="{{ currentDisp.repayment.currency }}"></eb-amount></eb-responsive-row></div><div class="shaded-section with-data"><eb-responsive-row label="db.credits.details.row.execution_date"><div>{{paymentDetails.realizationDate | amDateFormat : \'DD.MM.YYYY\'}}</div><div ng-show="paymentDetails.realizationDateShiftReason != null">{{paymentDetails.realizationDateShiftReason}}</div></eb-responsive-row><eb-responsive-row label="db.credits.repayment.step2.delivery_date.label">{{paymentDetails.deliveryDate | date : \'dd.MM.yyyy\' | emptyFilter}}</eb-responsive-row><eb-responsive-row ng-class="{\'last-row\' : !isAuthorization}" label="db.credits.repayment.step2.execution_fee.label"><div ng-repeat="oneCharge in paymentDetails.charges track by $index"><span><eb-amount amount="oneCharge.amount" currency="{{oneCharge.currency}}" style="display: inline-block !important"></eb-amount><span>&nbsp; - &nbsp;{{oneCharge.description}}</span> <span ng-show="oneCharge.bonusCount > 0">({{oneCharge.bonusCount}}&nbsp;<span eb-variety-msg key="\'db.credits.details.row.execution_fee\'" count="oneCharge.bonusCount"></span>)</span></span></div></eb-responsive-row><form name="authForm" novalidate><div eb-authorization eb-model="auth" eb-disposition-id="currentDisp.id" eb-resource-type="payments" eb-relation="realize" eb-error-code="{{errorCode}}" eb-text="text" eb-form="authForm" is-shown="isAuthorization" eb-show-sms-auth-no="true" eb-disabled="false" eb-required="true"></div><div eb-action-footer ng-show="!isCartIntent" class="additional-option" cancel-label="db.payments.new.step2.action_footer.cancel_label" submit-label="db.payments.new.step2.action_footer.submit_label" cancel-action="change()" submit-action="accept(authForm)"></div><div eb-action-footer ng-show="isCartIntent" cancel-label="db.credit.repayment.step2.action_footer.cart_cancel_label" submit-label="db.credit.repayment.step2.action_footer.cart_submit_label" cancel-action="change()" submit-action="save()"></div></form></div></div><div eb-preloader eb-promise="paymentPromise" class="eb-preloader-default" eb-rejected-message="{{::\'db.payments.accept.rejected_response\'|translate}}"></div></div></div>'),a.put("templates/dbnext-credits/0.0.16/views/creditsSchedule.html",'<div eb-themable><eb-section-header eb-header="db.credits.schedule.header" eb-description="{{selectedCredit.customerProductData.customName || selectedCredit.creditName}}" back-state="de.credits.content"></eb-section-header><eb-mini-bar search-text="filterOptions.query" eb-search-placeholder="{{::\'db.credits.schedule.filter.options.placeholder\'|translate}}" eb-disable-add="true"></eb-mini-bar><div eb-filter-control show-filter="showFilter"></div><div ng-show="showFilter"><db-credit-schedule-filtr ng-model="filterParams" context="scheduleList" callback="submit(ctx, params)"></db-credit-schedule-filtr></div><eb-list class="credit-history time-based-list" eb-promise="schedulePromise"><eb-list-item class="row" ng-repeat="scheduleItem in scheduleList.content | filter:{wrappedText : filterOptions.query}"><eb-list-item-content class="item-content-without-actions"><div class="date-cell cell_1_in_2">{{scheduleItem.scheduleDate | date : \'dd.MM.yyyy\'}}</div><!-- no whitespace fix--><div class="amount-property-cell cell_2_in_2"><eb-amount amount="scheduleItem.scheduleAmount" currency="{{selectedCredit.currency}}"></eb-amount></div></eb-list-item-content><eb-collapse is-collapsed="scheduleItem.isCollapsed"><eb-list-details><eb-list-details-item key="db.credits.schedule.amount.capital"><eb-amount amount="scheduleItem.capitalAmount" currency="{{selectedCredit.currency}}"></eb-amount></eb-list-details-item><eb-list-details-item key="db.credits.schedule.amount.interest"><eb-amount amount="scheduleItem.interestAmount" currency="{{selectedCredit.currency}}"></eb-amount></eb-list-details-item></eb-list-details></eb-collapse></eb-list-item><div class="miniapp-empty-list" ng-if="scheduleList.content.length == 0">{{::"db.credits.schedule.list.empty"|translate}}</div><div class="miniapp-empty-list" ng-if="scheduleList.length == 0">{{::"db.credits.list_data_error"|translate}}</div></eb-list><div ng-show="schedulePromise.$$state.status === 1"><eb-pagination eb-data="scheduleList" eb-params="creditParams" eb-loading="loading" eb-pagination-count="5" scroll-to="credit-history" callback="submit(ctx, params, rel)"></eb-pagination></div></div>'),
a.put("templates/dbnext-credits/0.0.16/views/creditsView.html",'<eb-full-screen-widget miniapp-name="credits"><div class="credits"><div><div><eb-screen-content><div ui-view autoscroll="true"></div></eb-screen-content></div></div></div></eb-full-screen-widget>')}]);